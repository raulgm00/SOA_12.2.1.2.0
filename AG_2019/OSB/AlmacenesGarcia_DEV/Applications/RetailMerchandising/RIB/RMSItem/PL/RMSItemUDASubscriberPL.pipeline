<?xml version="1.0" encoding="UTF-8"?>
<con:pipelineEntry xmlns:con="http://www.bea.com/wli/sb/pipeline/config">
    <con:coreEntry>
        <con:binding type="Any XML"/>
        <con:xqConfiguration>
            <con:snippetVersion>1.0</con:snippetVersion>
        </con:xqConfiguration>
    </con:coreEntry>
    <con:router>
        <con:pipeline name="_onErrorHandler-N53efece6.1a55a4fd.c.16b7c364694.N7ff1" type="error">
            <con:stage name="stage1">
                <con:context/>
                <con:actions>
                    <con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.3.16b7af4e8cf.N7fe2</con2:id>
                        <con1:logLevel>error</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$fault</con:xqueryText>
                        </con1:expr>
                        <con1:message>[CREATE RMS ITEM] No es posible procesar mensaje RIB de artículo</con1:message>
                    </con1:log>
                    <con1:reply isError="false" xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N53efece6.N2aba4b37.5.16b93bfaad1.N8000</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="PipelinePairNode1_response" type="response"/>
        <con:pipeline name="_onErrorHandler-N53efece6.1a55a4fd.7.16b7b134b64.N7fec" type="error">
            <con:stage name="stage1">
                <con:context/>
                <con:actions>
                    <con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.0.16b7a991296.N7fd7</con2:id>
                        <con1:logLevel>error</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$fault</con:xqueryText>
                        </con1:expr>
                        <con1:message>[FALLO CREATE ITEM_RMS_DIRECT] No es posible leer datos de mensaje RIB</con1:message>
                    </con1:log>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="_onErrorHandler-N53efece6.1a55a4fd.b.16b7b389fc8.N7ff3" type="error">
            <con:stage name="stage1">
                <con:context/>
                <con:actions>
                    <con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.b.16b7b389fc8.N7ff2</con2:id>
                        <con1:logLevel>error</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$fault</con:xqueryText>
                        </con1:expr>
                        <con1:message>[CREATE RMS ITEM] No es posible procesar mensaje RIB de artículo</con1:message>
                    </con1:log>
                    <con1:reply isError="false" xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N53efece6.N2aba4b37.5.16b93bfaad1.N7ffe</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="_onErrorHandler-N53efece6.1a55a4fd.2.16b7af4443f.N7fef" type="error">
            <con:stage name="stage1">
                <con:context/>
                <con:actions>
                    <con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.4.16b7af5cf99.N7ff4</con2:id>
                        <con1:logLevel>error</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$fault</con:xqueryText>
                        </con1:expr>
                        <con1:message>[CREATE RMS ITEM] No es posible procesar mensaje RIB de artículo</con1:message>
                    </con1:log>
                    <con1:reply isError="false" xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N53efece6.N2aba4b37.5.16b93bfaad1.N7fff</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="PipelinePairNode1_request" type="request">
            <con:stage name="stage3" errorHandler="_onErrorHandler-N53efece6.1a55a4fd.7.16b7b134b64.N7fec">
                <con:context>
                    <con1:userNsDecl prefix="v1" namespace="http://www.oracle.com/retail/integration/base/bo/VendorOUDesc/v1" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="v11" namespace="http://www.oracle.com/retail/integration/base/bo/StoreDesc/v1" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.5.16b7af668f1.N7ff1</con2:id>
                        <con1:logLevel>warning</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$body</con:xqueryText>
                        </con1:expr>
                        <con1:message>[RMS_RIB_ITEM_UDA_MESSAGE]</con1:message>
                    </con1:log>
                </con:actions>
            </con:stage>
            <con:stage name="stage1" errorHandler="_onErrorHandler-N53efece6.1a55a4fd.2.16b7af4443f.N7fef" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                <con:context>
                    <con2:varNsDecl prefix="v1" namespace="http://www.oracle.com/retail/integration/base/bo/VendorOUDesc/v1"/>
                    <con2:varNsDecl prefix="v11" namespace="http://www.oracle.com/retail/integration/base/bo/StoreDesc/v1"/>
                </con:context>
                <con:actions>
                    <con3:assign varName="xmlData">
                        <con2:id>_ActionId-N53efece6.N2aba4b37.3.16b9348ee26.N8000</con2:id>
                        <con3:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn-bea:inlinedXML(
fn:replace(fn:replace(fn:replace(data($body//*:messageData), '&amp;lt;', '&lt;' ),'&amp;gt;', '>' ), '&amp;quot;', '"')

)</con:xqueryText>
                        </con3:expr>
                    </con3:assign>
                    <con1:log>
                        <con2:id>_ActionId-N53efece6.N2aba4b37.2.16b93307ac7.N7ffc</con2:id>
                        <con1:logLevel>warning</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$xmlData</con:xqueryText>
                        </con1:expr>
                        <con1:message>[RMS_RIB_ITEM_UDA_XML_DATA]</con1:message>
                    </con1:log>
                    <con3:assign varName="ribMessageFamily">
                        <con2:id>_ActionId-N53efece6.1a55a4fd.9.16b7b2fd71b.N8000</con2:id>
                        <con3:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($body//*:ribMessage/*:family)</con:xqueryText>
                        </con3:expr>
                    </con3:assign>
                    <con:assign varName="ribMessageType" xmlns:con="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id xmlns:con1="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.9.16b7b2fd71b.N7fff</con1:id>
                        <con:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($body//*:ribMessage/*:type)</con:xqueryText>
                        </con:expr>
                    </con:assign>
                    <con:assign varName="ribMessageID" xmlns:con="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id xmlns:con1="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.9.16b7b2fd71b.N7ffe</con1:id>
                        <con:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($body//*:ribMessage/*:ribmessageID)</con:xqueryText>
                        </con:expr>
                    </con:assign>
                    <con3:assign varName="modifyAction">
                        <con2:id>_ActionId-N53efece6.1a55a4fd.9.16b7b2fd71b.N7ffc</con2:id>
                        <con3:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:true()</con:xqueryText>
                        </con3:expr>
                    </con3:assign>
                    <con3:assign varName="applyAction">
                        <con2:id>_ActionId-N53efece6.1a55a4fd.9.16b7b2fd71b.N7ffb</con2:id>
                        <con3:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:true()</con:xqueryText>
                        </con3:expr>
                    </con3:assign>
                    <con3:ifThenElse>
                        <con2:id>_ActionId-N53efece6.N2aba4b37.3.16b9348ee26.N7ffd</con2:id>
                        <con3:case>
                            <con3:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'ItemUPCCre' = $ribMessageType</con:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="itemId">
                                    <con2:id>_ActionId-N53efece6.N2aba4b37.2.16b93307ac7.N7ff9</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($xmlData//*:item_id)</con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                                <con3:assign varName="itemLevel">
                                    <con2:id>_ActionId-N53efece6.N2aba4b37.4.16b9371f1c7.N7fff</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">xs:integer(3)</con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                                <con3:assign varName="tranLevel">
                                    <con2:id>_ActionId-N53efece6.N2aba4b37.3.16b9348ee26.N7ff8</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">xs:integer(2)</con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                                <con3:assign varName="itemParentId">
                                    <con2:id>_ActionId-N53efece6.N2aba4b37.3.16b9348ee26.N7ff7</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($xmlData//*:item_parent)</con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                            </con3:actions>
                        </con3:case>
                        <con3:default>
                            <con3:assign varName="itemLevel">
                                <con2:id>_ActionId-N53efece6.N2aba4b37.4.16b9371f1c7.N8000</con2:id>
                                <con3:expr>
                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($xmlData//*:item_level)</con:xqueryText>
                                </con3:expr>
                            </con3:assign>
                            <con3:assign varName="itemId">
                                <con2:id>_ActionId-N53efece6.N2aba4b37.3.16b9348ee26.N7ffc</con2:id>
                                <con3:expr>
                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($xmlData//*:item)</con:xqueryText>
                                </con3:expr>
                            </con3:assign>
                            <con3:assign varName="tranLevel">
                                <con2:id>_ActionId-N53efece6.N2aba4b37.3.16b9348ee26.N7ff9</con2:id>
                                <con3:expr>
                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($xmlData//*:tran_level)</con:xqueryText>
                                </con3:expr>
                            </con3:assign>
                            <con3:assign varName="itemParentId">
                                <con2:id>_ActionId-N53efece6.N2aba4b37.4.16b9371f1c7.N7ffe</con2:id>
                                <con3:expr>
                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($xmlData//*:item_parent)</con:xqueryText>
                                </con3:expr>
                            </con3:assign>
                        </con3:default>
                    </con3:ifThenElse>
                    <con1:report>
                        <con2:id>_ActionId-N53efece6.1a55a4fd.9.16b7b2fd71b.N7ff9</con2:id>
                        <con2:disabled>true</con2:disabled>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$xmlData</con:xqueryText>
                        </con1:expr>
                        <con1:labels>
                            <con1:key>ItemId</con1:key>
                            <con1:varName>itemId</con1:varName>
                            <con1:value>
                                <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                            </con1:value>
                        </con1:labels>
                        <con1:labels>
                            <con1:key>ItemTranLevel</con1:key>
                            <con1:varName>tranLevel</con1:varName>
                            <con1:value>
                                <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                            </con1:value>
                        </con1:labels>
                        <con1:labels>
                            <con1:key>ItemItemLevel</con1:key>
                            <con1:varName>itemLevel</con1:varName>
                            <con1:value>
                                <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                            </con1:value>
                        </con1:labels>
                        <con1:labels>
                            <con1:key>MessageType</con1:key>
                            <con1:varName>body</con1:varName>
                            <con1:value>
                                <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">//*:ribMessage/*:family</con:xpathText>
                            </con1:value>
                        </con1:labels>
                        <con1:labels>
                            <con1:key>MessageFamily</con1:key>
                            <con1:varName>body</con1:varName>
                            <con1:value>
                                <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">//*:ribMessage/*:family</con:xpathText>
                            </con1:value>
                        </con1:labels>
                    </con1:report>
                    <con:log xmlns:con="http://www.bea.com/wli/sb/stages/logging/config">
                        <con1:id xmlns:con1="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.9.16b7b2fd71b.N7ff8</con1:id>
                        <con:logLevel>warning</con:logLevel>
                        <con:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:concat(' ___________ MessageFamily=', $ribMessageFamily, '::MessageType=',$ribMessageType, '::ITEM_ID=', $itemId, '::TRANLEV=', $tranLevel,'::ITEMLEV=', $itemLevel, ' __________')</con:xqueryText>
                        </con:expr>
                        <con:message>[RIB:ITEM_UDA&lt;EVENT INFO DATA>]</con:message>
                    </con:log>
                </con:actions>
            </con:stage>
            <con:stage name="stage2" errorHandler="_onErrorHandler-N53efece6.1a55a4fd.2.16b7af4443f.N7ff0">
                <con:context/>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.5.16b7af668f1.N7fff</con2:id>
                        <con1:case>
                            <con1:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">xs:integer($itemLevel) = xs:integer($tranLevel)</con:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="itemType">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.9.16b7b2fd71b.N7ff0</con2:id>
                                    <con1:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'SKU'</con:xqueryText>
                                    </con1:expr>
                                </con1:assign>
                            </con1:actions>
                        </con1:case>
                        <con1:case>
                            <con1:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">xs:integer($itemLevel) &lt; xs:integer($tranLevel)</con:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="itemType">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.4.16b7af5cf99.N7ffe</con2:id>
                                    <con1:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'Style'</con:xqueryText>
                                    </con1:expr>
                                </con1:assign>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="itemType">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.5.16b7af668f1.N7ffe</con2:id>
                                <con1:expr>
                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'UPC'</con:xqueryText>
                                </con1:expr>
                            </con1:assign>
                        </con1:default>
                    </con1:ifThenElse>
                </con:actions>
            </con:stage>
            <con:stage name="stage12" errorHandler="_onErrorHandler-N53efece6.1a55a4fd.b.16b7b389fc8.N7ff3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                <con:context>
                    <con2:varNsDecl prefix="v1" namespace="http://www.oracle.com/retail/integration/base/bo/VendorOUDesc/v1"/>
                    <con2:varNsDecl prefix="v11" namespace="http://www.oracle.com/retail/integration/base/bo/StoreDesc/v1"/>
                </con:context>
                <con:actions>
                    <con3:ifThenElse>
                        <con2:id>_ActionId-N53efece6.1a55a4fd.0.16b7a991296.N7ff3</con2:id>
                        <con3:case>
                            <con3:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'ItemCre' = $ribMessageType</con:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="modifyAction">
                                    <con2:id>_ActionId-N53efece6.1a55a4fd.0.16b7a991296.N7ff2</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:false()</con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                                <con3:assign varName="serviceRequestPayload">
                                    <con2:id>_ActionId-N53efece6.1a55a4fd.b.16b7b389fc8.N7fee</con2:id>
                                    <con2:disabled>true</con2:disabled>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[<cre:createItemRequest xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ags="http://mx.agarcia.ea/Commons/Schemas/AGStandardHeader" xmlns:cre="http://mx.agarcia.ea/Applications/JDA/Items/CreateItem" xmlns:v1="http://mx.agarcia.ea/Canonical/Commons/Items/v1" xmlns:v11="http://mx.agarcia.ea/Canonical/Commons/Suppliers/v1">
            <v1:item>
                <v1:id Type="{$itemType}">{$itemId}</v1:id>
                <v1:internalID>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:item_parent)}</v1:internalID>
                <v1:internalType>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:item_number_type)}</v1:internalType>
                <v1:name>{data($xmlData//*:ItemHdrDesc/*:item_desc)}</v1:name>
                <v1:status AppCode="RMS">
                    <v1:code>{data($xmlData//*:ItemHdrDesc/*:status)}</v1:code>
                </v1:status>
                <v1:description>{data($xmlData//*:ItemHdrDesc/*:item_desc)}</v1:description>
                <v1:shortDescription>{data($xmlData//*:ItemHdrDesc/*:short_desc)}</v1:shortDescription>

                <v1:countryOfOrigin CountryCode="MX" CountryName="Mexico">MX</v1:countryOfOrigin>
                <v1:itemHierarchyInfo>
                    <v1:hierarchy Type="Brand" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:brand)}</v1:id>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Division" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:division)}</v1:id>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Department" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:dept)}</v1:id>
                        <v1:name>{data($xmlData//*:ItemHdrDesc/*:dept_name)}</v1:name>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Class" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:class)}</v1:id>
                        <v1:name>{data($xmlData//*:ItemHdrDesc/*:class_name)}</v1:name>
                    </v1:hierarchy>
                    <v1:hierarchy Type="SubClass" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:subclass)}</v1:id>
                        <v1:name>{data($xmlData//*:ItemHdrDesc/*:sub_name)}</v1:name>
                    </v1:hierarchy>
                </v1:itemHierarchyInfo>

                <v1:price/>
                <v1:cost>{data($xmlData//*:ItemSupCtyDesc/*:unit_cost)}</v1:cost>

                <v1:itemDetailInfo>
                    <v1:attributes>
                        <v1:attribute Type="Consumer" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=1]/*:uda_id)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="Furnishing" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=2]/*:uda_id)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="Expiration" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=3]/*:uda_id)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="WeekFloorSale" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=4]/*:uda_id)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="Classification" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=5]/*:uda_id)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="Family" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=6]/*:uda_id)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="Priority" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=7]/*:uda_id)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="Sticker" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=8]/*:uda_id)}</v1:id>
                        </v1:attribute>
                    

                        <v1:attribute Type="StandardUOM" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemHdrDesc/*:standard_uom)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="MerchandiseInd" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemHdrDesc/*:merchandise_ind)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="StoreOrderMult" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemHdrDesc/*:store_ord_mult)}</v1:id>
                        </v1:attribute>

                        <v1:attribute Type="InventoryInd" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemHdrDesc/*:inventory_ind)}</v1:id>
                        </v1:attribute>
                    </v1:attributes>

                    <v1:colorGroup  AppCode="OracleRMS">
                        <v1:id/>
                    </v1:colorGroup>

                    <v1:sizeGroup  AppCode="OracleRMS">
                        <v1:id/>
                    </v1:sizeGroup>
                    
                    <v1:colors>
                        <v1:color Type="{data($xmlData//*:ItemHdrDesc/*:diff_1_type)}" AppCode="OracleRMS">
                            <v1:code>{data($xmlData//*:ItemHdrDesc/*:diff_1)}</v1:code>
                        </v1:color>
                    </v1:colors>
                    
                    <v1:sizes>
                        <v1:size Type="{data($xmlData//*:ItemHdrDesc/*:diff_2_type)}" AppCode="OracleRMS">
                            <v1:code>{data($xmlData//*:ItemHdrDesc/*:diff_2)}</v1:code>
                        </v1:size>
                    </v1:sizes>
                    
                    <v1:supplier StatusCode="Active">
                        <v11:supplierID>{data($xmlData//*:ItemSupDesc/*:supplier)}</v11:supplierID>
                        <v11:description/>
                        <v11:shortDescription/>
                    </v1:supplier>
                    
                    <v1:sellableInd>{data($xmlData//*:ItemHdrDesc/*:sellable_ind)}</v1:sellableInd>
                    <v1:orderableInd>{data($xmlData//*:ItemHdrDesc/*:orderable_ind)}</v1:orderableInd>
                    <v1:unitRetail>{data($xmlData//*:ItemHdrDesc/*:unit_retail)}</v1:unitRetail>
                </v1:itemDetailInfo>              
                
                <v1:catalogs>
                    <v1:catalog Type="CostZoneGroup" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:cost_zone_group_id)}</v1:id>
                    </v1:catalog>
                </v1:catalogs>
                
                <v1:itemLevel>{$itemLevel}</v1:itemLevel>
                <v1:tranLevel>{$tranLevel}</v1:tranLevel>
                
                <v1:parent>
                        <v1:id Type='Style'>{$itemParentId}</v1:id>
                </v1:parent>

              

                <v1:images>
                    <v1:itemImage>
                        <v1:code>{data($xmlData//*:ItemImageDesc/*:image_type)}</v1:code>
                        <v1:name>{data($xmlData//*:ItemImageDesc/*:image_name)}</v1:name>
                        <v1:url>{data($xmlData//*:ItemImageDesc/*:image_addr)}</v1:url>
                    </v1:itemImage>
                </v1:images>
                
            </v1:item>
    </cre:createItemRequest>]]></con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                                <con3:ifThenElse>
                                    <con2:id>_ActionId-N53efece6.60951989.e.16bbaf28fb0.N7fff</con2:id>
                                    <con3:case>
                                        <con3:condition>
                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:string-length(data($xmlData//*:ItemUDALOVDesc[./*:uda_id=8]/*:uda_value)) = 0</con:xqueryText>
                                        </con3:condition>
                                        <con3:actions>
                                            <con3:assign varName="sticker">
                                                <con2:id>_ActionId-N53efece6.60951989.7.16bb3b38b12.N7ffa</con2:id>
                                                <con3:expr>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">1</con:xqueryText>
                                                </con3:expr>
                                            </con3:assign>
                                        </con3:actions>
                                    </con3:case>
                                    <con3:default>
                                        <con3:assign varName="sticker">
                                            <con2:id>_ActionId-N53efece6.60951989.9.16bb3badca4.N7ff5</con2:id>
                                            <con3:expr>
                                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">2</con:xqueryText>
                                            </con3:expr>
                                        </con3:assign>
                                    </con3:default>
                                </con3:ifThenElse>
                                <con3:assign varName="serviceRequestPayload">
                                    <con2:id>_ActionId-N53efece6.N14258493.f.16ba000817d.N8000</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[<cre:createItemRequest xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ags="http://mx.agarcia.ea/Commons/Schemas/AGStandardHeader" xmlns:cre="http://mx.agarcia.ea/Applications/JDA/Items/CreateItem" xmlns:v1="http://mx.agarcia.ea/Canonical/Commons/Items/v1" xmlns:v11="http://mx.agarcia.ea/Canonical/Commons/Suppliers/v1">
<v1:items>
            <v1:item>
                <v1:id Name="RMS" Type="{$itemType}">{$itemId}</v1:id>
                <v1:internalID>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:item_parent)}</v1:internalID>
                <v1:internalType>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:item_number_type)}</v1:internalType>
                <v1:name>{data($xmlData//*:ItemHdrDesc/*:item_desc)}</v1:name>
                <v1:status AppCode="RMS">
                    <v1:code>{data($xmlData//*:ItemHdrDesc/*:status)}</v1:code>
                </v1:status>
                <v1:description>{data($xmlData//*:ItemHdrDesc/*:item_desc)}</v1:description>
                <v1:shortDescription>{data($xmlData//*:ItemHdrDesc/*:short_desc)}</v1:shortDescription>

                <v1:countryOfOrigin CountryCode="MX" CountryName="Mexico">MX</v1:countryOfOrigin>
                <v1:itemHierarchyInfo>
                    <v1:hierarchy Type="Brand" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:brand)}</v1:id>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Division" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:division)}</v1:id>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Department" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:dept)}</v1:id>
                        <v1:name>{data($xmlData//*:ItemHdrDesc/*:dept_name)}</v1:name>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Class" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:class)}</v1:id>
                        <v1:name>{data($xmlData//*:ItemHdrDesc/*:class_name)}</v1:name>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Type" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:subclass)}</v1:id>
                        <v1:name>{data($xmlData//*:ItemHdrDesc/*:sub_name)}</v1:name>
                    </v1:hierarchy>
                </v1:itemHierarchyInfo>

                <v1:price>{data($xmlData//*:ItemHdrDesc/*:unit_retail)}</v1:price>
                <v1:cost>{data($xmlData//*:ItemSupCtyDesc[1]/*:unit_cost)}</v1:cost>

                <v1:itemDetailInfo>
                  

                    <v1:colorGroup  AppCode="OracleRMS">
                       <v1:id/>
                    </v1:colorGroup>

                    <v1:sizeGroup   AppCode="OracleRMS">
                        <v1:id/>
                    </v1:sizeGroup>
                    
                    <v1:colors>
                        <v1:color Type="{data($xmlData//*:ItemHdrDesc/*:diff_1_type)}" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemHdrDesc/*:diff_1)}</v1:id>
                        </v1:color>
                    </v1:colors>
                    
                    <v1:sizes>
                        <v1:size Type="{data($xmlData//*:ItemHdrDesc/*:diff_2_type)}" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:ItemHdrDesc/*:diff_2)}</v1:id>
                        </v1:size>
                    </v1:sizes>
                    
                    <v1:supplier StatusCode="Active">
                        <v11:supplierID>{data($xmlData//*:ItemSupDesc[1]/*:supplier)}</v11:supplierID>
                        <v11:description/>
                        <v11:shortDescription/>
                    </v1:supplier>
                    
                    <v1:sellableInd>{data($xmlData//*:ItemHdrDesc/*:sellable_ind)}</v1:sellableInd>
                    <v1:orderableInd>{data($xmlData//*:ItemHdrDesc/*:orderable_ind)}</v1:orderableInd>
                    <v1:unitRetail>{data($xmlData//*:ItemHdrDesc/*:unit_retail)}</v1:unitRetail>
                    <v1:packaging>{data($xmlData//*:ItemSupCtyDesc[1]/*:packing_method)}</v1:packaging>
                    <v1:brandOwner>{data($xmlData//*:ItemHdrDesc/*:brand)}</v1:brandOwner>



                </v1:itemDetailInfo>              
                
                <v1:catalogs>
				
		     <v1:catalog Type="Consumer" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=1]/*:uda_value)}</v1:id>
                    </v1:catalog>
                    <v1:catalog Type="Furnishing" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=2]/*:uda_value)}</v1:id>
                    </v1:catalog>
                    <v1:catalog Type="Expiration" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=3]/*:uda_value)}</v1:id>
                    </v1:catalog>
                    <v1:catalog Type="WeekFloorSale" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=4]/*:uda_value)}</v1:id>
                    </v1:catalog>
                    <v1:catalog Type="Classification" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=5]/*:uda_value)}</v1:id>
                    </v1:catalog>
                    <v1:catalog Type="Family" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=6]/*:uda_value)}</v1:id>
                    </v1:catalog>
                        <v1:catalog Type="Priority" AppCode="OracleRMS">
                    <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=7]/*:uda_value)}</v1:id>
                        </v1:catalog>
                    <v1:catalog Type="Sticker" AppCode="OracleRMS">
                        <v1:id>{$sticker}</v1:id>
                    </v1:catalog>

                        <v1:catalog Type="Concept" AppCode="OracleRMS">
                    <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=9]/*:uda_value)}</v1:id>
                        </v1:catalog>
                    

                    <v1:catalog Type="StandardUOM" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:standard_uom)}</v1:id>
                    </v1:catalog>
                    <v1:catalog Type="MerchandiseInd" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:merchandise_ind)}</v1:id>
                    </v1:catalog>
                    <v1:catalog Type="StoreOrderMult" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:store_ord_mult)}</v1:id>
                    </v1:catalog>
                    <v1:catalog Type="InventoryInd" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:inventory_ind)}</v1:id>
                     </v1:catalog>						
                    <v1:catalog Type="CostZoneGroup" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:ItemHdrDesc/*:cost_zone_group_id)}</v1:id>
                    </v1:catalog>
                </v1:catalogs>
                
                <v1:itemLevel>{$itemLevel}</v1:itemLevel>
                <v1:tranLevel>{$tranLevel}</v1:tranLevel>
                
                <v1:parent>
                        <v1:id Type='Style'>{$itemParentId}</v1:id>
                </v1:parent>



                <v1:children>
                        <v1:id Type='UPC'>{data($xmlData//*:ItemUPCDesc/*:item_id)}</v1:id>
                        <v1:internalType>{data($xmlData//*:ItemUPCDesc/*:item_number_type)}</v1:internalType>
                </v1:children>



                <v1:images>
                    <v1:itemImage>
                        <v1:code>{data($xmlData//*:ItemImageDesc/*:image_type)}</v1:code>
                        <v1:name>{data($xmlData//*:ItemImageDesc/*:image_name)}</v1:name>
                        <v1:url>{data($xmlData//*:ItemImageDesc/*:image_addr)}</v1:url>
                    </v1:itemImage>
                </v1:images>
                
            </v1:item>
</v1:items>
    </cre:createItemRequest>]]></con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                                <con3:ifThenElse>
                                    <con2:id>_ActionId-N53efece6.1a55a4fd.3.16b7af4e8cf.N7fe3</con2:id>
                                    <con2:disabled>true</con2:disabled>
                                    <con3:case>
                                        <con3:condition>
                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'Style' = $itemType</con:xqueryText>
                                        </con3:condition>
                                        <con3:actions>
                                            <con3:assign varName="serviceRequestPayload">
                                                <con2:id>_ActionId-N53efece6.1a55a4fd.b.16b7b389fc8.N7ff4</con2:id>
                                                <con3:expr>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soapenv:Body xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
              xmlns:cre="http://mx.agarcia.ea/Capabilities/Core/Items/CreateItemEntity"
              xmlns:v1="http://mx.agarcia.ea/Canonical/Commons/Items/v1"
              xmlns:v11="http://mx.agarcia.ea/Canonical/Commons/Suppliers/v1">
    <cre:createItemRequest>
        <cre:items>
            <v1:item>
                <v1:id Type="Style">{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:item)}</v1:id>
                <v1:internalID>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:item_parent)}</v1:internalID>
                <v1:internalType>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:item_number_type)}</v1:internalType>
                <v1:name>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:item_desc)}</v1:name>
                <v1:status AppCode="RMS">
                    <v1:code>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:status)}</v1:code>
                </v1:status>
                <v1:description>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:item_desc)}</v1:description>
                <v1:shortDescription>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:rt_desc)}</v1:shortDescription>

                <v1:countryOfOrigin CountryCode="MX" CountryName="Mexico">MX</v1:countryOfOrigin>
                <v1:itemHierarchyInfo>
                    <v1:hierarchy Type="Brand" AppCode="RMS">
                        <v1:id>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:brand)}</v1:id>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Division" AppCode="RMS">
                        <v1:id>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:ItemDesc/*:division)}</v1:id>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Department" AppCode="RMS">
                        <v1:id>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:dept)}</v1:id>
                        <v1:name>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:dept_name)}</v1:name>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Class" AppCode="RMS">
                        <v1:id>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:class)}</v1:id>
                        <v1:name>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:class_name)}</v1:name>
                    </v1:hierarchy>
                    <v1:hierarchy Type="SubClass" AppCode="RMS">
                        <v1:id>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:subclass)}</v1:id>
                        <v1:name>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:sub_name)}</v1:name>
                    </v1:hierarchy>
                </v1:itemHierarchyInfo>

                <v1:price/>
                <v1:cost>{data($xmlData//*:ItemSupCtyDesc/*:unit_cost)}</v1:cost>

                <v1:itemDetailInfo>
                    <v1:attributes>
                        <v1:attribute Type="UDA1" AppCode="RMS">
                            <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=1]/*:uda_id)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="UDA2" AppCode="RMS">
                            <v1:id>{data($xmlData//*:ItemUDALOVDesc[./*:uda_id=2]/*:uda_id)}</v1:id>
                        </v1:attribute>
                    

                        <v1:attribute Type="StandardUOM" AppCode="RMS">
                            <v1:id>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:standard_uom)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="MerchandiseInd" AppCode="RMS">
                            <v1:id>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:merchandise_ind)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="StoreOrderMult" AppCode="RMS">
                            <v1:id>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:store_ord_mult)}</v1:id>
                        </v1:attribute>

                        <v1:attribute Type="InventoryInd" AppCode="RMS">
                            <v1:id>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:inventory_ind)}</v1:id>
                        </v1:attribute>
                    </v1:attributes>

                    <v1:colorGroup  AppCode="RMS">
                        <v1:id/>
                    </v1:colorGroup>

                    <v1:sizeGroup  AppCode="RMS">
                        <v1:id/>
                    </v1:sizeGroup>
                    
                    <v1:colors>
                        <v1:color Type="{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:diff_1_type)}" AppCode="RMS">
                            <v1:id>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:diff_1)}</v1:id>
                        </v1:color>
                    </v1:colors>
                    
                    <v1:sizes>
                        <v1:size Type="{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:diff_2_type)}" AppCode="RMS">
                            <v1:id>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:diff_2)}</v1:id>
                        </v1:size>
                    </v1:sizes>
                    
                    <v1:supplier StatusCode="Active">
                        <v11:supplierID>{data($xmlData//*:ItemDesc/*:ItemSupDesc/*:supplier)}</v11:supplierID>
                        <v11:description/>
                        <v11:shortDescription/>
                    </v1:supplier>
                    
                    <v1:sellableInd>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:sellable_ind)}</v1:sellableInd>
                    <v1:orderableInd>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:orderable_ind)}</v1:orderableInd>
                    <v1:unitRetail>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:unit_retail)}</v1:unitRetail>
                </v1:itemDetailInfo>              
                
                <v1:catalogs>
                    <v1:catalog Type="CostZoneGroup" AppCode="RMS">
                        <v1:id>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:cost_zone_group_id)}</v1:id>
                    </v1:catalog>
                </v1:catalogs>
                
                <v1:itemLevel>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:item_level)}</v1:itemLevel>
                <v1:tranLevel>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:tran_level)}</v1:tranLevel>
                
                <v1:parent>
                    <v1:item>
                        <v1:id>{data($xmlData//*:ItemDesc/*:ItemHdrDesc/*:item_parent)}</v1:id>
                    </v1:item>
                </v1:parent>

                <v1:images>
                    <v1:itemImage>
                        <v1:code>{data($xmlData//*:ItemImageDesc/*:image_type)}</v1:code>
                        <v1:name>{data($xmlData//*:ItemImageDesc/*:image_name)}</v1:name>
                        <v1:url>{data($xmlData//*:ItemImageDesc/*:image_addr)}</v1:url>
                    </v1:itemImage>
                </v1:images>
                
            </v1:item>
        </cre:items>
    </cre:createItemRequest>
</soapenv:Body>]]></con:xqueryText>
                                                </con3:expr>
                                            </con3:assign>
                                        </con3:actions>
                                    </con3:case>
                                </con3:ifThenElse>
                            </con3:actions>
                        </con3:case>
                        <con3:case>
                            <con3:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'ItemHdrMod' = $ribMessageType</con:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="serviceRequestPayload">
                                    <con2:id>_ActionId-N53efece6.1a55a4fd.0.16b7a991296.N7ff0</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[<upd:updateItemRequest xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:upd="http://mx.agarcia.ea/Capabilities/Core/Items/UpdateItemEntity" xmlns:v1="http://mx.agarcia.ea/Canonical/Commons/Items/v1" xmlns:v11="http://mx.agarcia.ea/Canonical/Commons/Suppliers/v1">
         <upd:items>

              <v1:item>
                <v1:id Type="{$itemType}">{data($itemId)}</v1:id>
                <v1:internalID>{data($xmlData//*:item_parent)}</v1:internalID>
                <v1:internalType>{data($xmlData//*:item_number_type)}</v1:internalType>
                <v1:name>{data($xmlData//*:item_desc)}</v1:name>
                <v1:status AppCode="RMS">
                    <v1:code>{data($xmlData//*:status)}</v1:code>
                </v1:status>
                <v1:description>{data($xmlData//*:item_desc)}</v1:description>
                <v1:shortDescription>{data($xmlData//*:short_desc)}</v1:shortDescription>

                <v1:countryOfOrigin CountryCode="MX" CountryName="Mexico">MX</v1:countryOfOrigin>
                <v1:itemHierarchyInfo>
                    <v1:hierarchy Type="Brand" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:brand)}</v1:id>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Division" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:division)}</v1:id>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Department" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:dept)}</v1:id>
                        <v1:name>{data($xmlData//*:dept_name)}</v1:name>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Class" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:class)}</v1:id>
                        <v1:name>{data($xmlData//*:class_name)}</v1:name>
                    </v1:hierarchy>
                    <v1:hierarchy Type="Type" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:subclass)}</v1:id>
                        <v1:name>{data($xmlData//*:sub_name)}</v1:name>
                    </v1:hierarchy>
                </v1:itemHierarchyInfo>

                <v1:price/>
                <v1:cost>{data($xmlData//*:ItemSupCtyDesc/*:unit_cost)}</v1:cost>

                <v1:itemDetailInfo>


                    <v1:costZoneGroupId>{data($xmlData//*:cost_zone_group_id)}</v1:costZoneGroupId>
                    <v1:storeOrdMult>{data($xmlData//*:store_ord_mult)}</v1:storeOrdMult>

                    <v1:attributes>
                     

                        <v1:attribute Type="StandardUOM" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:standard_uom)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="MerchandiseInd" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:merchandise_ind)}</v1:id>
                        </v1:attribute>
                        <v1:attribute Type="StoreOrderMult" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:store_ord_mult)}</v1:id>
                        </v1:attribute>

                        <v1:attribute Type="InventoryInd" AppCode="OracleRMS">
                            <v1:id>{data($xmlData//*:inventory_ind)}</v1:id>
                        </v1:attribute>
                    </v1:attributes>

                    <v1:colorGroup  AppCode="RMS">
                        <v1:id/>
                    </v1:colorGroup>

                    <v1:sizeGroup  AppCode="RMS">
                        <v1:id/>
                    </v1:sizeGroup>
                    
                    <v1:colors>
                        <v1:color Type="{data($xmlData//*:diff_1_type)}" AppCode="OracleRMS">
                            <v1:code>{data($xmlData//*:diff_1)}</v1:code>
                        </v1:color>
                    </v1:colors>
                    
                    <v1:sizes>
                        <v1:size Type="{data($xmlData//*:diff_2_type)}" AppCode="OracleRMS">
                            <v1:code>{data($xmlData//*:diff_2)}</v1:code>
                        </v1:size>
                    </v1:sizes>
                    
                  
                    
                    <v1:sellableInd>{data($xmlData//*:sellable_ind)}</v1:sellableInd>
                    <v1:orderableInd>{data($xmlData//*:orderable_ind)}</v1:orderableInd>
                    <v1:unitRetail>{data($xmlData//*:unit_retail)}</v1:unitRetail>
                </v1:itemDetailInfo>              
                
                <v1:catalogs>
                    <v1:catalog Type="CostZoneGroup" AppCode="OracleRMS">
                        <v1:id>{data($xmlData//*:cost_zone_group_id)}</v1:id>
                    </v1:catalog>
                </v1:catalogs>
                
                <v1:itemLevel>{data($xmlData//*:item_level)}</v1:itemLevel>
                <v1:tranLevel>{data($xmlData//*:tran_level)}</v1:tranLevel>
                
                <v1:parent>
                        <v1:id Type='Style'>{$itemParentId}</v1:id>
                </v1:parent>

             
                
            </v1:item>
         </upd:items>
      </upd:updateItemRequest>]]></con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                            </con3:actions>
                        </con3:case>
                        <con3:case>
                            <con3:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'ItemUDALOVCre' = $ribMessageType</con:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="serviceRequestPayload">
                                    <con2:id>_ActionId-N53efece6.1a55a4fd.0.16b7a991296.N7fef</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[<sch:modifyRequest xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:sch="http://mx.agarcia.ea/Capabilities/Core/RetailStore/RetailStoreEntitySvc/Schema" xmlns:v1="http://mx.agarcia.ea/Canonical/Commons/RetailStore/v1" xmlns:v11="http://mx.agarcia.ea/Canonical/Commons/LocationsCommon/v1">
         <sch:modifyRetailStore>

            <v1:storeID Name="{data($xmlData//*:store_name3)}" Type="{data($xmlData//*:store_type)}">{data($xmlData//*:store)}</v1:storeID>

            <v1:name Language="?">{data($xmlData//*:store_name)}</v1:name>

            <v1:store>{data($xmlData//*:store)}</v1:store>
            <v1:store_name>{data($xmlData//*:store_name10)}</v1:store_name>

            <v1:store_type>{data($xmlData//*:store_type)}</v1:store_type>

            <v1:fax_number>{data($xmlData//*:fax_number)}</v1:fax_number>

            <v1:phone_number>{data($xmlData//*:phone_number)}</v1:phone_number>

            <v1:email>{data($xmlData//*:email)}</v1:email>

            <v1:store_open_date>{data($xmlData//*:store_open_date)}</v1:store_open_date>
            <v1:store_close_date>{data($xmlData//*:store_close_date)}</v1:store_close_date>

            <v1:address>

               <v11:addres PrimaryFlag="{data($xmlData//*:primary_addr_type_ind)}" TypeCode="Home" AddressType="Permanent">

                  <v11:addressLine TypeCode="{data($xmlData//*:addr_type)}" RelativeOrder="?">{data($xmlData//*:state_name)}</v11:addressLine>
                  <v11:City>{data($xmlData//*:city)}</v11:City>
                  <v11:territory TypeCode="{data($xmlData//*:state)}" >{data($xmlData//*:state_name)}</v11:territory>
                  <v11:postalCode>{data($xmlData//*:post)}</v11:postalCode>
                  <v11:country Code="{data($xmlData//*:country_id)}">{data($xmlData//*:country_name)}</v11:country>
                  <v11:fullAddress>{data($xmlData//*:state_name)}</v11:fullAddress>
                  <v11:add1>{data($xmlData//*:add_1)}</v11:add1>
                  <v11:add2>{data($xmlData//*:add_2)}</v11:add2>
                  <v11:add3>{data($xmlData//*:add_3)}</v11:add3>
                  <v11:addressType>{data($xmlData//*:state_name)}</v11:addressType>
                  <v11:territoryType>{data($xmlData//*:state_name)}</v11:territoryType>
               </v11:addres>
            </v1:address>

            <v1:detail>
               <v1:store_class>{data($xmlData//*:store_class)}</v1:store_class>
        
               <v1:store_mgr_name>{data($xmlData//*:store_mgr_name)}</v1:store_mgr_name>

               <v1:acquired_date>{data($xmlData//*:acquired_date)}</v1:acquired_date>

               <v1:remodel_date>{data($xmlData//*:stockholding_ind)}</v1:remodel_date>
               <v1:total_square_ft>{data($xmlData//*:total_square_ft)}</v1:total_square_ft>
               <v1:selling_square_ft>{data($xmlData//*:stockholding_ind)}</v1:selling_square_ft>

               <v1:linear_distance>{data($xmlData//*:stockholding_ind)}</v1:linear_distance>
               <v1:stockholding_ind>{data($xmlData//*:stockholding_ind)}</v1:stockholding_ind>

               <v1:channel_id>{data($xmlData//*:channel_id)}</v1:channel_id>
               <v1:store_format>{data($xmlData//*:store_format)}</v1:store_format>

               <v1:mall_name>{data($xmlData//*:mall_name)}</v1:mall_name>
               <v1:district>{data($xmlData//*:district_name)}</v1:district>
               <v1:transfer_zone>{data($xmlData//*:transfer_zone)}</v1:transfer_zone>

               <v1:default_wh>{data($xmlData//*:default_wh)}</v1:default_wh>
               <v1:stop_order_days>{data($xmlData//*:stop_order_days)}</v1:stop_order_days>
               <v1:start_order_days>{data($xmlData//*:start_order_days)}</v1:start_order_days>

               <v1:currency_code>{data($xmlData//*:currency_code)}</v1:currency_code>

               <v1:lang>{data($xmlData//*:lang)}</v1:lang>

               <v1:integrated_pos_ind>{data($xmlData//*:integrated_pos_ind)}</v1:integrated_pos_ind>
               <v1:duns_number>{data($xmlData//*:duns_number)}</v1:duns_number>
               <v1:duns_loc>{data($xmlData//*:duns_loc)}</v1:duns_loc>
               <v1:org_unit_id>{data($xmlData//*:org_unit_id)}</v1:org_unit_id>
               <v1:timezone_name>{data($xmlData//*:timezone_name)}</v1:timezone_name>
            </v1:detail>
      </sch:modifyRetailStore>

  </sch:modifyRequest>]]></con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                                <con3:assign varName="modifyAction">
                                    <con2:id>_ActionId-N53efece6.60951989.e.16bbaf28fb0.N7ffd</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:false()</con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                            </con3:actions>
                        </con3:case>
                        <con3:case>
                            <con3:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'ItemUDALOVDel' = $ribMessageType</con:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="serviceRequestPayload">
                                    <con2:id>_ActionId-N53efece6.1a55a4fd.4.16b7af5cf99.N7ffd</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[<sch:modifyRequest xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:sch="http://mx.agarcia.ea/Capabilities/Core/RetailStore/RetailStoreEntitySvc/Schema" xmlns:v1="http://mx.agarcia.ea/Canonical/Commons/RetailStore/v1" xmlns:v11="http://mx.agarcia.ea/Canonical/Commons/LocationsCommon/v1">
         <sch:modifyRetailStore>

            <v1:storeID Name="{data($xmlData//*:store_name3)}" Type="{data($xmlData//*:store_type)}">{data($xmlData//*:store)}</v1:storeID>

            <v1:name Language="?">{data($xmlData//*:store_name)}</v1:name>

            <v1:store>{data($xmlData//*:store)}</v1:store>
            <v1:store_name>{data($xmlData//*:store_name10)}</v1:store_name>

            <v1:store_type>{data($xmlData//*:store_type)}</v1:store_type>

            <v1:fax_number>{data($xmlData//*:fax_number)}</v1:fax_number>

            <v1:phone_number>{data($xmlData//*:phone_number)}</v1:phone_number>

            <v1:email>{data($xmlData//*:email)}</v1:email>

            <v1:store_open_date>{data($xmlData//*:store_open_date)}</v1:store_open_date>
            <v1:store_close_date>{data($xmlData//*:store_close_date)}</v1:store_close_date>

            <v1:address>

               <v11:addres PrimaryFlag="{data($xmlData//*:primary_addr_type_ind)}" TypeCode="Home" AddressType="Permanent">

                  <v11:addressLine TypeCode="{data($xmlData//*:addr_type)}" RelativeOrder="?">{data($xmlData//*:state_name)}</v11:addressLine>
                  <v11:City>{data($xmlData//*:city)}</v11:City>
                  <v11:territory TypeCode="{data($xmlData//*:state)}" >{data($xmlData//*:state_name)}</v11:territory>
                  <v11:postalCode>{data($xmlData//*:post)}</v11:postalCode>
                  <v11:country Code="{data($xmlData//*:country_id)}">{data($xmlData//*:country_name)}</v11:country>
                  <v11:fullAddress>{data($xmlData//*:state_name)}</v11:fullAddress>
                  <v11:add1>{data($xmlData//*:add_1)}</v11:add1>
                  <v11:add2>{data($xmlData//*:add_2)}</v11:add2>
                  <v11:add3>{data($xmlData//*:add_3)}</v11:add3>
                  <v11:addressType>{data($xmlData//*:state_name)}</v11:addressType>
                  <v11:territoryType>{data($xmlData//*:state_name)}</v11:territoryType>
               </v11:addres>
            </v1:address>

            <v1:detail>
               <v1:store_class>{data($xmlData//*:store_class)}</v1:store_class>
        
               <v1:store_mgr_name>{data($xmlData//*:store_mgr_name)}</v1:store_mgr_name>

               <v1:acquired_date>{data($xmlData//*:acquired_date)}</v1:acquired_date>

               <v1:remodel_date>{data($xmlData//*:stockholding_ind)}</v1:remodel_date>
               <v1:total_square_ft>{data($xmlData//*:total_square_ft)}</v1:total_square_ft>
               <v1:selling_square_ft>{data($xmlData//*:stockholding_ind)}</v1:selling_square_ft>

               <v1:linear_distance>{data($xmlData//*:stockholding_ind)}</v1:linear_distance>
               <v1:stockholding_ind>{data($xmlData//*:stockholding_ind)}</v1:stockholding_ind>

               <v1:channel_id>{data($xmlData//*:channel_id)}</v1:channel_id>
               <v1:store_format>{data($xmlData//*:store_format)}</v1:store_format>

               <v1:mall_name>{data($xmlData//*:mall_name)}</v1:mall_name>
               <v1:district>{data($xmlData//*:district_name)}</v1:district>
               <v1:transfer_zone>{data($xmlData//*:transfer_zone)}</v1:transfer_zone>

               <v1:default_wh>{data($xmlData//*:default_wh)}</v1:default_wh>
               <v1:stop_order_days>{data($xmlData//*:stop_order_days)}</v1:stop_order_days>
               <v1:start_order_days>{data($xmlData//*:start_order_days)}</v1:start_order_days>

               <v1:currency_code>{data($xmlData//*:currency_code)}</v1:currency_code>

               <v1:lang>{data($xmlData//*:lang)}</v1:lang>

               <v1:integrated_pos_ind>{data($xmlData//*:integrated_pos_ind)}</v1:integrated_pos_ind>
               <v1:duns_number>{data($xmlData//*:duns_number)}</v1:duns_number>
               <v1:duns_loc>{data($xmlData//*:duns_loc)}</v1:duns_loc>
               <v1:org_unit_id>{data($xmlData//*:org_unit_id)}</v1:org_unit_id>
               <v1:timezone_name>{data($xmlData//*:timezone_name)}</v1:timezone_name>
            </v1:detail>
      </sch:modifyRetailStore>

  </sch:modifyRequest>]]></con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                            </con3:actions>
                        </con3:case>
                        <con3:case>
                            <con3:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'ItemUPCCre' = $ribMessageType</con:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="serviceRequestPayload">
                                    <con2:id>_ActionId-N53efece6.1a55a4fd.c.16b7c364694.N7ff2</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[<cre:createItemRequest xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ags="http://mx.agarcia.ea/Commons/Schemas/AGStandardHeader" xmlns:cre="http://mx.agarcia.ea/Applications/JDA/Items/CreateItem" xmlns:v1="http://mx.agarcia.ea/Canonical/Commons/Items/v1" xmlns:v11="http://mx.agarcia.ea/Canonical/Commons/Suppliers/v1">
<v1:items>
            <v1:item>
                <v1:id  Name="RMS" Type="{$itemType}">{$itemId}</v1:id>
                <v1:internalID>{$itemId}</v1:internalID>
                <v1:internalType>{data($xmlData//*:item_number_type)}</v1:internalType>
                <v1:name>UPC {$itemId} RMS SKU {data($xmlData//*:item_parent)}</v1:name>
                <v1:status AppCode="OracleRMS">
                    <v1:code>A</v1:code>
                </v1:status>
                <v1:description>UPC {$itemId} FOR RMS SKU {data($xmlData//*:item_parent)}</v1:description>
                <v1:shortDescription>RMSUPC</v1:shortDescription>

                <v1:itemDetailInfo>
                    <v1:supplier StatusCode="Active">
                        <v11:supplierID>900</v11:supplierID>
                        <v11:description>no_data</v11:description>
                    </v1:supplier>
                </v1:itemDetailInfo>              
                
               
                <v1:itemLevel>{$itemLevel}</v1:itemLevel>
                <v1:tranLevel>{$tranLevel}</v1:tranLevel>
                
                <v1:parent>
                        <v1:id Type='SKU'>{$itemParentId}</v1:id>
                </v1:parent>

            </v1:item>
</v1:items>
    </cre:createItemRequest>]]></con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                                <con3:assign varName="modifyAction">
                                    <con2:id>_ActionId-N53efece6.60951989.e.16bbaf28fb0.N7ffe</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:false()</con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                            </con3:actions>
                        </con3:case>
                        <con3:default>
                            <con:log xmlns:con="http://www.bea.com/wli/sb/stages/logging/config">
                                <con1:id xmlns:con1="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.0.16b7a991296.N7fee</con1:id>
                                <con:logLevel>warning</con:logLevel>
                                <con:expr>
                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$body</con:xqueryText>
                                </con:expr>
                                <con:message>[RIB:ITEM &lt;EVENT:DESCONOCIDO>]</con:message>
                            </con:log>
                            <con3:assign varName="applyAction">
                                <con2:id>_ActionId-N53efece6.1a55a4fd.0.16b7a991296.N7fed</con2:id>
                                <con3:expr>
                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:false()</con:xqueryText>
                                </con3:expr>
                            </con3:assign>
                        </con3:default>
                    </con3:ifThenElse>
                    <con1:log>
                        <con2:id>_ActionId-N53efece6.1a55a4fd.1.16b7ad6115b.N7fff</con2:id>
                        <con1:logLevel>warning</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                        </con1:expr>
                        <con1:message>{ITEM PAYLOAD UDA ------}</con1:message>
                    </con1:log>
                    <con3:replace varName="header" contents-only="true">
                        <con2:id>_ActionId-N53efece6.N14258493.b.16b9f47e8dd.N8000</con2:id>
                        <con2:disabled>true</con2:disabled>
                        <con3:location>
                            <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">&lt;ags:headerMessage xmlns:ags="http://mx.agarcia.ea/Commons/Schemas/AGStandardHeader" >
        
         &lt;ags:source>RMS&lt;/ags:source>
        

      &lt;/ags:headerMessage></con:xqueryText>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
            <con:stage name="stage11" errorHandler="_onErrorHandler-N53efece6.1a55a4fd.c.16b7c364694.N7ff1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                <con:context>
                    <con2:userNsDecl prefix="ags" namespace="http://mx.agarcia.ea/Commons/Schemas/AGStandardMessage"/>
                    <con2:userNsDecl prefix="cre" namespace="http://mx.agarcia.ea/Capabilities/Core/Items/CreateItemEntity"/>
                    <con2:varNsDecl prefix="v1" namespace="http://www.oracle.com/retail/integration/base/bo/VendorOUDesc/v1"/>
                    <con2:varNsDecl prefix="v11" namespace="http://www.oracle.com/retail/integration/base/bo/StoreDesc/v1"/>
                </con:context>
                <con:actions>
                    <con3:ifThenElse>
                        <con2:id>_ActionId-N53efece6.1a55a4fd.a.16b7b302b4e.N8000</con2:id>
                        <con3:case>
                            <con3:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">xs:boolean($applyAction)</con:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:ifThenElse>
                                    <con2:id>_ActionId-N53efece6.1a55a4fd.a.16b7b302b4e.N7fff</con2:id>
                                    <con3:case>
                                        <con3:condition>
                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">xs:boolean($modifyAction)</con:xqueryText>
                                        </con3:condition>
                                        <con3:actions>
                                            <con3:wsCallout>
                                                <con2:id>_ActionId-N53efece6.1a55a4fd.a.16b7b302b4e.N7ffe</con2:id>
                                                <con2:disabled>true</con2:disabled>
                                                <con3:service ref="Capabilities/Core/Items/UpdateItemEntSvc/PS/UpdateItemEntityPXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                <con3:operation>update</con3:operation>
                                                <con3:request>
                                                    <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                    <con3:header/>
                                                </con3:request>
                                                <con3:response>
                                                    <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                    <con3:header/>
                                                </con3:response>
                                                <con3:requestTransform>
                                                    <con1:log>
                                                        <con2:id>_ActionId-N53efece6.1a55a4fd.a.16b7b302b4e.N7ffd</con2:id>
                                                        <con1:logLevel>warning</con1:logLevel>
                                                        <con1:expr>
                                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                        </con1:expr>
                                                        <con1:message>[ITEM:MODIFY:REQUEST-CHECK]</con1:message>
                                                    </con1:log>
                                                </con3:requestTransform>
                                                <con3:responseTransform>
                                                    <con1:log>
                                                        <con2:id>_ActionId-N53efece6.1a55a4fd.a.16b7b302b4e.N7ffc</con2:id>
                                                        <con1:logLevel>warning</con1:logLevel>
                                                        <con1:expr>
                                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceResponsePayload</con:xqueryText>
                                                        </con1:expr>
                                                        <con1:message>[ITEM:MODIFY:RESPONSE]</con1:message>
                                                    </con1:log>
                                                </con3:responseTransform>
                                            </con3:wsCallout>
                                        </con3:actions>
                                    </con3:case>
                                    <con3:default>
                                        <con1:log>
                                            <con2:id>_ActionId-N53efece6.1a55a4fd.e.16b85f2c074.N7ff2</con2:id>
                                            <con1:logLevel>warning</con1:logLevel>
                                            <con1:expr>
                                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                            </con1:expr>
                                            <con1:message>[PREPARANDO CREACIÓN CREATITEM UDA WTASK desde RMS]</con1:message>
                                        </con1:log>
                                        <con3:ifThenElse>
                                            <con2:id>_ActionId-N53efece6.1a55a4fd.10.16b8f2a2f30.N8000</con2:id>
                                            <con2:disabled>true</con2:disabled>
                                            <con3:case>
                                                <con3:condition>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'SKU' = $itemType</con:xqueryText>
                                                </con3:condition>
                                                <con3:actions>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-N53efece6.1a55a4fd.5.16b7af668f1.N7ff0</con2:id>
                                                        <con2:disabled>true</con2:disabled>
                                                        <con3:service ref="Applications/JDA/JDAItem/PS/SKU/JDACreateSKUPXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>create</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                            <con3:header/>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                            <con3:header/>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.1a55a4fd.10.16b8f2a2f30.N7fff</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>[RIB A PROXY JDA SKU]</con1:message>
                                                            </con1:log>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-N53efece6.N14258493.12.16ba00c3350.N8000</con2:id>
                                                        <con3:service ref="RetailOperations/Make/ProductDevelopment/CreateItemTaskSvc/PS/CreateItemTaskPXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>create</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                            <con3:header>header</con3:header>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                            <con3:header/>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con1:assign varName="header" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                                                                <con2:id>_ActionId-N53efece6.N14258493.23.16ba4044c9b.N7ffe</con2:id>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">

<ags:headerMessage xmlns:ags="http://mx.agarcia.ea/Commons/Schemas/AGStandardHeader">     
         <ags:source>RMS</ags:source>
</ags:headerMessage>

</soap:Header>]]></con:xqueryText>
                                                                </con1:expr>
                                                            </con1:assign>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.N14258493.13.16ba00fa491.N8000</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>[MSJ CREATE SKU RIB A PROXY CREATE ITEM TASK]</con1:message>
                                                            </con1:log>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.N14258493.23.16ba4044c9b.N7ffd</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$header</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>****************************   /////////  MENSAJE CREATE SJU RIB HEADER ////////////// ***************</con1:message>
                                                            </con1:log>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                </con3:actions>
                                            </con3:case>
                                            <con3:case>
                                                <con3:condition>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'Style' = $itemType</con:xqueryText>
                                                </con3:condition>
                                                <con3:actions>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-N53efece6.1a55a4fd.b.16b7b389fc8.N7ff1</con2:id>
                                                        <con2:disabled>true</con2:disabled>
                                                        <con3:service ref="Applications/JDA/JDAItem/PS/Style/JDACreateStylePXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>create</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                            <con3:header/>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                            <con3:header/>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.1a55a4fd.8.16b7b143ca7.N7ff2</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>[RIB A PROXY JDA STYLE]</con1:message>
                                                            </con1:log>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                    <con1:log>
                                                        <con2:id>_ActionId-N53efece6.N2aba4b37.7.16b94e7e369.N7ffe</con2:id>
                                                        <con2:disabled>true</con2:disabled>
                                                        <con1:logLevel>warning</con1:logLevel>
                                                        <con1:expr>
                                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                        </con1:expr>
                                                        <con1:message>[CREATE ITEM FROM RMS] estilo no será creado!</con1:message>
                                                    </con1:log>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-N53efece6.N14258493.23.16ba4044c9b.N8000</con2:id>
                                                        <con3:service ref="RetailOperations/Make/ProductDevelopment/CreateItemTaskSvc/PS/CreateItemTaskPXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>create</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                            <con3:header>header</con3:header>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                            <con3:header/>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con1:assign varName="header" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                                                                <con2:id>_ActionId-N53efece6.N14258493.20.16ba39d4ce6.N7ff9</con2:id>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">

<ags:headerMessage xmlns:ags="http://mx.agarcia.ea/Commons/Schemas/AGStandardHeader">     
         <ags:source>RMS</ags:source>
</ags:headerMessage>

</soap:Header>]]></con:xqueryText>
                                                                </con1:expr>
                                                            </con1:assign>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.N14258493.20.16ba39d4ce6.N7ffa</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>[MSJ CREATE STYLE RIB A PROXY CREATE ITEM TASK]</con1:message>
                                                            </con1:log>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.N14258493.23.16ba4044c9b.N7ffc</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$header</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>****************************   /////////  MENSAJE CREATE STYLE RIB HEADER ////////////// ***************</con1:message>
                                                            </con1:log>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                </con3:actions>
                                            </con3:case>
                                            <con3:case>
                                                <con3:condition>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'UPC' = $itemType</con:xqueryText>
                                                </con3:condition>
                                                <con3:actions>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-N53efece6.N2aba4b37.2.16b93307ac7.N8000</con2:id>
                                                        <con2:disabled>true</con2:disabled>
                                                        <con3:service ref="Applications/JDA/JDAItem/PS/UPC/JDACreateUPCPXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>create</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                            <con3:header/>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                            <con3:header/>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.N2aba4b37.2.16b93307ac7.N7ffe</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>[RIB A PROXY JDA UPC]</con1:message>
                                                            </con1:log>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-N53efece6.60951989.2.16bb3358bf7.N7ff8</con2:id>
                                                        <con3:service ref="RetailOperations/Make/ProductDevelopment/CreateItemTaskSvc/PS/CreateItemTaskPXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>create</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                            <con3:header>header</con3:header>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                            <con3:header/>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.60951989.9.16bb3badca4.N7ff3</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>[MSJ CREATE  UPC A PROXY CREATE ITEM TASK]</con1:message>
                                                            </con1:log>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                </con3:actions>
                                            </con3:case>
                                            <con3:default>
                                                <con1:log>
                                                    <con2:id>_ActionId-N53efece6.1a55a4fd.11.16b8f3287c8.N8000</con2:id>
                                                    <con1:logLevel>error</con1:logLevel>
                                                    <con1:expr>
                                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                    </con1:expr>
                                                    <con1:message>[CREATE ITEM FROM RMS] Tipo desconocido!!!</con1:message>
                                                </con1:log>
                                            </con3:default>
                                        </con3:ifThenElse>
                                    </con3:default>
                                </con3:ifThenElse>
                            </con3:actions>
                        </con3:case>
                    </con3:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="_onErrorHandler-N53efece6.1a55a4fd.2.16b7af4443f.N7ff0" type="error">
            <con:stage name="stage1">
                <con:context/>
                <con:actions>
                    <con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.7.16b7b134b64.N7fed</con2:id>
                        <con1:logLevel>error</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$fault</con:xqueryText>
                        </con1:expr>
                        <con1:message>[CREATE RMS ITEM] No es posible procesar mensaje RIB de artículo</con1:message>
                    </con1:log>
                    <con1:reply isError="false" xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N53efece6.N2aba4b37.6.16b93c03acf.N8000</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:flow>
            <con:pipeline-node name="PipelinePairNode1">
                <con:request>PipelinePairNode1_request</con:request>
                <con:response>PipelinePairNode1_response</con:response>
            </con:pipeline-node>
        </con:flow>
    </con:router>
    <aler:alertRules xsi:nil="true" xmlns:aler="http://xmlns.oracle.com/servicebus/monitoring/alert" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
</con:pipelineEntry>