<?xml version="1.0" encoding="UTF-8"?>
<con:pipelineEntry xmlns:con="http://www.bea.com/wli/sb/pipeline/config">
    <con:coreEntry>
        <con:binding type="Any XML"/>
        <con:xqConfiguration>
            <con:snippetVersion>1.0</con:snippetVersion>
        </con:xqConfiguration>
    </con:coreEntry>
    <con:router>
        <con:pipeline name="_onErrorHandler-N53efece6.1a55a4fd.c.16b7c364694.N7ff1" type="error">
            <con:stage name="stage1">
                <con:context/>
                <con:actions>
                    <con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.3.16b7af4e8cf.N7fe2</con2:id>
                        <con1:logLevel>error</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$fault</con:xqueryText>
                        </con1:expr>
                        <con1:message>[CREATE RMS ITEM] No es posible procesar mensaje RIB de artículo</con1:message>
                    </con1:log>
                    <con1:reply isError="false" xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N53efece6.N2aba4b37.5.16b93bfaad1.N8000</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="PipelinePairNode1_response" type="response"/>
        <con:pipeline name="_onErrorHandler-N53efece6.1a55a4fd.7.16b7b134b64.N7fec" type="error">
            <con:stage name="stage1">
                <con:context/>
                <con:actions>
                    <con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.0.16b7a991296.N7fd7</con2:id>
                        <con1:logLevel>error</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$fault</con:xqueryText>
                        </con1:expr>
                        <con1:message>[FALLO CREATE ITEM_RMS_DIRECT] No es posible leer datos de mensaje RIB</con1:message>
                    </con1:log>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="_onErrorHandler-N53efece6.1a55a4fd.b.16b7b389fc8.N7ff3" type="error">
            <con:stage name="stage1">
                <con:context/>
                <con:actions>
                    <con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.b.16b7b389fc8.N7ff2</con2:id>
                        <con1:logLevel>error</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$fault</con:xqueryText>
                        </con1:expr>
                        <con1:message>[CREATE RMS ITEM] No es posible procesar mensaje RIB de artículo</con1:message>
                    </con1:log>
                    <con1:reply isError="false" xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N53efece6.N2aba4b37.5.16b93bfaad1.N7ffe</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="_onErrorHandler-N53efece6.1a55a4fd.2.16b7af4443f.N7fef" type="error">
            <con:stage name="stage1">
                <con:context/>
                <con:actions>
                    <con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.4.16b7af5cf99.N7ff4</con2:id>
                        <con1:logLevel>error</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$fault</con:xqueryText>
                        </con1:expr>
                        <con1:message>[CREATE RMS ITEM] No es posible procesar mensaje RIB de artículo</con1:message>
                    </con1:log>
                    <con1:reply isError="false" xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N53efece6.N2aba4b37.5.16b93bfaad1.N7fff</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="PipelinePairNode1_request" type="request">
            <con:stage name="stage3" errorHandler="_onErrorHandler-N53efece6.1a55a4fd.7.16b7b134b64.N7fec">
                <con:context>
                    <con1:userNsDecl prefix="v1" namespace="http://www.oracle.com/retail/integration/base/bo/VendorOUDesc/v1" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="v11" namespace="http://www.oracle.com/retail/integration/base/bo/StoreDesc/v1" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.5.16b7af668f1.N7ff1</con2:id>
                        <con2:disabled xmlns:con2="http://www.bea.com/wli/sb/stages/config">true</con2:disabled>
                        <con1:logLevel>warning</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$body</con:xqueryText>
                        </con1:expr>
                        <con1:message>[RMS_RIB_ITEMLOCATION_MESSAGE]</con1:message>
                    </con1:log>
                </con:actions>
            </con:stage>
            <con:stage name="stage1" errorHandler="_onErrorHandler-N53efece6.1a55a4fd.2.16b7af4443f.N7fef" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                <con:context>
                    <con2:varNsDecl prefix="v1" namespace="http://www.oracle.com/retail/integration/base/bo/VendorOUDesc/v1"/>
                    <con2:varNsDecl prefix="v11" namespace="http://www.oracle.com/retail/integration/base/bo/StoreDesc/v1"/>
                </con:context>
                <con:actions>
                    <con3:assign varName="xmlData">
                        <con2:id>_ActionId-N53efece6.N2aba4b37.3.16b9348ee26.N8000</con2:id>
                        <con3:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn-bea:inlinedXML(
fn:replace(fn:replace(fn:replace(data($body//*:messageData), '&amp;lt;', '&lt;' ),'&amp;gt;', '>' ), '&amp;quot;', '"')

)</con:xqueryText>
                        </con3:expr>
                    </con3:assign>
                    <con1:log>
                        <con2:id>_ActionId-N53efece6.N2aba4b37.2.16b93307ac7.N7ffc</con2:id>
                        <con2:disabled>true</con2:disabled>
                        <con1:logLevel>warning</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$xmlData</con:xqueryText>
                        </con1:expr>
                        <con1:message>[RMS_RIB_ITEMLOCATION_XML_DATA]</con1:message>
                    </con1:log>
                    <con3:assign varName="ribMessageFamily">
                        <con2:id>_ActionId-N53efece6.1a55a4fd.9.16b7b2fd71b.N8000</con2:id>
                        <con3:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($body//*:ribMessage/*:family)</con:xqueryText>
                        </con3:expr>
                    </con3:assign>
                    <con:assign varName="ribMessageType" xmlns:con="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id xmlns:con1="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.9.16b7b2fd71b.N7fff</con1:id>
                        <con:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($body//*:ribMessage/*:type)</con:xqueryText>
                        </con:expr>
                    </con:assign>
                    <con:assign varName="ribMessageID" xmlns:con="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id xmlns:con1="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.9.16b7b2fd71b.N7ffe</con1:id>
                        <con2:disabled>true</con2:disabled>
                        <con:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($body//*:ribMessage/*:ribmessageID)</con:xqueryText>
                        </con:expr>
                    </con:assign>
                    <con:assign varName="tranLevel" xmlns:con="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id xmlns:con1="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.169a8062.2.16c6d7368f3.N7ffe</con1:id>
                        <con2:disabled>true</con2:disabled>
                        <con:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($body//*:ribMessage/*:routingInfo/*:value)</con:xqueryText>
                        </con:expr>
                    </con:assign>
                    <con1:log>
                        <con2:id>_ActionId-N53efece6.169a8062.6.16c7232882d.N8000</con2:id>
                        <con2:disabled>true</con2:disabled>
                        <con1:logLevel>warning</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$ribMessageType</con:xqueryText>
                        </con1:expr>
                        <con1:message>[TranLevel]</con1:message>
                    </con1:log>
                    <con1:log>
                        <con2:id>_ActionId-N53efece6.1b0ba631.e.16cd9501381.N7ffa</con2:id>
                        <con2:disabled>true</con2:disabled>
                        <con1:logLevel>warning</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$body</con:xqueryText>
                        </con1:expr>
                        <con1:message>**** body ****</con1:message>
                    </con1:log>
                    <con3:assign varName="modifyAction">
                        <con2:id>_ActionId-N53efece6.1a55a4fd.9.16b7b2fd71b.N7ffc</con2:id>
                        <con3:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:true()</con:xqueryText>
                        </con3:expr>
                    </con3:assign>
                    <con3:assign varName="applyAction">
                        <con2:id>_ActionId-N53efece6.1a55a4fd.9.16b7b2fd71b.N7ffb</con2:id>
                        <con3:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:true()</con:xqueryText>
                        </con3:expr>
                    </con3:assign>
                    <con3:ifThenElse>
                        <con2:id>_ActionId-N53efece6.N2aba4b37.3.16b9348ee26.N7ffd</con2:id>
                        <con3:case>
                            <con3:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'ItemLocMod' = $ribMessageType</con:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:ifThenElse>
                                    <con2:id>_ActionId-N53efece6.1b0ba631.13.16cda818565.N7fff</con2:id>
                                    <con3:case>
                                        <con3:condition>
                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($body//*:value)=10</con:xqueryText>
                                        </con3:condition>
                                        <con3:actions>
                                            <con3:assign varName="itemId">
                                                <con2:id>_ActionId-N53efece6.1b0ba631.f.16cda60925b.N7ffd</con2:id>
                                                <con3:expr>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($body//*:ribMessage/*:id)</con:xqueryText>
                                                </con3:expr>
                                            </con3:assign>
                                            <con3:assign varName="status">
                                                <con2:id>_ActionId-N53efece6.1b0ba631.16.16cdf1ab18a.N7fff</con2:id>
                                                <con3:expr>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($xmlData//*:status)</con:xqueryText>
                                                </con3:expr>
                                            </con3:assign>
                                            <con3:assign varName="itemType">
                                                <con2:id>_ActionId-N53efece6.1b0ba631.12.16cda7ee693.N7fff</con2:id>
                                                <con3:expr>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'SKU'</con:xqueryText>
                                                </con3:expr>
                                            </con3:assign>
                                            <con1:log>
                                                <con2:id>_ActionId-N53efece6.1b0ba631.15.16cded31906.N7fee</con2:id>
                                                <con1:logLevel>warning</con1:logLevel>
                                                <con1:expr>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$itemId</con:xqueryText>
                                                </con1:expr>
                                                <con1:message>*******   itemId   *******</con1:message>
                                            </con1:log>
                                            <con1:log>
                                                <con2:id>_ActionId-N53efece6.1b0ba631.14.16cda84b9ac.N7fec</con2:id>
                                                <con1:logLevel>warning</con1:logLevel>
                                                <con1:expr>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$status</con:xqueryText>
                                                </con1:expr>
                                                <con1:message>*******   Status  *******</con1:message>
                                            </con1:log>
                                        </con3:actions>
                                    </con3:case>
                                </con3:ifThenElse>
                                <con3:assign varName="itemLevel">
                                    <con2:id>_ActionId-N53efece6.N2aba4b37.4.16b9371f1c7.N7fff</con2:id>
                                    <con2:disabled>true</con2:disabled>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">xs:integer(3)</con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                                <con3:assign varName="tranLevel">
                                    <con2:id>_ActionId-N53efece6.N2aba4b37.3.16b9348ee26.N7ff8</con2:id>
                                    <con2:disabled>true</con2:disabled>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">xs:integer(2)</con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                                <con3:assign varName="itemParentId">
                                    <con2:id>_ActionId-N53efece6.N2aba4b37.3.16b9348ee26.N7ff7</con2:id>
                                    <con2:disabled>true</con2:disabled>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">data($xmlData//*:item_parent)</con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                            </con3:actions>
                        </con3:case>
                        <con3:default>
                            <con2:skip>
                                <con2:id>_ActionId-N53efece6.1b0ba631.e.16cd9501381.N7ff9</con2:id>
                            </con2:skip>
                        </con3:default>
                    </con3:ifThenElse>
                </con:actions>
            </con:stage>
            <con:stage name="stage2" errorHandler="_onErrorHandler-N53efece6.1a55a4fd.2.16b7af4443f.N7ff0">
                <con:context/>
                <con:actions>
                    <con1:assign varName="itemType" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1b0ba631.10.16cda68f442.N7fff</con2:id>
                        <con2:disabled xmlns:con2="http://www.bea.com/wli/sb/stages/config">true</con2:disabled>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'SKU'</con:xqueryText>
                        </con1:expr>
                    </con1:assign>
                </con:actions>
            </con:stage>
            <con:stage name="stage12" errorHandler="_onErrorHandler-N53efece6.1a55a4fd.b.16b7b389fc8.N7ff3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                <con:context>
                    <con2:varNsDecl prefix="v1" namespace="http://www.oracle.com/retail/integration/base/bo/VendorOUDesc/v1"/>
                    <con2:varNsDecl prefix="v11" namespace="http://www.oracle.com/retail/integration/base/bo/StoreDesc/v1"/>
                </con:context>
                <con:actions>
                    <con3:ifThenElse>
                        <con2:id>_ActionId-N53efece6.1a55a4fd.0.16b7a991296.N7ff3</con2:id>
                        <con3:case>
                            <con3:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'ItemLocMod' = $ribMessageType</con:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="modifyAction">
                                    <con2:id>_ActionId-N53efece6.1a55a4fd.0.16b7a991296.N7ff2</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:false()</con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                                <con3:assign varName="serviceRequestPayload">
                                    <con2:id>_ActionId-N53efece6.N14258493.f.16ba000817d.N8000</con2:id>
                                    <con3:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[<cre:createItemRequest 

    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" 
    xmlns:cre="http://mx.agarcia.ea/Capabilities/Core/Items/CreateItemEntity" 
    xmlns:v1="http://mx.agarcia.ea/Canonical/Commons/Items/v1" xmlns:v11="http://mx.agarcia.ea/Canonical/Commons/Suppliers/v1">

<cre:items>
            <v1:item>
                <v1:id Name="RMS" Type="{$itemType}">{$itemId}</v1:id>
               
                <v1:status AppCode="RMS">
                    <v1:code>{data($xmlData//*:status)}</v1:code>
                </v1:status>         
            </v1:item>
</cre:items>
    </cre:createItemRequest>]]></con:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                                <con1:log>
                                    <con2:id>_ActionId-N53efece6.1b0ba631.16.16cdf1ab18a.N7ffe</con2:id>
                                    <con2:disabled>true</con2:disabled>
                                    <con1:logLevel>warning</con1:logLevel>
                                    <con1:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                    </con1:expr>
                                    <con1:message>*******     PRUEBICAS  *******</con1:message>
                                </con1:log>
                            </con3:actions>
                        </con3:case>
                        <con3:default>
                            <con:log xmlns:con="http://www.bea.com/wli/sb/stages/logging/config">
                                <con1:id xmlns:con1="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.0.16b7a991296.N7fee</con1:id>
                                <con2:disabled>true</con2:disabled>
                                <con:logLevel>warning</con:logLevel>
                                <con:expr>
                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$body</con:xqueryText>
                                </con:expr>
                                <con:message>[RIB:ITEMLOCATION &lt;EVENT:DESCONOCIDO>]</con:message>
                            </con:log>
                            <con3:assign varName="applyAction">
                                <con2:id>_ActionId-N53efece6.1a55a4fd.0.16b7a991296.N7fed</con2:id>
                                <con3:expr>
                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:false()</con:xqueryText>
                                </con3:expr>
                            </con3:assign>
                        </con3:default>
                    </con3:ifThenElse>
                    <con1:log>
                        <con2:id>_ActionId-N53efece6.1a55a4fd.1.16b7ad6115b.N7fff</con2:id>
                        <con2:disabled>true</con2:disabled>
                        <con1:logLevel>warning</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                        </con1:expr>
                        <con1:message>{ITEM LOCATION PAYLOAD ------}</con1:message>
                    </con1:log>
                    <con3:replace varName="header" contents-only="true">
                        <con2:id>_ActionId-N53efece6.N14258493.b.16b9f47e8dd.N8000</con2:id>
                        <con2:disabled>true</con2:disabled>
                        <con3:location>
                            <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">&lt;ags:headerMessage xmlns:ags="http://mx.agarcia.ea/Commons/Schemas/AGStandardHeader" >
        
         &lt;ags:source>RMS&lt;/ags:source>
        

      &lt;/ags:headerMessage></con:xqueryText>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
            <con:stage name="stage11" errorHandler="_onErrorHandler-N53efece6.1a55a4fd.c.16b7c364694.N7ff1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                <con:context>
                    <con2:userNsDecl prefix="ags" namespace="http://mx.agarcia.ea/Commons/Schemas/AGStandardMessage"/>
                    <con2:userNsDecl prefix="cre" namespace="http://mx.agarcia.ea/Capabilities/Core/Items/CreateItemEntity"/>
                    <con2:varNsDecl prefix="v1" namespace="http://www.oracle.com/retail/integration/base/bo/VendorOUDesc/v1"/>
                    <con2:varNsDecl prefix="v11" namespace="http://www.oracle.com/retail/integration/base/bo/StoreDesc/v1"/>
                </con:context>
                <con:actions>
                    <con3:ifThenElse>
                        <con2:id>_ActionId-N53efece6.1a55a4fd.a.16b7b302b4e.N8000</con2:id>
                        <con3:case>
                            <con3:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">xs:boolean($applyAction)</con:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:ifThenElse>
                                    <con2:id>_ActionId-N53efece6.1a55a4fd.a.16b7b302b4e.N7fff</con2:id>
                                    <con3:case>
                                        <con3:condition>
                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">xs:boolean($modifyAction)</con:xqueryText>
                                        </con3:condition>
                                        <con3:actions>
                                            <con1:report>
                                                <con2:id>_ActionId-N53efece6.60951989.e.16bbaf28fb0.N7fd9</con2:id>
                                                <con2:disabled>true</con2:disabled>
                                                <con1:expr>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                </con1:expr>
                                                <con1:labels>
                                                    <con1:key>itemID</con1:key>
                                                    <con1:varName>serviceRequestPayload</con1:varName>
                                                    <con1:value>
                                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">//*:item/*:id</con:xpathText>
                                                    </con1:value>
                                                </con1:labels>
                                            </con1:report>
                                            <con3:wsCallout>
                                                <con2:id>_ActionId-N53efece6.1a55a4fd.a.16b7b302b4e.N7ffe</con2:id>
                                                <con2:disabled>true</con2:disabled>
                                                <con3:service ref="Capabilities/Core/Items/UpdateItemEntSvc/PS/UpdateItemEntityPXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                <con3:operation>update</con3:operation>
                                                <con3:request>
                                                    <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                    <con3:header/>
                                                </con3:request>
                                                <con3:response>
                                                    <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                    <con3:header/>
                                                </con3:response>
                                                <con3:requestTransform>
                                                    <con1:log>
                                                        <con2:id>_ActionId-N53efece6.1a55a4fd.a.16b7b302b4e.N7ffd</con2:id>
                                                        <con2:disabled>true</con2:disabled>
                                                        <con1:logLevel>warning</con1:logLevel>
                                                        <con1:expr>
                                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                        </con1:expr>
                                                        <con1:message>[ITEMLOCATION:MODIFY:REQUEST-CHECK]</con1:message>
                                                    </con1:log>
                                                </con3:requestTransform>
                                                <con3:responseTransform>
                                                    <con1:log>
                                                        <con2:id>_ActionId-N53efece6.1a55a4fd.a.16b7b302b4e.N7ffc</con2:id>
                                                        <con2:disabled>true</con2:disabled>
                                                        <con1:logLevel>warning</con1:logLevel>
                                                        <con1:expr>
                                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceResponsePayload</con:xqueryText>
                                                        </con1:expr>
                                                        <con1:message>[ITEMLOCATION:MODIFY:RESPONSE]</con1:message>
                                                    </con1:log>
                                                </con3:responseTransform>
                                            </con3:wsCallout>
                                        </con3:actions>
                                    </con3:case>
                                    <con3:default>
                                        <con1:log>
                                            <con2:id>_ActionId-N53efece6.1a55a4fd.e.16b85f2c074.N7ff2</con2:id>
                                            <con2:disabled>true</con2:disabled>
                                            <con1:logLevel>warning</con1:logLevel>
                                            <con1:expr>
                                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                            </con1:expr>
                                            <con1:message>[PREPARANDO CREACIÓN ITEMLOCATIONTASK desde RMS]</con1:message>
                                        </con1:log>
                                        <con1:report>
                                            <con2:id>_ActionId-N53efece6.60951989.e.16bbaf28fb0.N7fda</con2:id>
                                            <con1:expr>
                                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                            </con1:expr>
                                            <con1:labels>
                                                <con1:key>itemID</con1:key>
                                                <con1:varName>serviceRequestPayload</con1:varName>
                                                <con1:value>
                                                    <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">//*:item/*:id</con:xpathText>
                                                </con1:value>
                                            </con1:labels>
                                        </con1:report>
                                        <con3:ifThenElse>
                                            <con2:id>_ActionId-N53efece6.1a55a4fd.10.16b8f2a2f30.N8000</con2:id>
                                            <con3:case>
                                                <con3:condition>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'SKU' = $itemType</con:xqueryText>
                                                </con3:condition>
                                                <con3:actions>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-N53efece6.1a55a4fd.5.16b7af668f1.N7ff0</con2:id>
                                                        <con2:disabled>true</con2:disabled>
                                                        <con3:service ref="Applications/JDA/JDAItem/PS/SKU/JDACreateSKUPXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>create</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                            <con3:header/>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                            <con3:header/>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.1a55a4fd.10.16b8f2a2f30.N7fff</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>[RIB A PROXY JDA SKU]</con1:message>
                                                            </con1:log>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-N53efece6.N14258493.12.16ba00c3350.N8000</con2:id>
                                                        <con2:disabled>true</con2:disabled>
                                                        <con3:service ref="RetailOperations/Make/ProductDevelopment/CreateItemTaskSvc/PS/CreateItemTaskPXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>create</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                            <con3:header>header</con3:header>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                            <con3:header/>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con1:assign varName="header" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                                                                <con2:id>_ActionId-N53efece6.N14258493.23.16ba4044c9b.N7ffe</con2:id>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">

<ags:headerMessage xmlns:ags="http://mx.agarcia.ea/Commons/Schemas/AGStandardHeader">     
         <ags:source>RMS</ags:source>
</ags:headerMessage>

</soap:Header>]]></con:xqueryText>
                                                                </con1:expr>
                                                            </con1:assign>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.N14258493.13.16ba00fa491.N8000</con2:id>
                                                                <con2:disabled>true</con2:disabled>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>[MSJ CREATE SKU RIB A PROXY CREATE ITEM TASK]</con1:message>
                                                            </con1:log>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.N14258493.23.16ba4044c9b.N7ffd</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$header</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>****************************   /////////  MENSAJE CREATE SJU RIB HEADER ////////////// ***************</con1:message>
                                                            </con1:log>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                    <con1:log>
                                                        <con2:id>_ActionId-N53efece6.1b0ba631.d.16cd45c3566.N7ff5</con2:id>
                                                        <con1:logLevel>warning</con1:logLevel>
                                                        <con1:expr>
                                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$body</con:xqueryText>
                                                        </con1:expr>
                                                        <con1:message>*******   ALO ******</con1:message>
                                                    </con1:log>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-N53efece6.1b0ba631.12.16cda7ee693.N7ffe</con2:id>
                                                        <con3:service ref="Capabilities/Core/Items/UpdateItemEntSvc/PS/UpdateStatusItemTaskActionPXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>updateStatus</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                            <con3:header/>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                            <con3:header/>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.1b0ba631.15.16cded31906.N7fec</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>*****   serviceRequestPayload peticion a Action ****</con1:message>
                                                            </con1:log>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                </con3:actions>
                                            </con3:case>
                                            <con3:case>
                                                <con3:condition>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'Style' = $itemType</con:xqueryText>
                                                </con3:condition>
                                                <con3:actions>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-N53efece6.1a55a4fd.b.16b7b389fc8.N7ff1</con2:id>
                                                        <con2:disabled>true</con2:disabled>
                                                        <con3:service ref="Applications/JDA/JDAItem/PS/Style/JDACreateStylePXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>create</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                            <con3:header/>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                            <con3:header/>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.1a55a4fd.8.16b7b143ca7.N7ff2</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>[RIB A PROXY JDA STYLE]</con1:message>
                                                            </con1:log>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                    <con1:log>
                                                        <con2:id>_ActionId-N53efece6.N2aba4b37.7.16b94e7e369.N7ffe</con2:id>
                                                        <con2:disabled>true</con2:disabled>
                                                        <con1:logLevel>warning</con1:logLevel>
                                                        <con1:expr>
                                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                        </con1:expr>
                                                        <con1:message>[CREATE ITEMLOCATION FROM RMS] estilo no será creado!</con1:message>
                                                    </con1:log>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-N53efece6.N14258493.23.16ba4044c9b.N8000</con2:id>
                                                        <con3:service ref="RetailOperations/Make/ProductDevelopment/CreateItemTaskSvc/PS/CreateItemTaskPXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>create</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                            <con3:header>header</con3:header>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                            <con3:header/>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con1:assign varName="header" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                                                                <con2:id>_ActionId-N53efece6.N14258493.20.16ba39d4ce6.N7ff9</con2:id>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">

<ags:headerMessage xmlns:ags="http://mx.agarcia.ea/Commons/Schemas/AGStandardHeader">     
         <ags:source>RMS</ags:source>
</ags:headerMessage>

</soap:Header>]]></con:xqueryText>
                                                                </con1:expr>
                                                            </con1:assign>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.N14258493.20.16ba39d4ce6.N7ffa</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>[MSJ CREATE STYLE RIB A PROXY CREATE ITEM TASK]</con1:message>
                                                            </con1:log>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.N14258493.23.16ba4044c9b.N7ffc</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$header</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>****************************   /////////  MENSAJE CREATE STYLE RIB HEADER ////////////// ***************</con1:message>
                                                            </con1:log>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                </con3:actions>
                                            </con3:case>
                                            <con3:case>
                                                <con3:condition>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">'UPC' = $itemType</con:xqueryText>
                                                </con3:condition>
                                                <con3:actions>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-N53efece6.N2aba4b37.2.16b93307ac7.N8000</con2:id>
                                                        <con2:disabled>true</con2:disabled>
                                                        <con3:service ref="Applications/JDA/JDAItem/PS/UPC/JDACreateUPCPXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>create</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                            <con3:header/>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                            <con3:header/>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.N2aba4b37.2.16b93307ac7.N7ffe</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>[RIB A PROXY JDA UPC]</con1:message>
                                                            </con1:log>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-N53efece6.60951989.2.16bb3358bf7.N7ff8</con2:id>
                                                        <con3:service ref="RetailOperations/Make/ProductDevelopment/CreateItemTaskSvc/PS/CreateItemTaskPXY" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>create</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">serviceRequestPayload</con3:body>
                                                            <con3:header>header</con3:header>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">serviceResponsePayload</con3:body>
                                                            <con3:header/>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con1:log>
                                                                <con2:id>_ActionId-N53efece6.60951989.9.16bb3badca4.N7ff3</con2:id>
                                                                <con1:logLevel>warning</con1:logLevel>
                                                                <con1:expr>
                                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                                </con1:expr>
                                                                <con1:message>[MSJ CREATE  UPC A PROXY CREATE ITEM TASK]</con1:message>
                                                            </con1:log>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                </con3:actions>
                                            </con3:case>
                                            <con3:default>
                                                <con1:log>
                                                    <con2:id>_ActionId-N53efece6.1a55a4fd.11.16b8f3287c8.N8000</con2:id>
                                                    <con2:disabled>true</con2:disabled>
                                                    <con1:logLevel>error</con1:logLevel>
                                                    <con1:expr>
                                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$serviceRequestPayload</con:xqueryText>
                                                    </con1:expr>
                                                    <con1:message>[ITEMLOCATION FROM RMS] Tipo desconocido!!!</con1:message>
                                                </con1:log>
                                            </con3:default>
                                        </con3:ifThenElse>
                                    </con3:default>
                                </con3:ifThenElse>
                            </con3:actions>
                        </con3:case>
                    </con3:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="_onErrorHandler-N53efece6.1a55a4fd.2.16b7af4443f.N7ff0" type="error">
            <con:stage name="stage1">
                <con:context/>
                <con:actions>
                    <con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N53efece6.1a55a4fd.7.16b7b134b64.N7fed</con2:id>
                        <con1:logLevel>error</con1:logLevel>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$fault</con:xqueryText>
                        </con1:expr>
                        <con1:message>[CREATE RMS ITEM] No es posible procesar mensaje RIB de artículo</con1:message>
                    </con1:log>
                    <con1:reply isError="false" xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N53efece6.N2aba4b37.6.16b93c03acf.N8000</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:flow>
            <con:pipeline-node name="PipelinePairNode1">
                <con:request>PipelinePairNode1_request</con:request>
                <con:response>PipelinePairNode1_response</con:response>
            </con:pipeline-node>
        </con:flow>
    </con:router>
    <aler:alertRules xsi:nil="true" xmlns:aler="http://xmlns.oracle.com/servicebus/monitoring/alert" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
</con:pipelineEntry>