<xsl:stylesheet version="1.0" exclude-result-prefixes="xsd oracle-xsl-mapper xsi xsl ns0 UUIDUserFunction IsUserInGroupFunction oraext IsUserInRoleFunction xp20 DVMFunctions oraxsl RuntimeTypeConversionFunctions XrefFunctions BasicCredentialsUserFunction" xmlns:UUIDUserFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.UUIDUserFunction" xmlns:IsUserInGroupFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.IsUserInGroupFunction" xmlns:ns0="http://www.agarcia.mx/EnterpriseObjects/Receipt" xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc" xmlns:IsUserInRoleFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.IsUserInRoleFunction" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20" xmlns:DVMFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.functions.dvm.DVMFunctions" xmlns:oracle-xsl-mapper="http://www.oracle.com/xsl/mapper/schemas" xmlns:oraxsl="http://www.oracle.com/XSL/Transform/java" xmlns:RuntimeTypeConversionFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.RuntimeTypeConversionFunctions" xmlns:XrefFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.functions.xref.XrefFunctions" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:BasicCredentialsUserFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.BasicCredentialsUserFunction" xmlns:com="http://www.agarcia.mx/EnterpriseObjects/Common" xmlns:ns1="http://www.agarcia.mx/EnterpriseObjects/Custom">
  <oracle-xsl-mapper:schema>
    <!--SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY.-->
    <oracle-xsl-mapper:mapSources>
      <oracle-xsl-mapper:source type="XSD">
        <oracle-xsl-mapper:schema location="../../../../MetaData/Components/EnterpriseObjectLibrary/EBO/Receipt/ReceiptEBM.xsd"/>
        <oracle-xsl-mapper:rootElement name="ProcessReceiptEBM" namespace="http://www.agarcia.mx/EnterpriseObjects/Receipt"/>
      </oracle-xsl-mapper:source>
    </oracle-xsl-mapper:mapSources>
    <oracle-xsl-mapper:mapTargets>
      <oracle-xsl-mapper:target type="XSD">
        <oracle-xsl-mapper:schema location="../../../../MetaData/Components/EnterpriseObjectLibrary/EBO/Receipt/ReceiptEBM.xsd"/>
        <oracle-xsl-mapper:rootElement name="ProcessReceiptEBM" namespace="http://www.agarcia.mx/EnterpriseObjects/Receipt"/>
      </oracle-xsl-mapper:target>
    </oracle-xsl-mapper:mapTargets>
    <!--GENERATED BY ORACLE XSL MAPPER 12.2.1.2.0(XSLT Build 161003.0739.0018) AT [WED OCT 28 13:39:59 CST 2020].-->
  </oracle-xsl-mapper:schema>
  <!--User Editing allowed BELOW this line - DO NOT DELETE THIS LINE-->
  <xsl:template match="/">
    <ns0:ProcessReceiptEBM>
      <ns0:Header>
        <com:TrackingID>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:TrackingID/@schemeID">
            <xsl:attribute name="schemeID">
              <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:TrackingID/@schemeID"/>
            </xsl:attribute>
          </xsl:if>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:TrackingID/@schemeAgencyID">
            <xsl:attribute name="schemeAgencyID">
              <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:TrackingID/@schemeAgencyID"/>
            </xsl:attribute>
          </xsl:if>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:TrackingID/@schemeVersionID">
            <xsl:attribute name="schemeVersionID">
              <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:TrackingID/@schemeVersionID"/>
            </xsl:attribute>
          </xsl:if>
          <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:TrackingID"/>
        </com:TrackingID>
        <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:InstanceID">
          <com:InstanceID>
            <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:InstanceID/@schemeID">
              <xsl:attribute name="schemeID">
                <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:InstanceID/@schemeID"/>
              </xsl:attribute>
            </xsl:if>
            <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:InstanceID/@schemeAgencyID">
              <xsl:attribute name="schemeAgencyID">
                <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:InstanceID/@schemeAgencyID"/>
              </xsl:attribute>
            </xsl:if>
            <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:InstanceID/@schemeVersionID">
              <xsl:attribute name="schemeVersionID">
                <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:InstanceID/@schemeVersionID"/>
              </xsl:attribute>
            </xsl:if>
            <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:InstanceID"/>
          </com:InstanceID>
        </xsl:if>
        <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:User">
          <com:User>
            <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:User"/>
          </com:User>
        </xsl:if>
        <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:SourceID">
          <com:SourceID>
            <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:SourceID/@listID">
              <xsl:attribute name="listID">
                <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:SourceID/@listID"/>
              </xsl:attribute>
            </xsl:if>
            <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:SourceID/@listAgencyID">
              <xsl:attribute name="listAgencyID">
                <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:SourceID/@listAgencyID"/>
              </xsl:attribute>
            </xsl:if>
            <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:SourceID/@listVersionID">
              <xsl:attribute name="listVersionID">
                <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:SourceID/@listVersionID"/>
              </xsl:attribute>
            </xsl:if>
            <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:SourceID"/>
          </com:SourceID>
        </xsl:if>
        <com:Target>
          <com:Applications>
            <com:Name>
              <xsl:value-of select="DVMFunctions:lookupValue (&quot;MetaData/dvm/PURCHASERECEIPT_CONFIGURATION_PROPIERTIES.dvm&quot;, &quot;COMMON&quot;, &quot;TARGET&quot;, &quot;VALUE&quot;, &quot;NOT FOUND&quot; )"/>
            </com:Name>
          </com:Applications>
        </com:Target>
        <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:Operation">
          <com:Operation>
            <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:Operation"/>
          </com:Operation>
        </xsl:if>
        <com:Interface>
          <xsl:value-of select="DVMFunctions:lookupValue (&quot;MetaData/dvm/PURCHASERECEIPT_CONFIGURATION_PROPIERTIES.dvm&quot;, &quot;COMMON&quot;, &quot;PURCHASE_SERVICE&quot;, &quot;VALUE&quot;, &quot;NOT FOUND&quot; )"/>
        </com:Interface>
        <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit">
          <com:BusinessUnit>
            <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Identification">
              <com:Identification>
                <com:ID>
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Identification/com:ID"/>
                </com:ID>
                <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Identification/com:BusinessComponentID">
                  <com:BusinessComponentID>
                    <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Identification/com:BusinessComponentID/@schemeID">
                      <xsl:attribute name="schemeID">
                        <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Identification/com:BusinessComponentID/@schemeID"/>
                      </xsl:attribute>
                    </xsl:if>
                    <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Identification/com:BusinessComponentID/@schemeAgencyID">
                      <xsl:attribute name="schemeAgencyID">
                        <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Identification/com:BusinessComponentID/@schemeAgencyID"/>
                      </xsl:attribute>
                    </xsl:if>
                    <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Identification/com:BusinessComponentID/@schemeVersionID">
                      <xsl:attribute name="schemeVersionID">
                        <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Identification/com:BusinessComponentID/@schemeVersionID"/>
                      </xsl:attribute>
                    </xsl:if>
                    <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Identification/com:BusinessComponentID"/>
                  </com:BusinessComponentID>
                </xsl:if>
                <xsl:for-each select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Identification/com:ApplicationObjectReference">
                  <com:ApplicationObjectReference>
                    <xsl:if test="com:ApplicationName">
                      <com:ApplicationName>
                        <xsl:value-of select="com:ApplicationName"/>
                      </com:ApplicationName>
                    </xsl:if>
                    <com:ApplicationObjectID>
                      <xsl:value-of select="com:ApplicationObjectID"/>
                    </com:ApplicationObjectID>
                  </com:ApplicationObjectReference>
                </xsl:for-each>
              </com:Identification>
            </xsl:if>
            <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Name">
              <com:Name>
                <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Name/@languageCode">
                  <xsl:attribute name="languageCode">
                    <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Name/@languageCode"/>
                  </xsl:attribute>
                </xsl:if>
                <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Name/@languageLocaleCode">
                  <xsl:attribute name="languageLocaleCode">
                    <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Name/@languageLocaleCode"/>
                  </xsl:attribute>
                </xsl:if>
                <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Name"/>
              </com:Name>
            </xsl:if>
            <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Code">
              <com:Code>
                <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Code/@listID">
                  <xsl:attribute name="listID">
                    <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Code/@listID"/>
                  </xsl:attribute>
                </xsl:if>
                <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Code/@listAgencyID">
                  <xsl:attribute name="listAgencyID">
                    <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Code/@listAgencyID"/>
                  </xsl:attribute>
                </xsl:if>
                <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Code/@listVersionID">
                  <xsl:attribute name="listVersionID">
                    <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Code/@listVersionID"/>
                  </xsl:attribute>
                </xsl:if>
                <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:Code"/>
              </com:Code>
            </xsl:if>
            <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:CountryName">
              <com:CountryName>
                <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:CountryName"/>
              </com:CountryName>
            </xsl:if>
            <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:CountryCode">
              <com:CountryCode>
                <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:CountryCode/@listID">
                  <xsl:attribute name="listID">
                    <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:CountryCode/@listID"/>
                  </xsl:attribute>
                </xsl:if>
                <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:CountryCode/@listAgencyID">
                  <xsl:attribute name="listAgencyID">
                    <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:CountryCode/@listAgencyID"/>
                  </xsl:attribute>
                </xsl:if>
                <xsl:if test="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:CountryCode/@listVersionID">
                  <xsl:attribute name="listVersionID">
                    <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:CountryCode/@listVersionID"/>
                  </xsl:attribute>
                </xsl:if>
                <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:BusinessUnit/com:CountryCode"/>
              </com:CountryCode>
            </xsl:if>
          </com:BusinessUnit>
        </xsl:if>
        <com:RequestDateTime>
          <xsl:value-of select="xp20:format-dateTime (xp20:current-dateTime(), &quot;[Y001]-[M01]-[D01]T[h01]:[m01]:[s01]&quot; )"/>
        </com:RequestDateTime>
        <xsl:for-each select="/ns0:ProcessReceiptEBM/ns0:Header/com:DateTimes">
          <com:DateTimes>
            <xsl:if test="@Code">
              <xsl:attribute name="Code">
                <xsl:value-of select="@Code"/>
              </xsl:attribute>
            </xsl:if>
            <xsl:value-of select="."/>
          </com:DateTimes>
        </xsl:for-each>
      </ns0:Header>
      <ns0:DataArea>
        <ns0:ProcessReceipt>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/@actionCode">
            <xsl:attribute name="actionCode">
              <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/@actionCode"/>
            </xsl:attribute>
          </xsl:if>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/com:Identification">
            <com:Identification>
              <com:ID>
                <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/com:Identification/com:ID"/>
              </com:ID>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/com:Identification/com:BusinessComponentID">
                <com:BusinessComponentID>
                  <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/com:Identification/com:BusinessComponentID/@schemeID">
                    <xsl:attribute name="schemeID">
                      <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/com:Identification/com:BusinessComponentID/@schemeID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/com:Identification/com:BusinessComponentID/@schemeAgencyID">
                    <xsl:attribute name="schemeAgencyID">
                      <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/com:Identification/com:BusinessComponentID/@schemeAgencyID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/com:Identification/com:BusinessComponentID/@schemeVersionID">
                    <xsl:attribute name="schemeVersionID">
                      <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/com:Identification/com:BusinessComponentID/@schemeVersionID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/com:Identification/com:BusinessComponentID"/>
                </com:BusinessComponentID>
              </xsl:if>
              <xsl:for-each select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/com:Identification/com:ApplicationObjectReference">
                <com:ApplicationObjectReference>
                  <xsl:if test="com:ApplicationName">
                    <com:ApplicationName>
                      <xsl:value-of select="com:ApplicationName"/>
                    </com:ApplicationName>
                  </xsl:if>
                  <com:ApplicationObjectID>
                    <xsl:value-of select="com:ApplicationObjectID"/>
                  </com:ApplicationObjectID>
                </com:ApplicationObjectReference>
              </xsl:for-each>
            </com:Identification>
          </xsl:if>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:AdvancedShipmentNotice">
            <ns0:AdvancedShipmentNotice>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:AdvancedShipmentNotice/@listID">
                <xsl:attribute name="listID">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:AdvancedShipmentNotice/@listID"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:AdvancedShipmentNotice/@listAgencyID">
                <xsl:attribute name="listAgencyID">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:AdvancedShipmentNotice/@listAgencyID"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:AdvancedShipmentNotice/@listVersionID">
                <xsl:attribute name="listVersionID">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:AdvancedShipmentNotice/@listVersionID"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:AdvancedShipmentNotice"/>
            </ns0:AdvancedShipmentNotice>
          </xsl:if>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Document">
            <ns0:Document>
              <com:ID>
                <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Document/com:ID"/>
              </com:ID>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Document/com:BusinessComponentID">
                <com:BusinessComponentID>
                  <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Document/com:BusinessComponentID/@schemeID">
                    <xsl:attribute name="schemeID">
                      <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Document/com:BusinessComponentID/@schemeID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Document/com:BusinessComponentID/@schemeAgencyID">
                    <xsl:attribute name="schemeAgencyID">
                      <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Document/com:BusinessComponentID/@schemeAgencyID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Document/com:BusinessComponentID/@schemeVersionID">
                    <xsl:attribute name="schemeVersionID">
                      <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Document/com:BusinessComponentID/@schemeVersionID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Document/com:BusinessComponentID"/>
                </com:BusinessComponentID>
              </xsl:if>
              <xsl:for-each select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Document/com:ApplicationObjectReference">
                <com:ApplicationObjectReference>
                  <xsl:if test="com:ApplicationName">
                    <com:ApplicationName>
                      <xsl:value-of select="com:ApplicationName"/>
                    </com:ApplicationName>
                  </xsl:if>
                  <com:ApplicationObjectID>
                    <xsl:value-of select="com:ApplicationObjectID"/>
                  </com:ApplicationObjectID>
                </com:ApplicationObjectReference>
              </xsl:for-each>
            </ns0:Document>
          </xsl:if>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:PurchaseOrder">
            <ns0:PurchaseOrder>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:PurchaseOrder/@listID">
                <xsl:attribute name="listID">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:PurchaseOrder/@listID"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:PurchaseOrder/@listAgencyID">
                <xsl:attribute name="listAgencyID">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:PurchaseOrder/@listAgencyID"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:PurchaseOrder/@listVersionID">
                <xsl:attribute name="listVersionID">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:PurchaseOrder/@listVersionID"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:PurchaseOrder"/>
            </ns0:PurchaseOrder>
          </xsl:if>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:DocumentType">
            <ns0:DocumentType>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:DocumentType/@languageCode">
                <xsl:attribute name="languageCode">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:DocumentType/@languageCode"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:DocumentType/@languageLocaleCode">
                <xsl:attribute name="languageLocaleCode">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:DocumentType/@languageLocaleCode"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:DocumentType"/>
            </ns0:DocumentType>
          </xsl:if>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Source">
            <ns0:Source>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Source/@languageCode">
                <xsl:attribute name="languageCode">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Source/@languageCode"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Source/@languageLocaleCode">
                <xsl:attribute name="languageLocaleCode">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Source/@languageLocaleCode"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Source"/>
            </ns0:Source>
          </xsl:if>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:SourceCode">
            <ns0:SourceCode>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:SourceCode/@listID">
                <xsl:attribute name="listID">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:SourceCode/@listID"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:SourceCode/@listAgencyID">
                <xsl:attribute name="listAgencyID">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:SourceCode/@listAgencyID"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:SourceCode/@listVersionID">
                <xsl:attribute name="listVersionID">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:SourceCode/@listVersionID"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:SourceCode"/>
            </ns0:SourceCode>
          </xsl:if>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Request">
            <ns0:Request>
              <com:ID>
                <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Request/com:ID"/>
              </com:ID>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Request/com:BusinessComponentID">
                <com:BusinessComponentID>
                  <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Request/com:BusinessComponentID/@schemeID">
                    <xsl:attribute name="schemeID">
                      <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Request/com:BusinessComponentID/@schemeID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Request/com:BusinessComponentID/@schemeAgencyID">
                    <xsl:attribute name="schemeAgencyID">
                      <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Request/com:BusinessComponentID/@schemeAgencyID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Request/com:BusinessComponentID/@schemeVersionID">
                    <xsl:attribute name="schemeVersionID">
                      <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Request/com:BusinessComponentID/@schemeVersionID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Request/com:BusinessComponentID"/>
                </com:BusinessComponentID>
              </xsl:if>
              <xsl:for-each select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Request/com:ApplicationObjectReference">
                <com:ApplicationObjectReference>
                  <xsl:if test="com:ApplicationName">
                    <com:ApplicationName>
                      <xsl:value-of select="com:ApplicationName"/>
                    </com:ApplicationName>
                  </xsl:if>
                  <com:ApplicationObjectID>
                    <xsl:value-of select="com:ApplicationObjectID"/>
                  </com:ApplicationObjectID>
                </com:ApplicationObjectReference>
              </xsl:for-each>
            </ns0:Request>
          </xsl:if>
          <xsl:for-each select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:ReceiptItem">
            <ns0:ReceiptItem>
              <xsl:if test="ns0:Identification">
                <ns0:Identification>
                  <com:ID>
                    <xsl:value-of select="ns0:Identification/com:ID"/>
                  </com:ID>
                  <xsl:if test="ns0:Identification/com:BusinessComponentID">
                    <com:BusinessComponentID>
                      <xsl:if test="ns0:Identification/com:BusinessComponentID/@schemeID">
                        <xsl:attribute name="schemeID">
                          <xsl:value-of select="ns0:Identification/com:BusinessComponentID/@schemeID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Identification/com:BusinessComponentID/@schemeAgencyID">
                        <xsl:attribute name="schemeAgencyID">
                          <xsl:value-of select="ns0:Identification/com:BusinessComponentID/@schemeAgencyID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Identification/com:BusinessComponentID/@schemeVersionID">
                        <xsl:attribute name="schemeVersionID">
                          <xsl:value-of select="ns0:Identification/com:BusinessComponentID/@schemeVersionID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:value-of select="ns0:Identification/com:BusinessComponentID"/>
                    </com:BusinessComponentID>
                  </xsl:if>
                  <xsl:for-each select="ns0:Identification/com:ApplicationObjectReference">
                    <com:ApplicationObjectReference>
                      <xsl:if test="com:ApplicationName">
                        <com:ApplicationName>
                          <xsl:value-of select="com:ApplicationName"/>
                        </com:ApplicationName>
                      </xsl:if>
                      <com:ApplicationObjectID>
                        <xsl:value-of select="com:ApplicationObjectID"/>
                      </com:ApplicationObjectID>
                    </com:ApplicationObjectReference>
                  </xsl:for-each>
                </ns0:Identification>
              </xsl:if>
              <xsl:if test="ns0:Code">
                <ns0:Code>
                  <xsl:if test="ns0:Code/@listID">
                    <xsl:attribute name="listID">
                      <xsl:value-of select="ns0:Code/@listID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:Code/@listAgencyID">
                    <xsl:attribute name="listAgencyID">
                      <xsl:value-of select="ns0:Code/@listAgencyID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:Code/@listVersionID">
                    <xsl:attribute name="listVersionID">
                      <xsl:value-of select="ns0:Code/@listVersionID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="ns0:Code"/>
                </ns0:Code>
              </xsl:if>
              <xsl:if test="ns0:Container">
                <ns0:Container>
                  <com:ID>
                    <xsl:value-of select="ns0:Container/com:ID"/>
                  </com:ID>
                  <xsl:if test="ns0:Container/com:BusinessComponentID">
                    <com:BusinessComponentID>
                      <xsl:if test="ns0:Container/com:BusinessComponentID/@schemeID">
                        <xsl:attribute name="schemeID">
                          <xsl:value-of select="ns0:Container/com:BusinessComponentID/@schemeID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Container/com:BusinessComponentID/@schemeAgencyID">
                        <xsl:attribute name="schemeAgencyID">
                          <xsl:value-of select="ns0:Container/com:BusinessComponentID/@schemeAgencyID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Container/com:BusinessComponentID/@schemeVersionID">
                        <xsl:attribute name="schemeVersionID">
                          <xsl:value-of select="ns0:Container/com:BusinessComponentID/@schemeVersionID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:value-of select="ns0:Container/com:BusinessComponentID"/>
                    </com:BusinessComponentID>
                  </xsl:if>
                  <xsl:for-each select="ns0:Container/com:ApplicationObjectReference">
                    <com:ApplicationObjectReference>
                      <xsl:if test="com:ApplicationName">
                        <com:ApplicationName>
                          <xsl:value-of select="com:ApplicationName"/>
                        </com:ApplicationName>
                      </xsl:if>
                      <com:ApplicationObjectID>
                        <xsl:value-of select="com:ApplicationObjectID"/>
                      </com:ApplicationObjectID>
                    </com:ApplicationObjectReference>
                  </xsl:for-each>
                </ns0:Container>
              </xsl:if>
              <xsl:if test="ns0:Disposition">
                <ns0:Disposition>
                  <xsl:if test="ns0:Disposition/@languageCode">
                    <xsl:attribute name="languageCode">
                      <xsl:value-of select="ns0:Disposition/@languageCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:Disposition/@languageLocaleCode">
                    <xsl:attribute name="languageLocaleCode">
                      <xsl:value-of select="ns0:Disposition/@languageLocaleCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="ns0:Disposition"/>
                </ns0:Disposition>
              </xsl:if>
              <xsl:if test="ns0:DistributionCode">
                <ns0:DistributionCode>
                  <xsl:if test="ns0:DistributionCode/@listID">
                    <xsl:attribute name="listID">
                      <xsl:value-of select="ns0:DistributionCode/@listID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:DistributionCode/@listAgencyID">
                    <xsl:attribute name="listAgencyID">
                      <xsl:value-of select="ns0:DistributionCode/@listAgencyID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:DistributionCode/@listVersionID">
                    <xsl:attribute name="listVersionID">
                      <xsl:value-of select="ns0:DistributionCode/@listVersionID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="ns0:DistributionCode"/>
                </ns0:DistributionCode>
              </xsl:if>
              <xsl:if test="ns0:DistributionType">
                <ns0:DistributionType>
                  <xsl:if test="ns0:DistributionType/@languageCode">
                    <xsl:attribute name="languageCode">
                      <xsl:value-of select="ns0:DistributionType/@languageCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:DistributionType/@languageLocaleCode">
                    <xsl:attribute name="languageLocaleCode">
                      <xsl:value-of select="ns0:DistributionType/@languageLocaleCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="ns0:DistributionType"/>
                </ns0:DistributionType>
              </xsl:if>
              <xsl:if test="ns0:ShippedQuantity">
                <ns0:ShippedQuantity>
                  <xsl:if test="ns0:ShippedQuantity/@unitCode">
                    <xsl:attribute name="unitCode">
                      <xsl:value-of select="ns0:ShippedQuantity/@unitCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="ns0:ShippedQuantity"/>
                </ns0:ShippedQuantity>
              </xsl:if>
              <xsl:if test="ns0:StartDate">
                <ns0:StartDate>
                  <xsl:value-of select="ns0:StartDate"/>
                </ns0:StartDate>
              </xsl:if>
              <xsl:if test="ns0:Target">
                <ns0:Target>
                  <xsl:if test="ns0:Target/@languageCode">
                    <xsl:attribute name="languageCode">
                      <xsl:value-of select="ns0:Target/@languageCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:Target/@languageLocaleCode">
                    <xsl:attribute name="languageLocaleCode">
                      <xsl:value-of select="ns0:Target/@languageLocaleCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="ns0:Target"/>
                </ns0:Target>
              </xsl:if>
              <xsl:if test="ns0:Type">
                <ns0:Type>
                  <xsl:if test="ns0:Type/@listID">
                    <xsl:attribute name="listID">
                      <xsl:value-of select="ns0:Type/@listID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:Type/@listAgencyID">
                    <xsl:attribute name="listAgencyID">
                      <xsl:value-of select="ns0:Type/@listAgencyID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:Type/@listVersionID">
                    <xsl:attribute name="listVersionID">
                      <xsl:value-of select="ns0:Type/@listVersionID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="ns0:Type"/>
                </ns0:Type>
              </xsl:if>
              <xsl:if test="ns0:UnitQuantity">
                <ns0:UnitQuantity>
                  <xsl:if test="ns0:UnitQuantity/@unitCode">
                    <xsl:attribute name="unitCode">
                      <xsl:value-of select="ns0:UnitQuantity/@unitCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="ns0:UnitQuantity"/>
                </ns0:UnitQuantity>
              </xsl:if>
            </ns0:ReceiptItem>
          </xsl:for-each>
          <xsl:for-each select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:ReceiptCarton">
            <ns0:ReceiptCarton>
              <xsl:if test="ns0:Identification">
                <ns0:Identification>
                  <com:ID>
                    <xsl:value-of select="ns0:Identification/com:ID"/>
                  </com:ID>
                  <xsl:if test="ns0:Identification/com:BusinessComponentID">
                    <com:BusinessComponentID>
                      <xsl:if test="ns0:Identification/com:BusinessComponentID/@schemeID">
                        <xsl:attribute name="schemeID">
                          <xsl:value-of select="ns0:Identification/com:BusinessComponentID/@schemeID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Identification/com:BusinessComponentID/@schemeAgencyID">
                        <xsl:attribute name="schemeAgencyID">
                          <xsl:value-of select="ns0:Identification/com:BusinessComponentID/@schemeAgencyID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Identification/com:BusinessComponentID/@schemeVersionID">
                        <xsl:attribute name="schemeVersionID">
                          <xsl:value-of select="ns0:Identification/com:BusinessComponentID/@schemeVersionID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:value-of select="ns0:Identification/com:BusinessComponentID"/>
                    </com:BusinessComponentID>
                  </xsl:if>
                  <xsl:for-each select="ns0:Identification/com:ApplicationObjectReference">
                    <com:ApplicationObjectReference>
                      <xsl:if test="com:ApplicationName">
                        <com:ApplicationName>
                          <xsl:value-of select="com:ApplicationName"/>
                        </com:ApplicationName>
                      </xsl:if>
                      <com:ApplicationObjectID>
                        <xsl:value-of select="com:ApplicationObjectID"/>
                      </com:ApplicationObjectID>
                    </com:ApplicationObjectReference>
                  </xsl:for-each>
                </ns0:Identification>
              </xsl:if>
              <xsl:if test="ns0:Code">
                <ns0:Code>
                  <xsl:if test="ns0:Code/@listID">
                    <xsl:attribute name="listID">
                      <xsl:value-of select="ns0:Code/@listID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:Code/@listAgencyID">
                    <xsl:attribute name="listAgencyID">
                      <xsl:value-of select="ns0:Code/@listAgencyID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:Code/@listVersionID">
                    <xsl:attribute name="listVersionID">
                      <xsl:value-of select="ns0:Code/@listVersionID"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="ns0:Code"/>
                </ns0:Code>
              </xsl:if>
              <xsl:if test="ns0:Container">
                <ns0:Container>
                  <com:ID>
                    <xsl:value-of select="ns0:Container/com:ID"/>
                  </com:ID>
                  <xsl:if test="ns0:Container/com:BusinessComponentID">
                    <com:BusinessComponentID>
                      <xsl:if test="ns0:Container/com:BusinessComponentID/@schemeID">
                        <xsl:attribute name="schemeID">
                          <xsl:value-of select="ns0:Container/com:BusinessComponentID/@schemeID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Container/com:BusinessComponentID/@schemeAgencyID">
                        <xsl:attribute name="schemeAgencyID">
                          <xsl:value-of select="ns0:Container/com:BusinessComponentID/@schemeAgencyID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Container/com:BusinessComponentID/@schemeVersionID">
                        <xsl:attribute name="schemeVersionID">
                          <xsl:value-of select="ns0:Container/com:BusinessComponentID/@schemeVersionID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:value-of select="ns0:Container/com:BusinessComponentID"/>
                    </com:BusinessComponentID>
                  </xsl:if>
                  <xsl:for-each select="ns0:Container/com:ApplicationObjectReference">
                    <com:ApplicationObjectReference>
                      <xsl:if test="com:ApplicationName">
                        <com:ApplicationName>
                          <xsl:value-of select="com:ApplicationName"/>
                        </com:ApplicationName>
                      </xsl:if>
                      <com:ApplicationObjectID>
                        <xsl:value-of select="com:ApplicationObjectID"/>
                      </com:ApplicationObjectID>
                    </com:ApplicationObjectReference>
                  </xsl:for-each>
                </ns0:Container>
              </xsl:if>
              <xsl:if test="ns0:Disposition">
                <ns0:Disposition>
                  <xsl:if test="ns0:Disposition/@languageCode">
                    <xsl:attribute name="languageCode">
                      <xsl:value-of select="ns0:Disposition/@languageCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:Disposition/@languageLocaleCode">
                    <xsl:attribute name="languageLocaleCode">
                      <xsl:value-of select="ns0:Disposition/@languageLocaleCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="ns0:Disposition"/>
                </ns0:Disposition>
              </xsl:if>
              <xsl:if test="ns0:EndDate">
                <ns0:EndDate>
                  <xsl:value-of select="ns0:EndDate"/>
                </ns0:EndDate>
              </xsl:if>
              <xsl:if test="ns0:Status">
                <ns0:Status>
                  <xsl:if test="ns0:Status/com:Code">
                    <com:Code>
                      <xsl:if test="ns0:Status/com:Code/@listID">
                        <xsl:attribute name="listID">
                          <xsl:value-of select="ns0:Status/com:Code/@listID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Status/com:Code/@listAgencyID">
                        <xsl:attribute name="listAgencyID">
                          <xsl:value-of select="ns0:Status/com:Code/@listAgencyID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Status/com:Code/@listVersionID">
                        <xsl:attribute name="listVersionID">
                          <xsl:value-of select="ns0:Status/com:Code/@listVersionID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:value-of select="ns0:Status/com:Code"/>
                    </com:Code>
                  </xsl:if>
                  <xsl:if test="ns0:Status/com:EffectivePeriod">
                    <com:EffectivePeriod>
                      <xsl:if test="ns0:Status/com:EffectivePeriod/com:StartDateTime">
                        <com:StartDateTime>
                          <xsl:value-of select="ns0:Status/com:EffectivePeriod/com:StartDateTime"/>
                        </com:StartDateTime>
                      </xsl:if>
                      <xsl:if test="ns0:Status/com:EffectivePeriod/com:EndDateTime">
                        <com:EndDateTime>
                          <xsl:value-of select="ns0:Status/com:EffectivePeriod/com:EndDateTime"/>
                        </com:EndDateTime>
                      </xsl:if>
                    </com:EffectivePeriod>
                  </xsl:if>
                  <xsl:if test="ns0:Status/com:ReasonCode">
                    <com:ReasonCode>
                      <xsl:if test="ns0:Status/com:ReasonCode/@listID">
                        <xsl:attribute name="listID">
                          <xsl:value-of select="ns0:Status/com:ReasonCode/@listID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Status/com:ReasonCode/@listAgencyID">
                        <xsl:attribute name="listAgencyID">
                          <xsl:value-of select="ns0:Status/com:ReasonCode/@listAgencyID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Status/com:ReasonCode/@listVersionID">
                        <xsl:attribute name="listVersionID">
                          <xsl:value-of select="ns0:Status/com:ReasonCode/@listVersionID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:value-of select="ns0:Status/com:ReasonCode"/>
                    </com:ReasonCode>
                  </xsl:if>
                  <xsl:for-each select="ns0:Status/com:Description">
                    <com:Description>
                      <xsl:if test="@languageCode">
                        <xsl:attribute name="languageCode">
                          <xsl:value-of select="@languageCode"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="@languageLocaleCode">
                        <xsl:attribute name="languageLocaleCode">
                          <xsl:value-of select="@languageLocaleCode"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:value-of select="."/>
                    </com:Description>
                  </xsl:for-each>
                  <xsl:if test="ns0:Status/com:SubStatusCode">
                    <com:SubStatusCode>
                      <xsl:if test="ns0:Status/com:SubStatusCode/@listID">
                        <xsl:attribute name="listID">
                          <xsl:value-of select="ns0:Status/com:SubStatusCode/@listID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Status/com:SubStatusCode/@listAgencyID">
                        <xsl:attribute name="listAgencyID">
                          <xsl:value-of select="ns0:Status/com:SubStatusCode/@listAgencyID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="ns0:Status/com:SubStatusCode/@listVersionID">
                        <xsl:attribute name="listVersionID">
                          <xsl:value-of select="ns0:Status/com:SubStatusCode/@listVersionID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:value-of select="ns0:Status/com:SubStatusCode"/>
                    </com:SubStatusCode>
                  </xsl:if>
                  <xsl:if test="ns0:Status/com:CodeBolean">
                    <com:CodeBolean>
                      <xsl:value-of select="ns0:Status/com:CodeBolean"/>
                    </com:CodeBolean>
                  </xsl:if>
                </ns0:Status>
              </xsl:if>
              <xsl:if test="ns0:Target">
                <ns0:Target>
                  <xsl:if test="ns0:Target/@languageCode">
                    <xsl:attribute name="languageCode">
                      <xsl:value-of select="ns0:Target/@languageCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:Target/@languageLocaleCode">
                    <xsl:attribute name="languageLocaleCode">
                      <xsl:value-of select="ns0:Target/@languageLocaleCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="ns0:Target"/>
                </ns0:Target>
              </xsl:if>
              <xsl:if test="ns0:Type">
                <ns0:Type>
                  <xsl:if test="ns0:Type/@languageCode">
                    <xsl:attribute name="languageCode">
                      <xsl:value-of select="ns0:Type/@languageCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:if test="ns0:Type/@languageLocaleCode">
                    <xsl:attribute name="languageLocaleCode">
                      <xsl:value-of select="ns0:Type/@languageLocaleCode"/>
                    </xsl:attribute>
                  </xsl:if>
                  <xsl:value-of select="ns0:Type"/>
                </ns0:Type>
              </xsl:if>
            </ns0:ReceiptCarton>
          </xsl:for-each>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Type">
            <ns0:Type>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Type/@languageCode">
                <xsl:attribute name="languageCode">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Type/@languageCode"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Type/@languageLocaleCode">
                <xsl:attribute name="languageLocaleCode">
                  <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Type/@languageLocaleCode"/>
                </xsl:attribute>
              </xsl:if>
              <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Type"/>
            </ns0:Type>
          </xsl:if>
          <xsl:if test="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Custom">
            <ns0:Custom>
              <xsl:for-each select="/ns0:ProcessReceiptEBM/ns0:DataArea/ns0:ProcessReceipt/ns0:Custom/ns1:ReceiptValueSet">
                <ns1:ReceiptValueSet>
                  <xsl:if test="com:Identification">
                    <com:Identification>
                      <com:ID>
                        <xsl:value-of select="com:Identification/com:ID"/>
                      </com:ID>
                      <xsl:if test="com:Identification/com:BusinessComponentID">
                        <com:BusinessComponentID>
                          <xsl:if test="com:Identification/com:BusinessComponentID/@schemeID">
                            <xsl:attribute name="schemeID">
                              <xsl:value-of select="com:Identification/com:BusinessComponentID/@schemeID"/>
                            </xsl:attribute>
                          </xsl:if>
                          <xsl:if test="com:Identification/com:BusinessComponentID/@schemeAgencyID">
                            <xsl:attribute name="schemeAgencyID">
                              <xsl:value-of select="com:Identification/com:BusinessComponentID/@schemeAgencyID"/>
                            </xsl:attribute>
                          </xsl:if>
                          <xsl:if test="com:Identification/com:BusinessComponentID/@schemeVersionID">
                            <xsl:attribute name="schemeVersionID">
                              <xsl:value-of select="com:Identification/com:BusinessComponentID/@schemeVersionID"/>
                            </xsl:attribute>
                          </xsl:if>
                          <xsl:value-of select="com:Identification/com:BusinessComponentID"/>
                        </com:BusinessComponentID>
                      </xsl:if>
                      <xsl:for-each select="com:Identification/com:ApplicationObjectReference">
                        <com:ApplicationObjectReference>
                          <xsl:if test="com:ApplicationName">
                            <com:ApplicationName>
                              <xsl:value-of select="com:ApplicationName"/>
                            </com:ApplicationName>
                          </xsl:if>
                          <com:ApplicationObjectID>
                            <xsl:value-of select="com:ApplicationObjectID"/>
                          </com:ApplicationObjectID>
                        </com:ApplicationObjectReference>
                      </xsl:for-each>
                    </com:Identification>
                  </xsl:if>
                  <xsl:if test="com:Name">
                    <com:Name>
                      <xsl:value-of select="com:Name"/>
                    </com:Name>
                  </xsl:if>
                  <xsl:if test="com:Description">
                    <com:Description>
                      <xsl:if test="com:Description/@languageCode">
                        <xsl:attribute name="languageCode">
                          <xsl:value-of select="com:Description/@languageCode"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="com:Description/@languageLocaleCode">
                        <xsl:attribute name="languageLocaleCode">
                          <xsl:value-of select="com:Description/@languageLocaleCode"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:value-of select="com:Description"/>
                    </com:Description>
                  </xsl:if>
                  <xsl:if test="com:DataTypeCode">
                    <com:DataTypeCode>
                      <xsl:if test="com:DataTypeCode/@listID">
                        <xsl:attribute name="listID">
                          <xsl:value-of select="com:DataTypeCode/@listID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="com:DataTypeCode/@listAgencyID">
                        <xsl:attribute name="listAgencyID">
                          <xsl:value-of select="com:DataTypeCode/@listAgencyID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="com:DataTypeCode/@listVersionID">
                        <xsl:attribute name="listVersionID">
                          <xsl:value-of select="com:DataTypeCode/@listVersionID"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:value-of select="com:DataTypeCode"/>
                    </com:DataTypeCode>
                  </xsl:if>
                  <xsl:if test="com:MinimumValue">
                    <com:MinimumValue>
                      <xsl:value-of select="com:MinimumValue"/>
                    </com:MinimumValue>
                  </xsl:if>
                  <xsl:if test="com:MaximumValue">
                    <com:MaximumValue>
                      <xsl:value-of select="com:MaximumValue"/>
                    </com:MaximumValue>
                  </xsl:if>
                  <xsl:if test="com:MinimumLength">
                    <com:MinimumLength>
                      <xsl:value-of select="com:MinimumLength"/>
                    </com:MinimumLength>
                  </xsl:if>
                  <xsl:if test="com:MaximumLength">
                    <com:MaximumLength>
                      <xsl:value-of select="com:MaximumLength"/>
                    </com:MaximumLength>
                  </xsl:if>
                  <xsl:for-each select="com:ValueSetLine">
                    <com:ValueSetLine>
                      <xsl:if test="com:Application">
                        <com:Application>
                          <xsl:if test="com:Application/com:Name">
                            <com:Name>
                              <xsl:value-of select="com:Application/com:Name"/>
                            </com:Name>
                          </xsl:if>
                          <xsl:if test="com:Application/com:Code">
                            <com:Code>
                              <xsl:if test="com:Application/com:Code/@listID">
                                <xsl:attribute name="listID">
                                  <xsl:value-of select="com:Application/com:Code/@listID"/>
                                </xsl:attribute>
                              </xsl:if>
                              <xsl:if test="com:Application/com:Code/@listAgencyID">
                                <xsl:attribute name="listAgencyID">
                                  <xsl:value-of select="com:Application/com:Code/@listAgencyID"/>
                                </xsl:attribute>
                              </xsl:if>
                              <xsl:if test="com:Application/com:Code/@listVersionID">
                                <xsl:attribute name="listVersionID">
                                  <xsl:value-of select="com:Application/com:Code/@listVersionID"/>
                                </xsl:attribute>
                              </xsl:if>
                              <xsl:value-of select="com:Application/com:Code"/>
                            </com:Code>
                          </xsl:if>
                          <xsl:if test="com:Application/com:User">
                            <com:User>
                              <xsl:value-of select="com:Application/com:User"/>
                            </com:User>
                          </xsl:if>
                          <xsl:if test="com:Application/com:Version">
                            <com:Version>
                              <xsl:if test="com:Application/com:Version/@listID">
                                <xsl:attribute name="listID">
                                  <xsl:value-of select="com:Application/com:Version/@listID"/>
                                </xsl:attribute>
                              </xsl:if>
                              <xsl:if test="com:Application/com:Version/@listAgencyID">
                                <xsl:attribute name="listAgencyID">
                                  <xsl:value-of select="com:Application/com:Version/@listAgencyID"/>
                                </xsl:attribute>
                              </xsl:if>
                              <xsl:if test="com:Application/com:Version/@listVersionID">
                                <xsl:attribute name="listVersionID">
                                  <xsl:value-of select="com:Application/com:Version/@listVersionID"/>
                                </xsl:attribute>
                              </xsl:if>
                              <xsl:value-of select="com:Application/com:Version"/>
                            </com:Version>
                          </xsl:if>
                        </com:Application>
                      </xsl:if>
                      <com:Value>
                        <xsl:if test="com:Value/@name">
                          <xsl:attribute name="name">
                            <xsl:value-of select="com:Value/@name"/>
                          </xsl:attribute>
                        </xsl:if>
                        <xsl:if test="com:Value/@languageCode">
                          <xsl:attribute name="languageCode">
                            <xsl:value-of select="com:Value/@languageCode"/>
                          </xsl:attribute>
                        </xsl:if>
                        <xsl:if test="com:Value/@languageLocaleCode">
                          <xsl:attribute name="languageLocaleCode">
                            <xsl:value-of select="com:Value/@languageLocaleCode"/>
                          </xsl:attribute>
                        </xsl:if>
                        <xsl:value-of select="com:Value"/>
                      </com:Value>
                    </com:ValueSetLine>
                  </xsl:for-each>
                  <xsl:for-each select="com:ValueLine">
                    <com:ValueLine>
                      <xsl:if test="@name">
                        <xsl:attribute name="name">
                          <xsl:value-of select="@name"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:if test="@type">
                        <xsl:attribute name="type">
                          <xsl:value-of select="@type"/>
                        </xsl:attribute>
                      </xsl:if>
                      <xsl:value-of select="."/>
                    </com:ValueLine>
                  </xsl:for-each>
                </ns1:ReceiptValueSet>
              </xsl:for-each>
            </ns0:Custom>
          </xsl:if>
        </ns0:ProcessReceipt>
        <ns0:ReceiptRecordHistory>
          <com:CreationDate>
            <xsl:value-of select="xp20:format-dateTime (xp20:current-dateTime(), &quot;[Y001]-[M01]-[D01]T[h01]:[m01]:[s01]&quot; )"/>
          </com:CreationDate>
          <com:CreatedBy>
            <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:SourceID"/>
          </com:CreatedBy>
          <com:LastUpdateDate>
            <xsl:value-of select="xp20:format-dateTime (xp20:current-dateTime(), &quot;[Y001]-[M01]-[D01]T[h01]:[m01]:[s01]&quot; )"/>
          </com:LastUpdateDate>
          <com:LastUpdatedBy>
            <xsl:value-of select="/ns0:ProcessReceiptEBM/ns0:Header/com:SourceID"/>
          </com:LastUpdatedBy>
        </ns0:ReceiptRecordHistory>
      </ns0:DataArea>
    </ns0:ProcessReceiptEBM>
  </xsl:template>
</xsl:stylesheet>