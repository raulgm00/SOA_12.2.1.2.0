<?xml version="1.0" encoding="UTF-8"?>
<con:pipelineEntry xmlns:con="http://www.bea.com/wli/sb/pipeline/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config">
    <con:coreEntry>
        <con:binding type="SOAP" isSoap12="false" xsi:type="con:SoapBindingType">
            <con:wsdl ref="DownloadInventoryItemAPP/CreateFileDowInvItem/Resources/WSDLs/CreateDIInvFileWSDL"/>
            <con:binding>
                <con:name>execute_bind</con:name>
                <con:namespace>http://xmlns.oracle.com/OSBAGApp/DownloadInventoryItemAPP/CreateDIInvFileWSDL</con:namespace>
            </con:binding>
        </con:binding>
        <con:xqConfiguration>
            <con:snippetVersion>1.0</con:snippetVersion>
        </con:xqConfiguration>
    </con:coreEntry>
    <con:router errorHandler="error-afffb76.N47ab6bcc.0.17746e46741.N7d2e">
        <con:pipeline type="request" name="request-afffb76.N47ab6bcc.0.17746e46741.N7ec9" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con4="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/stages/logging/config">
            <con:stage id="_StageId-afffb76.N47ab6bcc.0.17746e46741.N7ec8" name="Stage1">
                <con:context>
                    <con1:userNsDecl prefix="com" namespace="http://www.agarcia.mx/EnterpriseObjects/Common" xmlns:con5="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="dow" namespace="http://www.agarcia.mx/EnterpriseObjects/DownloadInventoryItem" xmlns:con5="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con2:assign varName="UUID">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ec7</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">data($body/dow:ProcessDownloadInventoryItemEBM/dow:header/com:InstanceID)</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="TrackingID">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ec6</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body/dow:ProcessDownloadInventoryItemEBM/dow:header/com:TrackingID</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="FileNameDoc">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ec5</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body/dow:ProcessDownloadInventoryItemEBM/dow:header/com:SourceID/text()</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="FileNameLog">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ec4</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body/dow:ProcessDownloadInventoryItemEBM/dow:header/com:SourceID</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con3:log>
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ec3</con5:id>
                        <con3:logLevel>warning</con3:logLevel>
                        <con3:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body</con1:xqueryText>
                        </con3:expr>
                        <con3:message>[***********************************************************************|LLEGA-Others|*****************************************************]</con3:message>
                    </con3:log>
                    <con2:assign varName="IsStore">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ec2</con5:id>
                        <con1:disabled xmlns:con5="http://www.bea.com/wli/sb/stages/config">true</con1:disabled>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body/dow:ProcessDownloadInventoryItemEBM/dow:dataArea/dow:DownloadInventoryItemEBO/dow:THEAD/dow:LocationType='S'</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con3:log>
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ec1</con5:id>
                        <con1:disabled xmlns:con5="http://www.bea.com/wli/sb/stages/config">true</con1:disabled>
                        <con3:logLevel>warning</con3:logLevel>
                        <con3:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$IsStore</con1:xqueryText>
                        </con3:expr>
                        <con3:message>[========Valor de IsStore==============]</con3:message>
                    </con3:log>
                    <con2:replace varName="body" contents-only="true">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ec0</con5:id>
                        <con2:location>
                            <con1:xpathText xmlns:con5="http://www.bea.com/wli/sb/stages/config">.</con1:xpathText>
                        </con2:location>
                        <con2:expr>
                            <con1:xsltTransform xmlns:con5="http://www.bea.com/wli/sb/stages/config">
                                <con1:resource ref="DownloadInventoryItemAPP/SyncDownloadInvItem/Resources/XSLTs/XfromEBMtoFtpFilesI"/>
                                <con1:input>$body/dow:ProcessDownloadInventoryItemEBM</con1:input>
                            </con1:xsltTransform>
                        </con2:expr>
                    </con2:replace>
                    <con3:log>
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ebf</con5:id>
                        <con1:disabled xmlns:con5="http://www.bea.com/wli/sb/stages/config">true</con1:disabled>
                        <con3:logLevel>warning</con3:logLevel>
                        <con3:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body</con1:xqueryText>
                        </con3:expr>
                        <con3:message>[****************************micambio***************]</con3:message>
                    </con3:log>
                    <con3:log>
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ebe</con5:id>
                        <con1:disabled xmlns:con5="http://www.bea.com/wli/sb/stages/config">true</con1:disabled>
                        <con3:logLevel>warning</con3:logLevel>
                        <con3:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">data($body//*:Root-Element/*:THEAD/*:LocationType)</con1:xqueryText>
                        </con3:expr>
                        <con3:message>[][][][][][][][][][]mi data[][][][][][][][][][][][][][][][][][]</con3:message>
                    </con3:log>
                    <con2:ifThenElse>
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ebd</con5:id>
                        <con2:case id="_BranchId-afffb76.N47ab6bcc.0.17746e46741.N7ebc">
                            <con2:condition>
                                <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body//*:Root-Element/*:THEAD/*:LocationType='W'</con1:xqueryText>
                            </con2:condition>
                            <con2:actions>
                                <con3:log>
                                    <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ebb</con5:id>
                                    <con3:logLevel>warning</con3:logLevel>
                                    <con3:expr>
                                        <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body</con1:xqueryText>
                                    </con3:expr>
                                    <con3:message>[================================================||SAALMA - IF||=========================================================================]</con3:message>
                                </con3:log>
                                <con2:wsCallout>
                                    <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7eba</con5:id>
                                    <con2:service ref="DownloadInventoryItemAPP/SendFileFtp/ProxyServices/ToSaalmaPS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con2:operation>execute</con2:operation>
                                    <con2:request>
                                        <con2:body wrapped="true">body</con2:body>
                                    </con2:request>
                                    <con2:response>
                                        <con2:body wrapped="true">body</con2:body>
                                    </con2:response>
                                    <con2:requestTransform/>
                                    <con2:responseTransform/>
                                </con2:wsCallout>
                            </con2:actions>
                        </con2:case>
                        <con2:default>
                            <con3:log>
                                <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7eb9</con5:id>
                                <con3:logLevel>warning</con3:logLevel>
                                <con3:expr>
                                    <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body</con1:xqueryText>
                                </con3:expr>
                                <con3:message>[================================================||REGIS - ELSE -||=========================================================================]</con3:message>
                            </con3:log>
                            <con2:wsCallout>
                                <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7eb8</con5:id>
                                <con2:service ref="DownloadInventoryItemAPP/SendFileFtp/ProxyServices/ToRegisPS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                <con2:operation>execute</con2:operation>
                                <con2:request>
                                    <con2:body wrapped="true">body</con2:body>
                                </con2:request>
                                <con2:response>
                                    <con2:body wrapped="true">body</con2:body>
                                </con2:response>
                                <con2:requestTransform/>
                                <con2:responseTransform/>
                            </con2:wsCallout>
                        </con2:default>
                    </con2:ifThenElse>
                    <con3:report>
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7eb7</con5:id>
                        <con3:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$UUID</con1:xqueryText>
                        </con3:expr>
                        <con3:labels>
                            <con3:key>DowInvItemSendToSaalma</con3:key>
                            <con3:varName>body</con3:varName>
                            <con3:value>
                                <con1:xpathText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$FileNameLog</con1:xpathText>
                            </con3:value>
                        </con3:labels>
                    </con3:report>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-afffb76.N47ab6bcc.0.17746e46741.N7eb6" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con4="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/stages/logging/config">
            <con:stage id="_StageId-afffb76.N47ab6bcc.0.17746e46741.N7eb5" name="Stage1">
                <con:context/>
                <con:actions>
                    <con2:assign varName="Message">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7eb4</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">'Ok'</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="Code">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7eb3</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">'0000'</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="Details">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7eb2</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">'ok'</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:replace varName="body" contents-only="true">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7eb1</con5:id>
                        <con2:location>
                            <con1:xpathText xmlns:con5="http://www.bea.com/wli/sb/stages/config">.</con1:xpathText>
                        </con2:location>
                        <con2:expr>
                            <con1:xsltTransform xmlns:con5="http://www.bea.com/wli/sb/stages/config">
                                <con1:resource ref="DownloadInventoryItemAPP/SyncDownloadInvItem/Resources/XSLTs/XfromResponse"/>
                                <con1:input>$body</con1:input>
                                <con1:param name="Code">
                                    <con1:path>$Code</con1:path>
                                </con1:param>
                                <con1:param name="Message">
                                    <con1:path>$Message</con1:path>
                                </con1:param>
                                <con1:param name="UUID">
                                    <con1:path>$UUID</con1:path>
                                </con1:param>
                                <con1:param name="TrackingID">
                                    <con1:path>$TrackingID</con1:path>
                                </con1:param>
                                <con1:param name="Details">
                                    <con1:path>$Details</con1:path>
                                </con1:param>
                            </con1:xsltTransform>
                        </con2:expr>
                    </con2:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-afffb76.N47ab6bcc.0.17746e46741.N7da9" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con4="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/stages/logging/config">
            <con:stage id="_StageId-afffb76.N47ab6bcc.0.17746e46741.N7da8" name="Stage1">
                <con:context>
                    <con1:userNsDecl prefix="com" namespace="http://www.agarcia.mx/EnterpriseObjects/Common" xmlns:con5="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="dow" namespace="http://www.agarcia.mx/EnterpriseObjects/DownloadInventoryItem" xmlns:con5="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con2:assign varName="UUID">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7da7</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">data($body/dow:ProcessDownloadInventoryItemEBM/dow:header/com:InstanceID)</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="TrackingID">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7da6</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body/dow:ProcessDownloadInventoryItemEBM/dow:header/com:TrackingID</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="FileNameDoc">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7da5</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body/dow:ProcessDownloadInventoryItemEBM/dow:header/com:SourceID/text()</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="FileNameLog">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7da4</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body/dow:ProcessDownloadInventoryItemEBM/dow:header/com:SourceID</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con3:log>
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7da3</con5:id>
                        <con3:logLevel>warning</con3:logLevel>
                        <con3:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body</con1:xqueryText>
                        </con3:expr>
                        <con3:message>[***********************************************************************|LLEGA-rms|*****************************************************]</con3:message>
                    </con3:log>
                    <con2:assign varName="IsStore">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7da2</con5:id>
                        <con1:disabled xmlns:con5="http://www.bea.com/wli/sb/stages/config">true</con1:disabled>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body/dow:ProcessDownloadInventoryItemEBM/dow:dataArea/dow:DownloadInventoryItemEBO/dow:THEAD/dow:LocationType='S'</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con3:log>
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7da1</con5:id>
                        <con1:disabled xmlns:con5="http://www.bea.com/wli/sb/stages/config">true</con1:disabled>
                        <con3:logLevel>warning</con3:logLevel>
                        <con3:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$IsStore</con1:xqueryText>
                        </con3:expr>
                        <con3:message>[========Valor de IsStore==============]</con3:message>
                    </con3:log>
                    <con2:replace varName="body" contents-only="true">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7da0</con5:id>
                        <con2:location>
                            <con1:xpathText xmlns:con5="http://www.bea.com/wli/sb/stages/config">.</con1:xpathText>
                        </con2:location>
                        <con2:expr>
                            <con1:xsltTransform xmlns:con5="http://www.bea.com/wli/sb/stages/config">
                                <con1:resource ref="DownloadInventoryItemAPP/SyncDownloadInvItem/Resources/XSLTs/XfromEBMtoFtpFilesI"/>
                                <con1:input>$body/dow:ProcessDownloadInventoryItemEBM</con1:input>
                            </con1:xsltTransform>
                        </con2:expr>
                    </con2:replace>
                    <con3:log>
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7d9f</con5:id>
                        <con1:disabled xmlns:con5="http://www.bea.com/wli/sb/stages/config">true</con1:disabled>
                        <con3:logLevel>warning</con3:logLevel>
                        <con3:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$body</con1:xqueryText>
                        </con3:expr>
                        <con3:message>[****************************micambio***************]</con3:message>
                    </con3:log>
                    <con3:log>
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7d9e</con5:id>
                        <con1:disabled xmlns:con5="http://www.bea.com/wli/sb/stages/config">true</con1:disabled>
                        <con3:logLevel>warning</con3:logLevel>
                        <con3:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">data($body//*:Root-Element/*:THEAD/*:LocationType)</con1:xqueryText>
                        </con3:expr>
                        <con3:message>[][][][][][][][][][]mi data[][][][][][][][][][][][][][][][][][]</con3:message>
                    </con3:log>
                    <con3:report>
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7d97</con5:id>
                        <con3:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$UUID</con1:xqueryText>
                        </con3:expr>
                        <con3:labels>
                            <con3:key>DowInvItemSendToSaalma</con3:key>
                            <con3:varName>body</con3:varName>
                            <con3:value>
                                <con1:xpathText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$FileNameLog</con1:xpathText>
                            </con3:value>
                        </con3:labels>
                    </con3:report>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-afffb76.N47ab6bcc.0.17746e46741.N7d96" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con4="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/stages/logging/config">
            <con:stage id="_StageId-afffb76.N47ab6bcc.0.17746e46741.N7d95" name="Stage1">
                <con:context/>
                <con:actions>
                    <con2:assign varName="Message">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7d94</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">'Ok'</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="Code">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7d93</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">'0000'</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="Details">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7d92</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">'ok'</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:replace varName="body" contents-only="true">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7d91</con5:id>
                        <con2:location>
                            <con1:xpathText xmlns:con5="http://www.bea.com/wli/sb/stages/config">.</con1:xpathText>
                        </con2:location>
                        <con2:expr>
                            <con1:xsltTransform xmlns:con5="http://www.bea.com/wli/sb/stages/config">
                                <con1:resource ref="DownloadInventoryItemAPP/SyncDownloadInvItem/Resources/XSLTs/XfromResponse"/>
                                <con1:input>$body</con1:input>
                                <con1:param name="Code">
                                    <con1:path>$Code</con1:path>
                                </con1:param>
                                <con1:param name="Message">
                                    <con1:path>$Message</con1:path>
                                </con1:param>
                                <con1:param name="UUID">
                                    <con1:path>$UUID</con1:path>
                                </con1:param>
                                <con1:param name="TrackingID">
                                    <con1:path>$TrackingID</con1:path>
                                </con1:param>
                                <con1:param name="Details">
                                    <con1:path>$Details</con1:path>
                                </con1:param>
                            </con1:xsltTransform>
                        </con2:expr>
                    </con2:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-afffb76.N47ab6bcc.0.17746e46741.N7d2e">
            <con:stage id="_StageId-afffb76.N47ab6bcc.0.17746e46741.N7ca4" name="Stage1" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con4="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/stages/logging/config">
                <con:context/>
                <con:actions>
                    <con3:report>
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ca3</con5:id>
                        <con3:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">fn:concat("InstanceID:", $UUID,", File:",$FileNameDoc)</con1:xqueryText>
                        </con3:expr>
                        <con3:labels>
                            <con3:key>DowInvItem.error</con3:key>
                            <con3:varName>fault</con3:varName>
                            <con3:value>
                                <con1:xpathText xmlns:con5="http://www.bea.com/wli/sb/stages/config">./ctx:errorCode</con1:xpathText>
                            </con3:value>
                        </con3:labels>
                    </con3:report>
                    <con3:log>
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ca2</con5:id>
                        <con3:logLevel>warning</con3:logLevel>
                        <con3:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$fault</con1:xqueryText>
                        </con3:expr>
                        <con3:message>[EROROROROROROROROROROOR]</con3:message>
                    </con3:log>
                    <con2:assign varName="Code">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ca1</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">'0001'</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con3:ifThenElse xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7ca0</con5:id>
                        <con3:case id="_BranchId-afffb76.N47ab6bcc.0.17746e46741.N7c9f">
                            <con3:condition>
                                <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$fault/ctx:details</con1:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="Details">
                                    <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7c9e</con5:id>
                                    <con3:expr>
                                        <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">fn:substring(data($fault/ctx:details), 0,500)</con1:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                            </con3:actions>
                        </con3:case>
                        <con3:default>
                            <con3:assign varName="Details">
                                <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7c9d</con5:id>
                                <con3:expr>
                                    <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">fn:substring(data($fault/ctx:reason), 0,500)</con1:xqueryText>
                                </con3:expr>
                            </con3:assign>
                        </con3:default>
                    </con3:ifThenElse>
                    <con2:assign varName="Message">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7c9c</con5:id>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">"Error"</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="Message">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7c9b</con5:id>
                        <con1:disabled xmlns:con5="http://www.bea.com/wli/sb/stages/config">true</con1:disabled>
                        <con2:expr>
                            <con1:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">$fault/ctx:details</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:replace varName="body" contents-only="true">
                        <con5:id xmlns:con5="http://www.bea.com/wli/sb/stages/config">_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7c9a</con5:id>
                        <con2:location>
                            <con1:xpathText xmlns:con5="http://www.bea.com/wli/sb/stages/config">.</con1:xpathText>
                        </con2:location>
                        <con2:expr>
                            <con1:xsltTransform xmlns:con5="http://www.bea.com/wli/sb/stages/config">
                                <con1:resource ref="DownloadInventoryItemAPP/SyncDownloadInvItem/Resources/XSLTs/XfromResponse"/>
                                <con1:input>$body</con1:input>
                                <con1:param name="Code">
                                    <con1:path>$Code</con1:path>
                                </con1:param>
                                <con1:param name="Message">
                                    <con1:path>$Message</con1:path>
                                </con1:param>
                                <con1:param name="UUID">
                                    <con1:path>$UUID</con1:path>
                                </con1:param>
                                <con1:param name="TrackingID">
                                    <con1:path>$TrackingID</con1:path>
                                </con1:param>
                                <con1:param name="Details">
                                    <con1:path>$Details</con1:path>
                                </con1:param>
                            </con1:xsltTransform>
                        </con2:expr>
                    </con2:replace>
                    <con1:reply xmlns:con5="http://www.bea.com/wli/sb/stages/config">
                        <con5:id>_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7c99</con5:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:flow>
            <con:branch-node type="operation" id="_FlowId-afffb76.N47ab6bcc.0.17746e46741.N8000" name="BranchNode1">
                <con:context/>
                <con:branch-table>
                    <con:branch name="ToOthers">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="PipePairNodeOthers" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con4="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/stages/logging/config">
                                <con:request>request-afffb76.N47ab6bcc.0.17746e46741.N7ec9</con:request>
                                <con:response>response-afffb76.N47ab6bcc.0.17746e46741.N7eb6</con:response>
                            </con:pipeline-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="ToArchRms">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="Pipeline Pair Node1" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con4="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/stages/logging/config">
                                <con:request>request-afffb76.N47ab6bcc.0.17746e46741.N7da9</con:request>
                                <con:response>response-afffb76.N47ab6bcc.0.17746e46741.N7d96</con:response>
                            </con:pipeline-node>
                            <con:route-node name="RouteNode1">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7bff</con2:id>
                                        <con1:service ref="DownloadInventoryItemAPP/SyncDownloadInvItem/Resources/JCA/FtoRmsArch" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>Put</con1:operation>
                                        <con1:outboundTransform>
                                            <con3:transport-headers copy-all="true" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con4="http://www.bea.com/wli/sb/stages/routing/config">
                                                <con2:id>_ActionId-afffb76.N47ab6bcc.0.17746e46741.N7bca</con2:id>
                                                <con3:header-set>outbound-request</con3:header-set>
                                                <con3:header value="expression" name="jca.ftp.FileName">
                                                    <con2:xqueryText>$FileNameDoc</con2:xqueryText>
                                                </con3:header>
                                                <con3:header value="expression" name="fileName">
                                                    <con2:xqueryText>$FileNameDoc</con2:xqueryText>
                                                </con3:header>
                                                <con3:header value="expression" name="jca.file.FileName">
                                                    <con2:xqueryText>$FileNameDoc</con2:xqueryText>
                                                </con3:header>
                                            </con3:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:default-branch>
                        <con:flow/>
                    </con:default-branch>
                </con:branch-table>
            </con:branch-node>
        </con:flow>
        <con:partner-links/>
    </con:router>
</con:pipelineEntry>