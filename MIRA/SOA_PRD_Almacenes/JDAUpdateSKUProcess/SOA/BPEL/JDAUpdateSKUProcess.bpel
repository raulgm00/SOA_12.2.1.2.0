<?xml version = "1.0" encoding = "UTF-8" ?>
<!--
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  Oracle JDeveloper BPEL Designer 
  
  Created: Wed Jun 12 12:54:35 CDT 2019
  Author:  offic
  Type: BPEL 2.0 Process
  Purpose: Synchronous BPEL Process
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
-->
<process name="JDAUpdateSKUProcess"
               targetNamespace="http://xmlns.oracle.com/JDAUpdateSKUApp/JDAUpdateSKUProcess/JDAUpdateSKUProcessx"
               xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
               xmlns:client="http://xmlns.oracle.com/JDAUpdateSKUApp/JDAUpdateSKUProcess/JDAUpdateSKUProcessx"
               xmlns:ora="http://schemas.oracle.com/xpath/extension"
               xmlns:ui="http://xmlns.oracle.com/soa/designer"
               xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
         xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
         xmlns:ns1="http://mx.agarcia.ea/Applications/JDA/Items/ModifyItem/v1.0"
         xmlns:ns2="http://mx.agarcia.ea/Applications/JDA/Items/QueryItem/v1.0"
         xmlns:ns6="http://mx.agarcia.ea/Applications/JDA/Items/QueryItem"
         xmlns:ns3="http://mx.agarcia.ea/Capabilities/Core/Items/UpdateItemEntity"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xmlns:ns4="http://mx.agarcia.ea/Canonical/Commons/Items/v1"
         xmlns:ns5="http://mx.agarcia.ea/Canonical/Commons/Suppliers/v1"
         xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
         xmlns:bpm="http://xmlns.oracle.com/bpmn20/extensions"
         xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
         xmlns:ess="http://xmlns.oracle.com/scheduler" xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
         xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
         xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
         xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
         xmlns:xdk="http://schemas.oracle.com/bpel/extension/xpath/function/xdk"
         xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
         xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap"
         xmlns:ns7="http://mx.agarcia.ea/Applications/JDA/Items/ModifyItem"
         xmlns:ns8="http://mx.agarcia.ea/Commons/Schemas/AGStandardMessage"
         xmlns:ns9="http://mx.agarcia.ea/Commons/Schemas/AGStandardHeader" xmlns:xsd="http://www.w3.org/2001/XMLSchema"
         xmlns:ns10="http://mx.agarcia.ea/Capabilities/Support/Commons/ItemCatalogEntitySvcWSDL"
         xmlns:ns11="http://mx.agarcia.ea/Capabilities/Support/Commons/ItemCatalogEntitySvc"
         xmlns:ns12="http://mx.agarcia.ea/Applications/Governance"
         xmlns:ns13="http://mx.agarcia.ea/Capabilities/Support/Commons/MerchandiseHierarchyEntitySvc/v1.0"
         xmlns:ns14="http://mx.agarcia.ea/Capabilities/Support/Commons/MerchandiseHierarchyEntity"
         xmlns:ns15="http://mx.agarcia.ea/Applications/JDA/Buyer/FindBuyer/v1.0"
         xmlns:ns16="http://mx.agarcia.ea/Applications/JDA/Buyer"
         xmlns:ns17="http://mx.agarcia.ea/Canonical/Commons/LocationsCommon/v1">
  <import namespace="http://mx.agarcia.ea/Applications/Governance"
          location="http://172.16.19.26:7004/Applications/Governance/PS/GovernanceAPIPXY/v1.0?WSDL"
          importType="http://schemas.xmlsoap.org/wsdl/"/>
  <import ui:processWSDL="true" namespace="http://xmlns.oracle.com/JDAUpdateSKUApp/JDAUpdateSKUProcess/JDAUpdateSKUProcessx" location="../WSDLs/JDAUpdateSKUProcess.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"/>
    <!-- 
      ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        PARTNERLINKS                                                      
        List of services participating in this BPEL process               
      ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    --> 
  <partnerLinks>
    <!-- 
      The 'client' role represents the requester of this service. It is 
      used for callback. The location and correlation information associated
      with the client role are automatically set using WS-Addressing.
    -->
    <partnerLink name="JDAUpdateSKUService" partnerLinkType="client:JDAUpdateSKUProcess" myRole="JDAUpdateSKUProcessProvider"/>
    <partnerLink name="JDAModifySKUUDAService" partnerLinkType="ns1:JDAModifySKUUDAService"
                 partnerRole="modifyItemPort"/>
    <partnerLink name="JDAFindSKUByIdService" partnerLinkType="ns2:JDAFindSKUByIdService" partnerRole="queryItemPort"/>
    <partnerLink name="JDAModifySKUService" partnerLinkType="ns1:JDAModifySKUService" partnerRole="modifyItemPort"/>
    <partnerLink name="JDAModifySKUAttributesService" partnerLinkType="ns1:JDAModifySKUAttributesService"
                 partnerRole="modifyItemPort"/>
    <partnerLink name="JDAModifySKUDiffService" partnerLinkType="ns1:JDAModifySKUDiffService"
                 partnerRole="modifyItemPort"/>
    <partnerLink name="JDAModifySKUHierarchyService" partnerLinkType="ns1:JDAModifySKUHierarchyService"
                 partnerRole="modifyItemPort"/>
    <partnerLink name="TranslateItemCatalogService" partnerLinkType="ns10:TranslateItemCatalogService"
                 partnerRole="ItemCatalogEntitySvcPType"/>
    <partnerLink name="GovernanceAPIPXY" partnerLinkType="ns12:GovernanceAPIPXY" partnerRole="GovernancePort"/>
    <partnerLink name="MerchandiseHierarchySvc" partnerLinkType="ns13:MerchandiseHierarchySvc"
                 partnerRole="MerchandiseHierarchyEntityPType"/>
    <partnerLink name="JDAModifySKUStickerPXY" partnerLinkType="ns1:JDAModifySKUStickerPXY"
                 partnerRole="modifyItemPort"/>
    <partnerLink name="JDAFindBuyerPXY" partnerLinkType="ns15:JDAFindBuyerPXY" partnerRole="findBuyerPort"/>
    <partnerLink name="JDAModifySKUPack" partnerLinkType="ns1:JDAModifySKUPack" partnerRole="modifyItemPort"/>
    <partnerLink name="JDAModifyStylePack" partnerLinkType="ns1:JDAModifyStylePack" partnerRole="modifyItemPort"/>
  </partnerLinks>

  <!-- 
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
      VARIABLES                                                        
      List of messages and XML documents used within this BPEL process 
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  -->
  <variables>
    <!-- Reference to the message passed as input during initiation -->
    <variable name="inputVariable" messageType="client:JDAUpdateSKUProcessRequestMessage"/>

    <!-- Reference to the message that will be returned to the requester-->
    <variable name="outputVariable" messageType="client:JDAUpdateSKUProcessResponseMessage"/>
    <variable name="findByIdSKU_InputVariable" messageType="ns2:findItemByIdRequestMessage"/>
    <variable name="findByIdSKU_OutputVariable" messageType="ns2:filterItemResponseMessage"/>
    <variable name="modifyGeneralData_InputVariable" messageType="ns1:modifyItemRequestMessage"/>
    <variable name="modifyGeneralData_OutputVariable" messageType="ns1:modifyItemResponseMessage"/>
    <variable name="modifyHierarchy_InputVariable" messageType="ns1:modifyItemRequestMessage"/>
    <variable name="modifyHierarchy_OutputVariable" messageType="ns1:modifyItemResponseMessage"/>
    <variable name="modifyAttribute_InputVariable" messageType="ns1:modifyItemRequestMessage"/>
    <variable name="modifyAttribute_OutputVariable" messageType="ns1:modifyItemResponseMessage"/>
    <variable name="modifyUDA_InputVariable" messageType="ns1:modifyItemRequestMessage"/>
    <variable name="modifyUDA_OutputVariable" messageType="ns1:modifyItemResponseMessage"/>
    <variable name="modifyDiff_InputVariable" messageType="ns1:modifyItemRequestMessage"/>
    <variable name="modifyDiff_OutputVariable" messageType="ns1:modifyItemResponseMessage"/>
    <variable name="header" messageType="client:StandardHeaderMessage"/>
    <variable name="SucID" type="xsd:string"/>
    <variable name="translateItemCatalog_InputVariable" messageType="ns10:requestMessage"/>
    <variable name="translateItemCatalog_OutputVariable" messageType="ns10:replyMessage"/>
    <variable name="countCatalogUDA" type="xsd:integer"/>
    <variable name="interfaceId" type="xsd:string"/>
    <variable name="activityId" type="xsd:string"/>
    <variable name="sendMessageTopic_InputVariable" messageType="ns12:audit"/>
    <variable name="sendMessageTopic_OutputVariable" messageType="ns12:auditResponse"/>
    <variable name="initialDateTime" type="xsd:string"/>
    <variable name="finishDateTime" type="xsd:string"/>
    <variable name="Entry_1" messageType="ns12:audit"/>
    <variable name="Entry_2" messageType="ns12:audit"/>
    <variable name="Entry_3" messageType="ns12:audit"/>
    <variable name="Entry_4" messageType="ns12:audit"/>
    <variable name="Entry_5" messageType="ns12:audit"/>
    <variable name="Entry_6" messageType="ns12:audit"/>
    <variable name="Entry_7" messageType="ns12:audit"/>
    <variable name="Entry_8" messageType="ns12:audit"/>
    <variable name="Entry_9" messageType="ns12:audit"/>
    <variable name="traceID1" type="xsd:string"/>
    <variable name="traceID2" type="xsd:string"/>
    <variable name="traceID3" type="xsd:string"/>
    <variable name="traceID4" type="xsd:string"/>
    <variable name="traceID5" type="xsd:string"/>
    <variable name="MercHierarSvc_InputVariable" messageType="ns13:requestMessage"/>
    <variable name="MercHierarSvc_OutputVariable" messageType="ns13:replyMessage"/>
    <variable name="countHierarchy" type="xsd:integer"/>
    <variable name="validationGeneralData" type="xsd:integer"/>
    <variable name="validationHierachy" type="xsd:integer"/>
    <variable name="validationUDA" type="xsd:integer"/>
    <variable name="validationAttribute" type="xsd:integer"/>
    <variable name="validationDiff" type="xsd:integer"/>
    <variable name="supplierID" messageType="client:JDAUpdateSKUProcessRequestMessage"/>
    <variable name="Diff_sendMessageTopic_InputVariable" messageType="ns12:audit"/>
    <variable name="Diff_sendMessageTopic_OutputVariable" messageType="ns12:auditResponse"/>
    <variable name="UDA_sendMessageTopic_InputVariable" messageType="ns12:audit"/>
    <variable name="UDA_sendMessageTopic_OutputVariable" messageType="ns12:auditResponse"/>
    <variable name="Hierarchy_sendMessageTopic_InputVariable" messageType="ns12:audit"/>
    <variable name="Hierarchy_sendMessageTopic_OutputVariable" messageType="ns12:auditResponse"/>
    <variable name="alertId" type="xsd:integer"/>
    <variable name="JDAModifySKUStickerPXY_modify_InputVariable" messageType="ns1:modifyItemRequestMessage"/>
    <variable name="JDAModifySKUStickerPXY_modify_OutputVariable" messageType="ns1:modifyItemResponseMessage"/>
    <variable name="JDAFindBuyerPXY_modify_InputVariable" messageType="ns15:findBuyerRequestMessage"/>
    <variable name="validationPackaging" type="xsd:integer"/>
    <variable name="Packaging_modify_InputVariable" messageType="ns1:modifyItemRequestMessage"/>
    <variable name="Packaging_modify_OutputVariable" messageType="ns1:modifyItemResponseMessage"/>
    <variable name="PackagingStyle_modify_InputVariable" messageType="ns1:modifyItemRequestMessage"/>
    <variable name="PackagingStyle_modify_OutputVariable" messageType="ns1:modifyItemResponseMessage"/>
  </variables>

  <!-- 
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
     ORCHESTRATION LOGIC                                               
     Set of activities coordinating the flow of messages across the    
     services integrated within this business process                  
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  -->
  <sequence name="main">

    <!-- Receive input from requestor. (Note: This maps to operation defined in JDAUpdateSKUProcess.wsdl) -->
    <receive name="receiveInput" partnerLink="JDAUpdateSKUService" portType="client:JDAUpdateSKUProcess" operation="modifySKU" variable="inputVariable" createInstance="yes"
             bpelx:headerVariable="header"/>
    <flow name="GetGovernanceIds">
      <sequence name="InterfaceId">
        <if name="validateInterfaceId">
          <documentation>
            <![CDATA[Recibe Id de interface]]>
          </documentation>
          <condition>$header.headerMessage/ns9:parameters/ns9:parameter[@Key='gov.interface.id']</condition>
          <assign name="getInterfaceId">
            <copy>
              <from>$header.headerMessage/ns9:parameters/ns9:parameter[@Key='gov.interface.id']</from>
              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$interfaceId</to>
            </copy>
          </assign>
          <else>
            <documentation>
              <![CDATA[No recibe Id de interface]]>
            </documentation>
            <empty name="InterfaceIdNull"/>
          </else>
        </if>
      </sequence>
      <sequence name="ActivityId">
        <if name="validateActicityId" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
          <documentation>
            <![CDATA[Recibe Id de actividad]]>
          </documentation>
          <condition>$header.headerMessage/ns9:parameters/ns9:parameter[@Key='gov.activity.id']</condition>
          <assign name="getActivityId">
            <copy>
              <from>$header.headerMessage/ns9:parameters/ns9:parameter[@Key='gov.activity.id']</from>
              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$activityId</to>
            </copy>
          </assign>
          <else>
            <documentation>
              <![CDATA[No recibe Id de actividad]]>
            </documentation>
            <empty name="ActivityIdNull"/>
          </else>
        </if>
      </sequence>
    </flow>
    <assign name="getDataSKU">
      <copy>
        <from>$inputVariable.payload/ns3:items/ns4:item/ns4:id</from>
        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$findByIdSKU_InputVariable.payload/ns6:itemFilter/ns4:id</to>
      </copy>
    </assign>
    <invoke name="findByIdSKU" bpelx:invokeAsDetail="no" partnerLink="JDAFindSKUByIdService"
            portType="ns2:queryItemPort" operation="findById" inputVariable="findByIdSKU_InputVariable"
            outputVariable="findByIdSKU_OutputVariable"/><assign name="disabled"
                                                                 xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      
   <copy>
         <from>0</from>
         <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationGeneralData</to>
      </copy><copy>
        <from>0</from>
        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationHierachy</to>
      </copy><copy>
        <from>0</from>
        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationUDA</to>
      </copy><copy>
        <from>0</from>
        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationAttribute</to>
      </copy><copy>
        <from>0</from>
        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationDiff</to>
      </copy></assign><flow name="ValidateNodeInput">
      <sequence name="Sequence33"><if name="ValidationGeneralData"
                                      xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      <documentation>
         <![CDATA[Habilitar Update General Data]]>
      </documentation>
      <condition>(string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:name))&gt;0) or (string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:shortDescription))&gt;0) or (string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:supplier/ns5:supplierID))&gt;0) or (string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:parent/ns4:id))&gt;0)</condition>
      <sequence name="Sequence22">
         <assign name="getIdTrace">
              <copy>
                <from>oraext:sequence-next-val ("ID_SERV_SEC", "jdbc/MDMSOA")</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$traceID4</to>
              </copy>
            </assign>
      </sequence>
      <else>
         <documentation>
            <![CDATA[Deshabilitado]]>
         </documentation>
         <assign name="disabled">
            <copy>
               <from>0</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationGeneralData</to>
            </copy>
         </assign>
      </else>
   </if></sequence>
      <sequence name="Sequence24">
        <assign name="getIdTrace">
          <copy ignoreMissingFromData="yes">
            <from>oraext:sequence-next-val ("ID_SERV_SEC", "jdbc/MDMSOA")</from>
            <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertId</to>
          </copy>
        </assign>
      </sequence>
      <sequence name="Diff">
        <if name="ValidationDiff">
          <documentation>
            <![CDATA[Habilitar Update Diff]]>
          </documentation>
          <condition>(count($inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:colors/ns4:color)&gt;0) or (count($inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:sizes/ns4:size)&gt;0)</condition><sequence name="Sequence19"><assign name="enable"><copy><from>1</from><to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationDiff</to></copy></assign>
            <assign name="getIdTrace">
         
      <copy>
            <from>oraext:sequence-next-val ("ID_SERV_SEC", "jdbc/MDMSOA")</from>
            <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$traceID1</to>
         </copy></assign></sequence><else>
            <documentation>
              <![CDATA[Deshabilitado]]>
            </documentation>
            <assign name="disabled">
              <copy>
                <from>0</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationDiff</to>
              </copy>
            </assign>
          </else>
        </if>
      </sequence>
      <sequence name="Attribute">
        <if name="ValidationAttribute">
          <documentation>
            <![CDATA[Habilitar Update Attribute]]>
          </documentation>
          <condition>count($inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:attributes/ns4:attribute)&gt;0</condition>
          <sequence name="Sequence20">
            <assign name="enable">
              <copy>
                <from>1</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationAttribute</to>
              </copy>
            </assign>
            <assign name="getIdTrace">
              <copy>
                <from>oraext:sequence-next-val ("ID_SERV_SEC", "jdbc/MDMSOA")</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$traceID2</to>
              </copy>
            </assign>
          </sequence>
          <else>
            <documentation>
              <![CDATA[Deshabilitado]]>
            </documentation>
            <assign name="disabled">
              <copy>
                <from>0</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationAttribute</to>
              </copy>
            </assign>
          </else>
        </if>
      </sequence>
      <sequence name="UDA">
        <if name="ValidationUDA">
          <documentation>
            <![CDATA[Habilitar Update UDA]]>
          </documentation>
          <condition>count($inputVariable.payload/ns3:items/ns4:item/ns4:catalogs/ns4:catalog)&gt;0</condition>
          <sequence name="Sequence21">
            <assign name="enable">
              <copy>
                <from>1</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationUDA</to>
              </copy>
              <copy>
                <from>$inputVariable.payload/ns3:items/ns4:item/ns4:id</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyUDA_InputVariable.payload/ns7:item/ns4:id</to>
              </copy>
            </assign>
            <assign name="getIdTrace">
              <copy>
                <from>oraext:sequence-next-val ("ID_SERV_SEC", "jdbc/MDMSOA")</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$traceID3</to>
              </copy>
            </assign>
          </sequence>
          <else>
            <documentation>
              <![CDATA[Deshabilitado]]>
            </documentation>
            <assign name="disabled">
              <copy>
                <from>0</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationUDA</to>
              </copy>
            </assign>
          </else>
        </if>
      </sequence>
      <sequence name="General">
        <if name="ValidationGeneralData">
          <documentation>
            <![CDATA[Habilitar Update General Data]]>
          </documentation>
          <condition>(string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:name))&gt;0) or (string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:shortDescription))&gt;0) or (string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:supplier/ns5:supplierID))&gt;0) or (string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:parent/ns4:id))&gt;0)</condition>
          <sequence name="Sequence22">
            <assign name="getIdTrace">
              <copy>
                <from>oraext:sequence-next-val ("ID_SERV_SEC", "jdbc/MDMSOA")</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$traceID4</to>
              </copy>
            </assign>
          </sequence>
          <else>
            <documentation>
              <![CDATA[Deshabilitado]]>
            </documentation>
            <assign name="disabled">
              <copy>
                <from>0</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationGeneralData</to>
              </copy>
            </assign>
          </else>
        </if>
      </sequence>
      <sequence name="Hierarchy">
        <if name="ValidationPackaging">
          <documentation>
            <![CDATA[Habilitar Update Packaging]]>
          </documentation>
          <condition>count($inputVariable.payload/ns3:items/ns4:item/ns4:itemHierarchyInfo/ns4:hierarchy)&gt;0</condition>
          <sequence name="Sequence23">
            <assign name="enable">
              <copy>
                <from>1</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationPackaging</to>
              </copy>
            </assign>
          </sequence>
          <else>
            <documentation>
              <![CDATA[Deshabilitado]]>
            </documentation>
            <assign name="disabled">
              <copy>
                <from>0</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationPackaging</to>
              </copy>
            </assign>
          </else>
        </if>
      </sequence>
    </flow>
    <if name="validateResult">
      <documentation>
        <![CDATA[SKU no existente]]>
      </documentation>
      <condition>string-length(string($findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:id))=0</condition>
      <sequence name="errorSKU">
        <empty name="ErrorSKU"/><scope name="alertErrorData"
                                       xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      <variables>
            <variable name="alertErrorMessageTopic_audit_InputVariable" messageType="ns12:audit"/>
            <variable name="alertErrorMessageTopic_audit_OutputVariable" messageType="ns12:auditResponse"/>
          </variables><faultHandlers>
         <catchAll>
            <empty name="faultGeneralData"/>
         </catchAll>
      </faultHandlers>
      <sequence>
         <assign name="sendMessage">
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
         <copy>
               <from>"AlertInterface"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertErrorMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:operation</to>
            </copy><copy>
               <from>$interfaceId</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertErrorMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:interfaceId</to>
            </copy><copy>
               <from>$inputVariable.payload/ns3:items/ns4:item/ns4:id</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertErrorMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:data</to>
            </copy><copy>
               <from>"id"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>$alertId</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"registrationDate"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>xp20:current-dateTime()</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"component"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>"JDAUpdateSKUProcess"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"message"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>concat("Articulo con id: ",$inputVariable.payload/ns3:items/ns4:item/ns4:id," no existe ")</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"level"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>"E"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><extensionAssignOperation>
                <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertErrorMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
              </extensionAssignOperation><extensionAssignOperation>
                <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertErrorMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
              </extensionAssignOperation><extensionAssignOperation>
                <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertErrorMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
              </extensionAssignOperation><extensionAssignOperation>
                <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertErrorMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
              </extensionAssignOperation><extensionAssignOperation>
                <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertErrorMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
              </extensionAssignOperation></assign>
         <invoke name="alertErrorMessageTopic" partnerLink="GovernanceAPIPXY" portType="ns12:GovernancePort"
                 operation="audit" inputVariable="alertErrorMessageTopic_audit_InputVariable"
                 outputVariable="alertErrorMessageTopic_audit_OutputVariable"
                 xmlns:bpelx="http://schemas.oracle.com/bpel/extension" bpelx:invokeAsDetail="no"/>
      </sequence>
   </scope></sequence>
      <else>
        <documentation>
          <![CDATA[SKU Valido]]>
        </documentation>
        <sequence name="updateJDAFlow">
          <assign name="backUpDate">
            <copy>
              <from>$findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:id</from>
              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyUDA_InputVariable.payload/ns7:item/ns4:id</to>
            </copy>
            <copy>
              <from>$findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:name</from>
              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyGeneralData_InputVariable.payload/ns7:item/ns4:name</to>
            </copy>
            <copy>
              <from>$findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:id</from>
              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyGeneralData_InputVariable.payload/ns7:item/ns4:id</to>
            </copy>
            <copy>
              <from>$findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:shortDescription</from>
              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyGeneralData_InputVariable.payload/ns7:item/ns4:shortDescription</to>
            </copy>
            <copy>
              <from>$findByIdSKU_OutputVariable.payload/ns6:items/ns4:item</from>
              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyAttribute_InputVariable.payload/ns7:item</to>
            </copy>
            <copy>
              <from>$findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:parent/ns4:id</from>
              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyGeneralData_InputVariable.payload/ns7:item/ns4:parent/ns4:id</to>
            </copy>
            <copy>
              <from>$findByIdSKU_OutputVariable.payload/ns6:items/ns4:item</from>
              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyDiff_InputVariable.payload/ns7:item</to>
            </copy>
          </assign>
          <flow name="updateSKU">
            <sequence name="Packaging">
              <assign name="initialDate" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      <copy>
         <from>xp20:current-dateTime()</from>
         <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$initialDateTime</to>
      </copy>
   </assign>
              <if name="validatePackaging"
                                           xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      <condition>string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:packaging))=0</condition>
      <empty name="notName"/>
      <else>
         <sequence name="Sequence30">
            <assign name="modifyPack">
               
            <copy>
                        <from>$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:packaging</from>
                        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Packaging_modify_InputVariable.payload/ns7:item/ns4:itemDetailInfo/ns4:packaging</to>
                      </copy><copy>
                        <from>$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:packaging</from>
                        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$PackagingStyle_modify_InputVariable.payload/ns7:item/ns4:itemDetailInfo/ns4:packaging</to>
                      </copy><copy ignoreMissingFromData="yes" bpelx:insertMissingToData="yes">
                        <from>$findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:parent/ns4:id</from>
                        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$PackagingStyle_modify_InputVariable.payload/ns7:item/ns4:parent/ns4:id</to>
                      </copy><copy>
                        <from>$inputVariable.payload/ns3:items/ns4:item/ns4:id</from>
                        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Packaging_modify_InputVariable.payload/ns7:item/ns4:id</to>
                      </copy></assign>
            <assign name="enable" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
               
            <copy>
                        <from>1</from>
                        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationPackaging</to>
                      </copy></assign>
         </sequence>
      </else>
   </if>
              <invoke name="Packaging" bpelx:invokeAsDetail="no" partnerLink="JDAModifySKUPack"
                      portType="ns1:modifyItemPort" operation="modify" inputVariable="Packaging_modify_InputVariable"
                      outputVariable="Packaging_modify_OutputVariable"/>
              <invoke name="PackagingStyle" bpelx:invokeAsDetail="no" partnerLink="JDAModifyStylePack"
                      portType="ns1:modifyItemPort" operation="modify"
                      inputVariable="PackagingStyle_modify_InputVariable"
                      outputVariable="PackagingStyle_modify_OutputVariable"/>
            </sequence>
            <sequence name="Diff">
              <bpelx:skipCondition>$validationDiff=0</bpelx:skipCondition>
              <assign name="initialDateC4" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                <copy>
                  <from>xp20:current-dateTime()</from>
                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$initialDateTime</to>
                </copy>
              </assign>
              <scope name="modifyDiff">
                <sequence name="Diff">
                  <sequence name="Size">
                    <if name="validateSize" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                      <condition>string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:sizes/ns4:size/ns4:code))=0</condition>
                      <empty name="notSize"/>
                      <else>
                        <sequence name="Sequence14">
                          <scope name="translateSize">
                            <faultHandlers>
                              <catchAll>
                                <empty name="errorSize"/>
                              </catchAll>
                            </faultHandlers>
                            <sequence>
                              <assign name="getTranslate">
                                <copy>
                                  <from>$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:sizes/ns4:size/ns4:code</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:id</to>
                                </copy>
                                <copy>
                                  <from>'Size'</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:catalogDefinition</to>
                                </copy>
                                <copy>
                                  <from>$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:sizes/ns4:size/@AppCode</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:applicationCode</to>
                                </copy>
                                <copy>
                                  <from>'GroupSize'</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:parentCatDef</to>
                                </copy>
                                <copy>
                                  <from>'10015'</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:parentId</to>
                                </copy>
                                <copy>
                                  <from>'JDA'</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:targetAppCode</to>
                                </copy>
                              </assign>
                              <if name="validateAppCode"
                                  xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                                <condition>$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:colors/ns4:color/@AppCode="RMS"</condition>
                                <assign name="insertOracleRMS">
                                  <copy>
                                    <from>"OracleRMS"</from>
                                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:applicationCode</to>
                                  </copy>
                                </assign>
                                <else>
                                  <empty name="OracleRMS"/>
                                </else>
                              </if>
                              <invoke name="translateItemCatalog" bpelx:invokeAsDetail="no"
                                      partnerLink="TranslateItemCatalogService"
                                      portType="ns10:ItemCatalogEntitySvcPType" operation="translate"
                                      inputVariable="translateItemCatalog_InputVariable"
                                      outputVariable="translateItemCatalog_OutputVariable"
                                      xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                      xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"/>
                              <assign name="modifySize">
                                <copy>
                                  <from>$translateItemCatalog_OutputVariable.response/ns11:catalogInfo/ns4:catalog/ns4:id</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyDiff_InputVariable.payload/ns7:item/ns4:itemDetailInfo/ns4:sizes/ns4:size/ns4:id</to>
                                </copy>
                              </assign>
                            </sequence>
                          </scope>
                        </sequence>
                      </else>
                    </if>
                  </sequence>
                  <sequence name="Color">
                    <if name="validateColor" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                      <condition>string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:colors/ns4:color/ns4:code))=0</condition>
                      <empty name="notColor"/>
                      <else>
                        <sequence name="Sequence13">
                          <scope name="translateColor">
                            <faultHandlers>
                              <catchAll>
                                <empty name="errorColor"/>
                              </catchAll>
                            </faultHandlers>
                            <sequence>
                              <assign name="getTranslate">
                                <copy>
                                  <from>$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:colors/ns4:color/ns4:code</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:id</to>
                                </copy>
                                <copy>
                                  <from>$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:colors/ns4:color/@AppCode</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:applicationCode</to>
                                </copy>
                                <copy>
                                  <from>'Color'</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:catalogDefinition</to>
                                </copy>
                                <copy>
                                  <from>'10001'</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:parentId</to>
                                </copy>
                                <copy>
                                  <from>'GroupColor'</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:parentCatDef</to>
                                </copy>
                              </assign>
                              <if name="validateAppCode">
                                <condition>$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:colors/ns4:color/@AppCode="RMS"</condition>
                                <assign name="insertOracleRMS">
                                  <copy>
                                    <from>"OracleRMS"</from>
                                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:applicationCode</to>
                                  </copy>
                                </assign>
                                <else>
                                  <empty name="OracleRMS"/>
                                </else>
                              </if>
                              <invoke name="translateItemCatalog" bpelx:invokeAsDetail="no"
                                      partnerLink="TranslateItemCatalogService"
                                      portType="ns10:ItemCatalogEntitySvcPType" operation="translate"
                                      inputVariable="translateItemCatalog_InputVariable"
                                      outputVariable="translateItemCatalog_OutputVariable"
                                      xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                      xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"/>
                              <assign name="modifyColor">
                                <copy>
                                  <from>$translateItemCatalog_OutputVariable.response/ns11:catalogInfo/ns4:catalog/ns4:id</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyDiff_InputVariable.payload/ns7:item/ns4:itemDetailInfo/ns4:colors/ns4:color/ns4:id</to>
                                </copy>
                              </assign>
                            </sequence>
                          </scope>
                        </sequence>
                      </else>
                    </if>
                  </sequence>
                  <invoke name="modifyDiff" bpelx:invokeAsDetail="no" partnerLink="JDAModifySKUDiffService"
                          portType="ns1:modifyItemPort" operation="modify" inputVariable="modifyDiff_InputVariable"
                          outputVariable="modifyDiff_OutputVariable"/>
                </sequence>
              </scope><scope name="traceModifyDiffData"
                             xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      
      <faultHandlers>
         <catchAll>
            <empty name="faultGeneralData"/>
         </catchAll>
      </faultHandlers>
      <sequence>
         <assign name="sendMessage">
                    <copy>
                      <from>"TraceActivity"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Diff_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:operation</to>
                    </copy>
                    <copy>
                      <from>$interfaceId</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Diff_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:interfaceId</to>
                    </copy>
                    <copy>
                      <from>$activityId</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Diff_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:activityId</to>
                    </copy>
                    <copy>
                      <from>"Modificando articulo"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Diff_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:data</to>
                    </copy>
                    <copy>
                      <from>"id"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>$traceID1</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"registrationDate"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>$initialDateTime</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"finishDate"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>xp20:current-dateTime()</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"component"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"ModifyDiffs"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"destinyComponent"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"ModifyDiffJDAProxy"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"message"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"Modificando diferenciadores de articulo"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"level"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>1</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"status"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"Finalizado"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"class"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"Expert"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Diff_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Diff_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Diff_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Diff_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Diff_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Diff_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Diff_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Diff_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Diff_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                  </assign>
         <invoke name="sendMessageTopic" partnerLink="GovernanceAPIPXY"
                 portType="ns12:GovernancePort" operation="audit" inputVariable="Diff_sendMessageTopic_InputVariable"
                 outputVariable="Diff_sendMessageTopic_OutputVariable"
                 xmlns:bpelx="http://schemas.oracle.com/bpel/extension" bpelx:invokeAsDetail="no"/>
      </sequence>
   </scope><scope name="alertModifyDiffData" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      <variables><variable name="alertMessageTopic_audit_InputVariable" messageType="ns12:audit"/><variable name="alertMessageTopic_audit_OutputVariable"
                                                                                                            messageType="ns12:auditResponse"/>
                  <variable name="alertDiffMessageTopic_audit_InputVariable" messageType="ns12:audit"/>
                  <variable name="alertDiffMessageTopic_audit_OutputVariable" messageType="ns12:auditResponse"/>
                </variables><faultHandlers>
         <catchAll>
            <empty name="faultGeneralData"/>
         </catchAll>
      </faultHandlers>
      <sequence>
         <assign name="sendMessage">
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
         <copy>
               <from>"AlertInterface"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertDiffMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:operation</to>
            </copy><copy>
               <from>$interfaceId</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertDiffMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:interfaceId</to>
            </copy><copy>
               <from>$inputVariable.payload/ns3:items/ns4:item/ns4:id</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertDiffMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:data</to>
            </copy><copy>
               <from>"id"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>$traceID1</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"registrationDate"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>xp20:current-dateTime()</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"component"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>"ModifyDiffJDAProxy"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"message"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>concat("Modificando diferenciadores de articulo ",$inputVariable.payload/ns3:items/ns4:item/ns4:id)</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"level"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>"W"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertDiffMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                    </extensionAssignOperation><extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertDiffMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                    </extensionAssignOperation><extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertDiffMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                    </extensionAssignOperation><extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertDiffMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                    </extensionAssignOperation><extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertDiffMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                    </extensionAssignOperation></assign>
         <invoke name="alertDiffMessageTopic" partnerLink="GovernanceAPIPXY" portType="ns12:GovernancePort"
                 operation="audit" inputVariable="alertDiffMessageTopic_audit_InputVariable"
                 outputVariable="alertDiffMessageTopic_audit_OutputVariable"
                 xmlns:bpelx="http://schemas.oracle.com/bpel/extension" bpelx:invokeAsDetail="no"/>
      </sequence>
   </scope></sequence>
            <sequence name="Attribute">
              <bpelx:skipCondition>1=1</bpelx:skipCondition>
              <assign name="initialDateC3" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                <copy>
                  <from>xp20:current-dateTime()</from>
                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$initialDateTime</to>
                </copy>
              </assign>
              <scope name="modifyAttribute">
                <sequence name="Sequence6">
                  <flow name="ValidateAttribute">
                    <sequence name="ISEASN">
                      <if name="putISEASN" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                        <condition>$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:attributes/ns4:attribute[@Type="ISEASN"]</condition>
                        <sequence name="Sequence8">
                          <assign name="putISEASN" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                            <copy>
                              <from>"ISEASN"</from>
                              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyAttribute_InputVariable.payload/ns7:item/ns4:itemDetailInfo/ns4:attributes/ns4:attribute/@Type</to>
                            </copy>
                            <copy>
                              <from>$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:attributes/ns4:attribute/ns4:id</from>
                              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyAttribute_InputVariable.payload/ns7:item/ns4:itemDetailInfo/ns4:attributes/ns4:attribute/ns4:id</to>
                            </copy>
                          </assign>
                        </sequence>
                        <else>
                          <empty xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"/>
                        </else>
                      </if>
                    </sequence>
                    <sequence name="BYRNUM">
                      <if name="BYRNUM" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                        <condition>$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:attributes/ns4:attribute[@Type="BYRNUM"]</condition>
                        <assign name="putBYRNUM" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                          <copy>
                            <from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:attributes/ns4:attribute/ns4:id</from>
                            <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyAttribute_InputVariable.payload/ns7:item/ns4:itemDetailInfo/ns4:attributes/ns4:attribute/ns4:id</to>
                          </copy>
                          <copy>
                            <from>"BYRNUM"</from>
                            <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyAttribute_InputVariable.payload/ns7:item/ns4:itemDetailInfo/ns4:attributes/ns4:attribute/@Type</to>
                          </copy>
                        </assign>
                        <else>
                          <empty xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"/>
                        </else>
                      </if>
                    </sequence>
                    <sequence name="MCHNUM">
                      <if name="MCHNUM" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                        <condition>$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:attributes/ns4:attribute[@Type="MCHNUM"]</condition>
                        <sequence name="Sequence7">
                          <assign name="putMCHNUM" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                            <copy>
                              <from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:attributes/ns4:attribute/ns4:id</from>
                              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyAttribute_InputVariable.payload/ns7:item/ns4:itemDetailInfo/ns4:attributes/ns4:attribute/ns4:id</to>
                            </copy>
                            <copy>
                              <from>"MCHNUM"</from>
                              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyAttribute_InputVariable.payload/ns7:item/ns4:itemDetailInfo/ns4:attributes/ns4:attribute/@Type</to>
                            </copy>
                          </assign>
                        </sequence>
                        <else>
                          <empty xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"/>
                        </else>
                      </if>
                    </sequence>
                  </flow>
                  <assign name="iteratorAttribute">
                    <bpelx:annotation>
                      <bpelx:pattern patternName="bpelx:transformation"></bpelx:pattern>
                    </bpelx:annotation>
                    <copy>
                      <from>ora:doXSLTransformForDoc("../Transformations/iteratorAttribute_1.xsl", $inputVariable.payload)</from>
                      <to variable="modifyAttribute_InputVariable" part="payload"/>
                    </copy>
                  </assign>
                  <invoke name="modifyAttribute" inputVariable="modifyAttribute_InputVariable"
                          outputVariable="modifyAttribute_OutputVariable" bpelx:invokeAsDetail="no"
                          partnerLink="JDAModifySKUAttributesService" portType="ns1:modifyItemPort" operation="modify"/>
                </sequence>
              </scope><scope name="traceAttributelData"
                             xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      <bpelx:skipCondition xmlns:bpelx="http://schemas.oracle.com/bpel/extension">1=1</bpelx:skipCondition>
      <faultHandlers>
         <catchAll>
            <empty name="faultGeneralData"/>
         </catchAll>
      </faultHandlers>
      <sequence>
         <assign name="sendMessage">
            <copy>
               <from>"TraceActivity"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:operation</to>
            </copy>
            <copy>
               <from>$interfaceId</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:interfaceId</to>
            </copy>
            <copy>
               <from>$activityId</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:activityId</to>
            </copy>
            <copy>
               <from>"Modificando articulo"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:data</to>
            </copy>
            <copy>
               <from>"id"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy>
            <copy>
               <from>$traceID1</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy>
            <copy>
               <from>"registrationDate"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy>
            <copy>
               <from>$initialDateTime</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy>
            <copy>
               <from>"finishDate"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy>
            <copy>
               <from>xp20:current-dateTime()</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy>
            <copy>
               <from>"component"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy>
            <copy>
               <from>"ModifyGeneralData"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy>
            <copy>
               <from>"destinyComponent"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy>
            <copy>
               <from>"ModifyGeneralDataJDAProxy"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy>
            <copy>
               <from>"message"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy>
            <copy>
               <from>"Modificando datos de articulo"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy>
            <copy>
               <from>"level"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy>
            <copy>
               <from>1</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy>
            <copy>
               <from>"status"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy>
            <copy>
               <from>"Finalizado"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy>
            <copy>
               <from>"class"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy>
            <copy>
               <from>"Expert"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy>
            <extensionAssignOperation>
               <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
            </extensionAssignOperation>
            <extensionAssignOperation>
               <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
            </extensionAssignOperation>
            <extensionAssignOperation>
               <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
            </extensionAssignOperation>
            <extensionAssignOperation>
               <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
            </extensionAssignOperation>
            <extensionAssignOperation>
               <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
            </extensionAssignOperation>
            <extensionAssignOperation>
               <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
            </extensionAssignOperation>
            <extensionAssignOperation>
               <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
            </extensionAssignOperation>
            <extensionAssignOperation>
               <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
            </extensionAssignOperation>
            <extensionAssignOperation>
               <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
            </extensionAssignOperation>
         </assign>
         <invoke name="sendMessageTopic" bpelx:invokeAsDetail="no" partnerLink="GovernanceAPIPXY"
                 portType="ns12:GovernancePort" operation="audit" inputVariable="sendMessageTopic_InputVariable"
                 outputVariable="sendMessageTopic_OutputVariable"
                 xmlns:bpelx="http://schemas.oracle.com/bpel/extension"/>
      </sequence>
   </scope></sequence>
            <sequence name="GeneralData">
              <bpelx:skipCondition>$validationGeneralData=0</bpelx:skipCondition>
              <assign name="initialDateC1">
                <copy>
                  <from>xp20:current-dateTime()</from>
                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$initialDateTime</to>
                </copy>
              </assign>
              <scope name="modifyGeneralData">
                <sequence name="validate">
                  <flow name="ValidateGeneralData">
                    <sequence name="ParentID">
                      <if name="validateParentId">
                        <condition>$inputVariable.payload/ns3:items/ns4:item/ns4:parent/ns4:id = $findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:parent/ns4:id</condition>
                        <empty name="noParentId"/>
                        <else><sequence name="Sequence29"><assign name="modifyParentId"><copy><from>$inputVariable.payload/ns3:items/ns4:item/ns4:parent/ns4:id</from><to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyGeneralData_InputVariable.payload/ns7:item/ns4:parent/ns4:id</to></copy></assign><assign name="enable"
                                                                                                                                                                                                                                                                                                                                              xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      <copy>
         <from>1</from>
         <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationGeneralData</to>
      </copy>
   </assign></sequence></else>
                      </if>
                    </sequence>
                    <sequence name="SupplierID">
                      <if name="validateSupplierID">
                        <condition>string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:itemDetailInfo/ns4:supplier/ns5:supplierID))=0</condition>
                        <sequence name="Sequence16">
                          <assign name="insertOutFind">
                            <bpelx:annotation>
                              <bpelx:pattern patternName="bpelx:transformation"></bpelx:pattern>
                            </bpelx:annotation>
                            <copy>
                              <from>ora:doXSLTransformForDoc("../Transformations/insertOutFind_1.xsl", $findByIdSKU_OutputVariable.payload)</from>
                              <to variable="supplierID" part="payload"/>
                            </copy>
                          </assign>
                          <assign name="modifySupplierID"
                                  xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                            <copy ignoreMissingFromData="yes" bpelx:insertMissingToData="yes"
                                  xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                              <from>$supplierID.payload/ns3:items/ns4:item/ns4:id</from>
                              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyGeneralData_InputVariable.payload/ns7:item/ns4:itemDetailInfo/ns4:supplier/ns5:supplierID</to>
                            </copy>
                          </assign>
                        </sequence>
                        <else>
                          <sequence name="Sequence15">
                            <assign name="InsertValue">
                              <bpelx:annotation>
                                <bpelx:pattern patternName="bpelx:transformation"></bpelx:pattern>
                              </bpelx:annotation>
                              <copy>
                                <from>ora:doXSLTransformForDoc("../Transformations/InsertValue.xsl", $inputVariable.payload)</from>
                                <to variable="supplierID" part="payload"/>
                              </copy>
                            </assign>
                            <assign name="modifySupplierID">
                              <copy ignoreMissingFromData="yes" bpelx:insertMissingToData="yes">
                                <from>string($supplierID.payload/ns3:items/ns4:item/ns4:id)</from>
                                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyGeneralData_InputVariable.payload/ns7:item/ns4:itemDetailInfo/ns4:supplier/ns5:supplierID</to>
                              </copy>
                            </assign><assign name="enable"
                                             xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                              <copy>
                                <from>1</from>
                                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationGeneralData</to>
                              </copy>
                            </assign></sequence>
                        </else>
                      </if>
                    </sequence>
                    <sequence name="Name">
                      <if name="validateName">
                        <condition>string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:name))=0</condition>
                        <empty name="notName"/>
                        <else><sequence name="Sequence30"><assign name="modifyName"><copy><from>$inputVariable.payload/ns3:items/ns4:item/ns4:name</from><to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyGeneralData_InputVariable.payload/ns7:item/ns4:name</to></copy></assign><assign name="enable"
                                                                                                                                                                                                                                                                                                                        xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                              <copy>
                                <from>1</from>
                                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationGeneralData</to>
                              </copy>
                            </assign></sequence></else>
                      </if>
                    </sequence>
                    <sequence name="Description">
                      <if name="validateShortDescription">
                        <condition>string-length(string($inputVariable.payload/ns3:items/ns4:item/ns4:shortDescription))=0</condition>
                        <empty name="notShortDescription"
                               xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"/>
                        <else><sequence name="Sequence31"><assign name="modifyShortDescription"
                                                                  xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"><copy><from>$inputVariable.payload/ns3:items/ns4:item/ns4:shortDescription</from><to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyGeneralData_InputVariable.payload/ns7:item/ns4:shortDescription</to></copy></assign><assign name="enable"
                                                                                                                                                                                                                                                                                                                                                                                               xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      <copy>
         <from>1</from>
         <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$validationGeneralData</to>
      </copy>
   </assign></sequence></else>
                      </if>
                    </sequence>
                  </flow>
                  <invoke name="modifyGeneralData" partnerLink="JDAModifySKUService"
                          portType="ns1:modifyItemPort" operation="modify"
                          inputVariable="modifyGeneralData_InputVariable"
                          outputVariable="modifyGeneralData_OutputVariable" bpelx:invokeAsDetail="no">
                    <bpelx:skipCondition>$validationGeneralData=0</bpelx:skipCondition>
                  </invoke>
                </sequence>
              </scope>
              <scope name="traceModifyGeneralData">
                <faultHandlers>
                  <catchAll>
                    <empty name="faultGeneralData"/>
                  </catchAll>
                </faultHandlers>
                <sequence>
                  <assign name="sendMessage">
                    <copy>
                      <from>"TraceActivity"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:operation</to>
                    </copy>
                    <copy>
                      <from>$interfaceId</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:interfaceId</to>
                    </copy>
                    <copy>
                      <from>$activityId</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:activityId</to>
                    </copy>
                    <copy>
                      <from>"Modificando articulo"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:data</to>
                    </copy>
                    <copy>
                      <from>"id"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>$traceID4</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"registrationDate"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>$initialDateTime</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"finishDate"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>xp20:current-dateTime()</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"component"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"ModifyGeneralData"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"destinyComponent"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"ModifyGeneralDataJDAProxy"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"message"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"Modificando datos de articulo"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"level"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>1</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"status"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"Finalizado"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"class"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"Expert"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <extensionAssignOperation>
                      <bpelx:append>
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append>
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append>
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append>
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append>
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append>
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append>
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append>
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append>
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                  </assign>
                  <invoke name="sendMessageTopic" bpelx:invokeAsDetail="no" partnerLink="GovernanceAPIPXY"
                          portType="ns12:GovernancePort" operation="audit"
                          inputVariable="sendMessageTopic_InputVariable"
                          outputVariable="sendMessageTopic_OutputVariable"/>
                </sequence>
              </scope></sequence>
            <sequence name="Hierarchy">
              <bpelx:skipCondition>$validationHierachy=0</bpelx:skipCondition>
              <assign name="initialDateC2" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                <copy>
                  <from>xp20:current-dateTime()</from>
                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$initialDateTime</to>
                </copy>
              </assign>
              <scope name="modifyHierarchy">
                <faultHandlers>
                  <catchAll>
                    <empty name="Empty1"/>
                  </catchAll>
                </faultHandlers>
                <sequence name="Sequence4">
                  <if name="modifyHierarchy">
                    <condition>$inputVariable.payload/ns3:items/ns4:item/ns4:itemHierarchyInfo/ns4:hierarchy</condition>
                    <sequence>
                      <assign name="AssignHierarchy">
                        <copy>
                          <from>count($inputVariable.payload/ns3:items/ns4:item/ns4:itemHierarchyInfo/ns4:hierarchy)</from>
                          <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$countHierarchy</to>
                        </copy>
                        <copy>
                          <from>$inputVariable.payload/ns3:items/ns4:item/ns4:itemHierarchyInfo</from>
                          <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$MercHierarSvc_InputVariable.translateRequestMessage/ns14:itemHierarchyInfo</to>
                        </copy>
                      </assign>
                      <invoke name="MercHierarSvc" bpelx:invokeAsDetail="no" partnerLink="MerchandiseHierarchySvc"
                              portType="ns13:MerchandiseHierarchyEntityPType" operation="translate"
                              inputVariable="MercHierarSvc_InputVariable"
                              outputVariable="MercHierarSvc_OutputVariable"/>
                      <if name="validateTranslate">
                        <condition>string-length($MercHierarSvc_OutputVariable.translateResponseMessage/ns14:itemHierarchyInfo/ns4:hierarchy[@Type='SubClass']/ns4:id)&gt;0</condition><sequence name="Sequence27">
                          <assign name="AssignHierarchy"
                                                                                                                                                                                                                                                                                       xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                            <copy>
                              <from>$MercHierarSvc_OutputVariable.translateResponseMessage/ns14:itemHierarchyInfo</from>
                              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyHierarchy_InputVariable.payload/ns7:item/ns4:itemHierarchyInfo</to>
                            </copy>
                            <copy>
                              <from>$inputVariable.payload/ns3:items/ns4:item/ns4:id</from>
                              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyHierarchy_InputVariable.payload/ns7:item/ns4:id</to>
                            </copy>
                          </assign>
                          <scope name="updateBuyer" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                            <variables>
                              <variable name="JDAFindBuyerPXY_modify_InputVariable"
                                        messageType="ns15:findBuyerRequestMessage"/>
                              <variable name="JDAFindBuyerPXY_modify_OutputVariable"
                                        messageType="ns15:findBuyerResponseMessage"/>
                            </variables>
                            <sequence name="Sequence32">
                              <assign name="putBuyer">
                                <copy ignoreMissingFromData="yes" bpelx:insertMissingToData="yes"
                                      xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                                  <from>$MercHierarSvc_OutputVariable.translateResponseMessage/ns14:itemHierarchyInfo/ns4:hierarchy[@Type='Department']/ns4:id</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$JDAFindBuyerPXY_modify_InputVariable.findBuyerRequestMessage/ns16:department</to>
                                </copy>
                                <copy bpelx:insertMissingToData="yes" ignoreMissingFromData="yes"
                                      xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                                  <from>$MercHierarSvc_OutputVariable.translateResponseMessage/ns14:itemHierarchyInfo/ns4:hierarchy[@Type='Type']/ns4:id</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$JDAFindBuyerPXY_modify_InputVariable.findBuyerRequestMessage/ns16:subdepartment</to>
                                </copy>
                                <copy ignoreMissingFromData="yes" bpelx:insertMissingToData="yes"
                                      xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                                  <from>$MercHierarSvc_OutputVariable.translateResponseMessage/ns14:itemHierarchyInfo/ns4:hierarchy[@Type='Class']/ns4:id</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$JDAFindBuyerPXY_modify_InputVariable.findBuyerRequestMessage/ns16:class</to>
                                </copy>
                                <copy ignoreMissingFromData="yes" bpelx:insertMissingToData="yes"
                                      xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                                  <from>$MercHierarSvc_OutputVariable.translateResponseMessage/ns14:itemHierarchyInfo/ns4:hierarchy[@Type='SubClass']/ns4:id</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$JDAFindBuyerPXY_modify_InputVariable.findBuyerRequestMessage/ns16:subclass</to>
                                </copy>
                              </assign>
                              <invoke name="JDAFindBuyerPXY" bpelx:invokeAsDetail="no" partnerLink="JDAFindBuyerPXY"
                                      portType="ns15:findBuyerPort" operation="modify"
                                      inputVariable="JDAFindBuyerPXY_modify_InputVariable"
                                      outputVariable="JDAFindBuyerPXY_modify_OutputVariable"
                                      xmlns:bpelx="http://schemas.oracle.com/bpel/extension"/>
                              <assign name="AssignHierarchy">
                                <copy ignoreMissingFromData="yes" bpelx:insertMissingToData="yes"
                                      xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                                  <from>$JDAFindBuyerPXY_modify_OutputVariable.findBuyerResponseMessage/ns16:data/ns5:supplierID</from>
                                  <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyHierarchy_InputVariable.payload/ns7:item/ns4:itemDetailInfo/ns4:supplier/ns5:supplierID</to>
                                </copy>
                              </assign>
                            </sequence>
                          </scope>
                          <invoke name="modifyHierarchy" bpelx:invokeAsDetail="no" partnerLink="JDAModifySKUHierarchyService"
                    portType="ns1:modifyItemPort" operation="modify" inputVariable="modifyHierarchy_InputVariable"
                    outputVariable="modifyHierarchy_OutputVariable"
                    xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                    xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"/>
                        </sequence><else>
                          <sequence>
                            <if name="validateEqual">
                              <condition>($MercHierarSvc_OutputVariable.translateResponseMessage/ns14:itemHierarchyInfo/ns4:hierarchy[@Type="Department"]/ns4:id = $findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:itemHierarchyInfo/ns4:hierarchy[@Type="Department"]/ns4:id) and ($MercHierarSvc_OutputVariable.translateResponseMessage/ns14:itemHierarchyInfo/ns4:hierarchy[@Type="Type"]/ns4:id = $findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:itemHierarchyInfo/ns4:hierarchy[@Type="Type"]/ns4:id) and ($MercHierarSvc_OutputVariable.translateResponseMessage/ns14:itemHierarchyInfo/ns4:hierarchy[@Type="Class"]/ns4:id = $findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:itemHierarchyInfo/ns4:hierarchy[@Type="Class"]/ns4:id) and ($MercHierarSvc_OutputVariable.translateResponseMessage/ns14:itemHierarchyInfo/ns4:hierarchy[@Type="SubClass"]/ns4:id = $findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:itemHierarchyInfo/ns4:hierarchy[@Type="SubClass"]/ns4:id)</condition>
                              <empty name="HierarchyEqual"/>
                              <else>
                                <sequence>
                                  <assign name="insertTranslateHierarchy">
                                    <copy>
                                      <from>$MercHierarSvc_OutputVariable.translateResponseMessage/ns14:itemHierarchyInfo</from>
                                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyHierarchy_InputVariable.payload/ns7:item/ns4:itemHierarchyInfo</to>
                                    </copy>
                                  </assign>
                                  <invoke name="modifyHierarchy" bpelx:invokeAsDetail="no"
                                          partnerLink="JDAModifySKUHierarchyService" portType="ns1:modifyItemPort"
                                          operation="modify" inputVariable="modifyHierarchy_InputVariable"
                                          outputVariable="modifyHierarchy_OutputVariable"/>
                                </sequence>
                              </else>
                            </if>
                          </sequence>
                        </else>
                      </if>
                    </sequence>
                    <else>
                      <sequence name="Sequence5">
                        <empty name="notHierarchy"/>
                      </sequence>
                    </else>
                  </if>
                </sequence>
              </scope><scope name="traceModifyHierarchyData"
                             xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      
      <faultHandlers>
         <catchAll>
            <empty name="faultGeneralData"/>
         </catchAll>
      </faultHandlers>
      <sequence>
         <assign name="sendMessage">
                    <copy>
                      <from>"TraceActivity"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Hierarchy_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:operation</to>
                    </copy>
                    <copy>
                      <from>$interfaceId</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Hierarchy_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:interfaceId</to>
                    </copy>
                    <copy>
                      <from>$activityId</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Hierarchy_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:activityId</to>
                    </copy>
                    <copy>
                      <from>"Modificando articulo"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Hierarchy_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:data</to>
                    </copy>
                    <copy>
                      <from>"id"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>$traceID5</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"registrationDate"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>$initialDateTime</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"finishDate"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>xp20:current-dateTime()</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"component"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"ModifyHierarchy"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"destinyComponent"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"ModifyHierarchyJDAProxy"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"message"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"Modificando jerarquia de articulo"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"level"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>1</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"status"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"Finalizado"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <copy>
                      <from>"class"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                    </copy>
                    <copy>
                      <from>"Expert"</from>
                      <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                    </copy>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Hierarchy_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Hierarchy_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Hierarchy_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Hierarchy_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Hierarchy_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Hierarchy_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Hierarchy_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Hierarchy_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                    <extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Hierarchy_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                      </bpelx:append>
                    </extensionAssignOperation>
                  </assign>
         <invoke name="sendMessageTopic" partnerLink="GovernanceAPIPXY"
                 portType="ns12:GovernancePort" operation="audit"
                 inputVariable="Hierarchy_sendMessageTopic_InputVariable"
                 outputVariable="Hierarchy_sendMessageTopic_OutputVariable"
                 xmlns:bpelx="http://schemas.oracle.com/bpel/extension" bpelx:invokeAsDetail="no"/>
      </sequence>
   </scope><scope name="alertModifyHierarchyData" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      <variables>
                  <variable name="alertMessageTopic_audit_InputVariable" messageType="ns12:audit"/>
                  <variable name="alertMessageTopic_audit_OutputVariable" messageType="ns12:auditResponse"/>
                </variables><faultHandlers>
         <catchAll>
            <empty name="faultGeneralData"/>
         </catchAll>
      </faultHandlers>
      <sequence>
         <assign name="sendMessage">
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
         <copy>
               <from>"AlertInterface"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:operation</to>
            </copy><copy>
               <from>$interfaceId</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:interfaceId</to>
            </copy><copy>
               <from>$inputVariable.payload/ns3:items/ns4:item/ns4:id</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:data</to>
            </copy><copy>
               <from>"id"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>$traceID5</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"registrationDate"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>xp20:current-dateTime()</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"component"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>"ModifyHierarchyJDAProxy"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"message"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>concat("Modificando jerarquia de articulo ",$inputVariable.payload/ns3:items/ns4:item/ns4:id)</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"level"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>"W"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                    </extensionAssignOperation><extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                    </extensionAssignOperation><extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                    </extensionAssignOperation><extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                    </extensionAssignOperation><extensionAssignOperation>
                      <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                    </extensionAssignOperation></assign>
         <invoke name="alertMessageTopic" partnerLink="GovernanceAPIPXY" portType="ns12:GovernancePort" operation="audit"
                 inputVariable="alertMessageTopic_audit_InputVariable"
                 outputVariable="alertMessageTopic_audit_OutputVariable"
                 xmlns:bpelx="http://schemas.oracle.com/bpel/extension" bpelx:invokeAsDetail="no"/>
      </sequence>
   </scope></sequence>
          </flow>
          <sequence name="UDA">
            <bpelx:skipCondition>$validationUDA=0</bpelx:skipCondition>
            <assign name="initialDateC5" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
              <copy>
                <from>xp20:current-dateTime()</from>
                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$initialDateTime</to>
              </copy>
            </assign>
            <scope name="modifyUDA">
              <variables>
                <variable name="StickerVarControl" type="xsd:int"/>
              </variables>
              <faultHandlers>
                <catchAll>
                  <empty name="faultUDA"/>
                </catchAll>
              </faultHandlers>
              <sequence>
                <scope name="translateUDA">
                  <sequence>
                    <assign name="countCatalogUDA">
                      <copy>
                        <from>count($inputVariable.payload/ns3:items/ns4:item/ns4:catalogs/ns4:catalog)</from>
                        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$countCatalogUDA</to>
                      </copy>
                    </assign>
                    <forEach parallel="no" counterName="CountOfNode" name="callItemCatalogService">
                      <startCounterValue>1</startCounterValue>
                      <finalCounterValue>$countCatalogUDA</finalCounterValue>
                      <scope name="forEach">
                        <variables>
                          <variable name="typeVar" type="xsd:string"/>
                        </variables>
                        <faultHandlers>
                          <catchAll>
                            <assign name="errorCatch" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                              <extensionAssignOperation>
                                <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                              ignoreMissingFromData="yes">
                                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_OutputVariable.response/ns11:catalogInfo/ns4:catalog</bpelx:from>
                                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyUDA_InputVariable.payload/ns7:item/ns4:catalogs/ns4:catalog</bpelx:to>
                                </bpelx:append>
                              </extensionAssignOperation>
                              <copy>
                                <from>0</from>
                                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyUDA_InputVariable.payload/ns7:item/ns4:catalogs/ns4:catalog/ns4:id</to>
                              </copy>
                              <copy>
                                <from>'JDA'</from>
                                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyUDA_InputVariable.payload/ns7:item/ns4:catalogs/ns4:catalog/@AppCode</to>
                              </copy>
                              <copy>
                                <from>$inputVariable.payload/ns3:items/ns4:item/ns4:catalogs/ns4:catalog/@Type</from>
                                <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyUDA_InputVariable.payload/ns7:item/ns4:catalogs/ns4:catalog/@Type</to>
                              </copy>
                            </assign>
                          </catchAll>
                        </faultHandlers>
                        <sequence>
                          <assign name="getCatalogUDA">
                            <copy>
                              <from>$inputVariable.payload/ns3:items/ns4:item/ns4:catalogs/ns4:catalog[number($CountOfNode)]/ns4:id</from>
                              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:id</to>
                            </copy>
                            <copy>
                              <from>'OracleRMS'</from>
                              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:applicationCode</to>
                            </copy>
                            <copy>
                              <from>string($inputVariable.payload/ns3:items/ns4:item/ns4:catalogs/ns4:catalog[number($CountOfNode)]/@Type)</from>
                              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:catalogDefinition</to>
                            </copy>
                            <copy>
                              <from>"JDA"</from>
                              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_InputVariable.request/ns11:targetAppCode</to>
                            </copy>
                          </assign>
                          <assign name="type">
                            <copy>
                              <from>$inputVariable.payload/ns3:items/ns4:item/ns4:catalogs/ns4:catalog[number($CountOfNode)]/@Type</from>
                              <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$typeVar</to>
                            </copy>
                          </assign>
                          <if name="validateIdCatalog">
                            <condition>string-length($inputVariable.payload/ns3:items/ns4:item/ns4:catalogs/ns4:catalog[number($CountOfNode)]/ns4:id)=0</condition>
                            <sequence name="Sequence18">
                              <if name="getBackup">
                                <bpelx:skipCondition>1=1</bpelx:skipCondition>
                                <condition>string-length($findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:catalogs/ns4:catalog[@Type=$typeVar]/ns4:id)=0</condition>
                                <empty name="Empty2"/>
                                <else>
                                  <assign name="insertBackup">
                                    <extensionAssignOperation>
                                      <bpelx:append ignoreMissingFromData="yes">
                                        <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$findByIdSKU_OutputVariable.payload/ns6:items/ns4:item/ns4:catalogs/ns4:catalog[@Type=$typeVar]</bpelx:from>
                                        <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyUDA_InputVariable.payload/ns7:item/ns4:catalogs</bpelx:to>
                                      </bpelx:append>
                                    </extensionAssignOperation>
                                  </assign>
                                </else>
                              </if>
                            </sequence>
                            <else>
                              <sequence>
                                <invoke name="translateItemCatalog" bpelx:invokeAsDetail="no"
                                        partnerLink="TranslateItemCatalogService"
                                        portType="ns10:ItemCatalogEntitySvcPType" operation="translate"
                                        inputVariable="translateItemCatalog_InputVariable"
                                        outputVariable="translateItemCatalog_OutputVariable"/>
                                <assign name="AssignUDA">
                                  <copy ignoreMissingFromData="yes">
                                    <from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_OutputVariable.response/ns11:catalogInfo/ns4:catalog</from>
                                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$modifyUDA_InputVariable.payload/ns7:item/ns4:catalogs</to>
                                  </copy>
                                </assign>
                                <if name="validateSticker">
                                  <condition>$typeVar='Sticker'</condition>
                                  <sequence name="Sequence28">
                                    <assign name="AssignUDA"
                                            xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                                      <copy ignoreMissingFromData="yes">
                                        <from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$translateItemCatalog_OutputVariable.response/ns11:catalogInfo/ns4:catalog</from>
                                        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$JDAModifySKUStickerPXY_modify_InputVariable.payload/ns7:item/ns4:catalogs</to>
                                      </copy>
                                      <copy ignoreMissingFromData="yes">
                                        <from>$inputVariable.payload/ns3:items/ns4:item/ns4:id</from>
                                        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$JDAModifySKUStickerPXY_modify_InputVariable.payload/ns7:item/ns4:id</to>
                                      </copy>
                                      <copy>
                                        <from>1</from>
                                        <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$StickerVarControl</to>
                                      </copy>
                                    </assign>
                                    <invoke name="JDAModifySKUStickerPXY" bpelx:invokeAsDetail="no"
                                            partnerLink="JDAModifySKUStickerPXY" portType="ns1:modifyItemPort"
                                            operation="modify"
                                            inputVariable="JDAModifySKUStickerPXY_modify_InputVariable"
                                            outputVariable="JDAModifySKUStickerPXY_modify_OutputVariable"/>
                                  </sequence>
                                  <else>
                                    <empty name="Empty3"/>
                                  </else>
                                </if>
                              </sequence>
                            </else>
                          </if>
                        </sequence>
                      </scope>
                    </forEach>
                  </sequence>
                </scope>
                <invoke name="modifyUDA" partnerLink="JDAModifySKUUDAService"
                        portType="ns1:modifyItemPort" operation="modify" inputVariable="modifyUDA_InputVariable"
                        outputVariable="modifyUDA_OutputVariable" bpelx:invokeAsDetail="no">
                  <bpelx:skipCondition>$StickerVarControl=1</bpelx:skipCondition>
                </invoke>
              </sequence>
            </scope><scope name="traceUDAData"
                           xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      
      <faultHandlers>
         <catchAll>
            <empty name="faultGeneralData"/>
         </catchAll>
      </faultHandlers>
      <sequence>
         <assign name="sendMessage">
                  <copy>
                    <from>"TraceActivity"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$UDA_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:operation</to>
                  </copy>
                  <copy>
                    <from>$interfaceId</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$UDA_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:interfaceId</to>
                  </copy>
                  <copy>
                    <from>$activityId</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$UDA_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:activityId</to>
                  </copy>
                  <copy>
                    <from>"Modificando articulo"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$UDA_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:data</to>
                  </copy>
                  <copy>
                    <from>"id"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                  </copy>
                  <copy>
                    <from>$traceID3</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                  </copy>
                  <copy>
                    <from>"registrationDate"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                  </copy>
                  <copy>
                    <from>$initialDateTime</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                  </copy>
                  <copy>
                    <from>"finishDate"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                  </copy>
                  <copy>
                    <from>xp20:current-dateTime()</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                  </copy>
                  <copy>
                    <from>"component"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                  </copy>
                  <copy>
                    <from>"ModifyUDA"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                  </copy>
                  <copy>
                    <from>"destinyComponent"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                  </copy>
                  <copy>
                    <from>"ModifyUDAJDAProxy"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                  </copy>
                  <copy>
                    <from>"message"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                  </copy>
                  <copy>
                    <from>"Modificando UDA de articulo"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                  </copy>
                  <copy>
                    <from>"level"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                  </copy>
                  <copy>
                    <from>1</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                  </copy>
                  <copy>
                    <from>"status"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                  </copy>
                  <copy>
                    <from>"Finalizado"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                  </copy>
                  <copy>
                    <from>"class"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
                  </copy>
                  <copy>
                    <from>"Expert"</from>
                    <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
                  </copy>
                  <extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                      <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                      <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$UDA_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                    </bpelx:append>
                  </extensionAssignOperation>
                  <extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                      <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                      <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$UDA_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                    </bpelx:append>
                  </extensionAssignOperation>
                  <extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                      <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_3.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                      <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$UDA_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                    </bpelx:append>
                  </extensionAssignOperation>
                  <extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                      <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_4.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                      <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$UDA_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                    </bpelx:append>
                  </extensionAssignOperation>
                  <extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                      <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                      <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$UDA_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                    </bpelx:append>
                  </extensionAssignOperation>
                  <extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                      <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                      <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$UDA_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                    </bpelx:append>
                  </extensionAssignOperation>
                  <extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                      <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                      <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$UDA_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                    </bpelx:append>
                  </extensionAssignOperation>
                  <extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                      <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_8.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                      <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$UDA_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                    </bpelx:append>
                  </extensionAssignOperation>
                  <extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                      <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_9.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                      <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$UDA_sendMessageTopic_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
                    </bpelx:append>
                  </extensionAssignOperation>
                </assign>
         <invoke name="sendMessageTopic" partnerLink="GovernanceAPIPXY"
                 portType="ns12:GovernancePort" operation="audit" inputVariable="UDA_sendMessageTopic_InputVariable"
                 outputVariable="UDA_sendMessageTopic_OutputVariable"
                 xmlns:bpelx="http://schemas.oracle.com/bpel/extension" bpelx:invokeAsDetail="no"/>
      </sequence>
   </scope><scope name="alertModifyUDAData" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
      <variables>
                <variable name="alertUDAMessageTopic_audit_InputVariable" messageType="ns12:audit"/>
                <variable name="alertUDAMessageTopic_audit_OutputVariable" messageType="ns12:auditResponse"/>
              </variables><faultHandlers>
         <catchAll>
            <empty name="faultGeneralData"/>
         </catchAll>
      </faultHandlers>
      <sequence>
         <assign name="sendMessage">
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
         <copy>
               <from>"AlertInterface"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertUDAMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:operation</to>
            </copy><copy>
               <from>$interfaceId</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertUDAMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:interfaceId</to>
            </copy><copy>
               <from>$inputVariable.payload/ns3:items/ns4:item/ns4:id</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertUDAMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:data</to>
            </copy><copy>
               <from>"id"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>$traceID3</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"registrationDate"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>xp20:current-dateTime()</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"component"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>"ModifyUDAJDAProxy"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"message"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>concat("Modificando UDAs de articulo ",$inputVariable.payload/ns3:items/ns4:item/ns4:id)</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><copy>
               <from>"level"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:key</to>
            </copy><copy>
               <from>"W"</from>
               <to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry/ns12:value</to>
            </copy><extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_1.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertUDAMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                  </extensionAssignOperation><extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_2.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertUDAMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                  </extensionAssignOperation><extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_5.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertUDAMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                  </extensionAssignOperation><extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_6.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertUDAMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                  </extensionAssignOperation><extensionAssignOperation>
                    <bpelx:append xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
                  <bpelx:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$Entry_7.request/ns12:request/ns12:header/ns12:parameters/ns12:entry</bpelx:from>
                  <bpelx:to expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">$alertUDAMessageTopic_audit_InputVariable.request/ns12:request/ns12:header/ns12:parameters</bpelx:to>
               </bpelx:append>
                  </extensionAssignOperation></assign>
         <invoke name="alertUDAMessageTopic" partnerLink="GovernanceAPIPXY" portType="ns12:GovernancePort"
                 operation="audit" inputVariable="alertUDAMessageTopic_audit_InputVariable"
                 outputVariable="alertUDAMessageTopic_audit_OutputVariable"
                 xmlns:bpelx="http://schemas.oracle.com/bpel/extension" bpelx:invokeAsDetail="no"/>
      </sequence>
   </scope></sequence>
        </sequence>
      </else>
    </if>
    <!-- Generate reply to synchronous request -->
    <reply name="replyOutput" partnerLink="JDAUpdateSKUService" portType="client:JDAUpdateSKUProcess" operation="modifySKU" variable="outputVariable"/>
  </sequence>
</process>