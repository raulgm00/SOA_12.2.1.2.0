<?xml version="1.0" encoding="UTF-8" ?>
<xsl:stylesheet version="2.0"
  xmlns:UUIDUserFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.UUIDUserFunction"
  xmlns:IsUserInGroupFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.IsUserInGroupFunction"
  xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
  xmlns:IsUserInRoleFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.IsUserInRoleFunction"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
  xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
  xmlns:DVMFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.functions.dvm.DVMFunctions"
  xmlns:oracle-xsl-mapper="http://www.oracle.com/xsl/mapper/schemas"
  xmlns:oraxsl="http://www.oracle.com/XSL/Transform/java"
  xmlns:RuntimeTypeConversionFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.RuntimeTypeConversionFunctions"
  xmlns:XrefFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.functions.xref.XrefFunctions"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:BasicCredentialsUserFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.BasicCredentialsUserFunction"
  xmlns:tns="http://xmlns.banesco.com/eopt/AcctFixDepInq_V1.0"
  xmlns:ns0="http://www.temenos.com/T24/ofs/Response"
  exclude-result-prefixes="xsd oracle-xsl-mapper xsi xsl ns0 tns UUIDUserFunction IsUserInGroupFunction oraext IsUserInRoleFunction xp20 DVMFunctions oraxsl RuntimeTypeConversionFunctions XrefFunctions BasicCredentialsUserFunction"
  xmlns:ns1="http://www.temenos.com/T24/ofs/BPANOFENQAADEPOSITSPNType"
  xmlns:rescns="http://www.temenos.com/T24/ofs/ResponseCommon"
  xmlns:ns7="http://xmlns.banesco.com/eo/Product_V1.0"
  xmlns:eoAcct="http://xmlns.banesco.com/eo/Acct_V1.0"
  xmlns:ns8="http://xmlns.banesco.com/eo/Party_V1.0"
  xmlns:eoStatus="http://xmlns.banesco.com/eo/Status_V1.0"
  xmlns:ns9="http://xmlns.banesco.com/eo/Chk_V1.0"
  xmlns:ns4="http://xmlns.banesco.com/eo/Banking_V1.0"
  xmlns:ns6="http://xmlns.banesco.com/eo/Fee_V1.0" xmlns:ns2="http://xmlns.banesco.com/eo/Card_V1.0"
  xmlns:ns3="http://xmlns.banesco.com/eo/Payee_V1.0"
  xmlns:ns5="http://xmlns.banesco.com/eo/Common_V1.0"
  xmlns:fn="http://www.w3.org/2005/xpath-functions">
  <oracle-xsl-mapper:schema>
    <!--SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY.-->
    <oracle-xsl-mapper:mapSources>
      <oracle-xsl-mapper:source type="XSD">
        <oracle-xsl-mapper:schema
          location="../../../../Commons/backends/T24/resources/xsd/BpaNofEnqAADepositsPN/EnquiryDPFNaturalConsultaDPFNaturalResponse.xsd"/>
        <oracle-xsl-mapper:rootElement name="BPANOFENQAADEPOSITSPNResponse"
          namespace="http://www.temenos.com/T24/ofs/Response"/>
      </oracle-xsl-mapper:source>
    </oracle-xsl-mapper:mapSources>
    <oracle-xsl-mapper:mapTargets>
      <oracle-xsl-mapper:target type="XSD">
        <oracle-xsl-mapper:schema
          location="../../../../Commons/xsd/EOpt/AccountDep/AcctFixDepInq/AcctFixDepInq_V1.0.xsd"/>
        <oracle-xsl-mapper:rootElement name="PersonAcctFixDepInqRs"
          namespace="http://xmlns.banesco.com/eopt/AcctFixDepInq_V1.0"/>
      </oracle-xsl-mapper:target>
    </oracle-xsl-mapper:mapTargets>
    <!--GENERATED BY ORACLE XSL MAPPER 12.2.1.2.0(XSLT Build 161003.0739.0018) AT [WED MAY 09 15:52:33 COT 2018].-->
  </oracle-xsl-mapper:schema>
  <!--User Editing allowed BELOW this line - DO NOT DELETE THIS LINE-->
  <xsl:include href="../../../../Commons/xslt/Template/TemplatePmtFrequency.xsl"/>
  <xsl:include href="../../../../Commons/xslt/Template/TemplateServiceUtil.xsl"/>
  <xsl:variable name="statusCode"
    select="DVMFunctions:lookupValue (&quot;Commons/dvm/StatusMappingBcknd&quot;, &quot;T24&quot;, /ns0:BPANOFENQAADEPOSITSPNResponse/ResponseCommon/Status, &quot;CNCODE&quot;, &quot;M0006&quot; )"/>
  
  <xsl:template match="/">
    <tns:PersonAcctFixDepInqRs>
      <xsl:if
        test="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN">
        <tns:Acct>
          <eoAcct:AcctSubtype>
            <ns5:Cod>
              <xsl:value-of
                select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/PRODUCT"/>
            </ns5:Cod>
          </eoAcct:AcctSubtype>
          <!-- Multivalor T24 -->
          <eoAcct:AcctTitle>
            <xsl:value-of
              select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/ACCOUNTTITLE1"/>
          </eoAcct:AcctTitle>
          <eoAcct:AcctType>
            <ns5:Cod>
              <xsl:value-of
                select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/GROUP"/>
            </ns5:Cod>
          </eoAcct:AcctType>
          <eoAcct:Activity>
            <xsl:value-of
              select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/ACTIVITY"/>
          </eoAcct:Activity>
          <eoAcct:Category>
            <xsl:value-of
              select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CATEGORY"/>
          </eoAcct:Category>
          <xsl:if
            test='/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/MATURITYDATE/text() != ""'>
            <eoAcct:ClosedDt>
              <xsl:value-of
                select='concat (substring (/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/MATURITYDATE, 1, 4 ), "-", substring (/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/MATURITYDATE, 5, 2 ), "-", substring (/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/MATURITYDATE, 7, 2 ) )'/>
            </eoAcct:ClosedDt>
          </xsl:if>
          <xsl:if
            test='/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CLUBBANESCO/text() != ""'>
            <eoAcct:ClubBanesco>
              <!--xsl:value-of select="DVMFunctions:lookupValue (&quot;Commons/dvm/ServiceProperties&quot;, &quot;CODE&quot;, /ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CLUBBANESCO/text(), &quot;VALUE&quot;, &quot;0&quot; )"/-->
              <!--xsl:value-of select="DVMFunctions:lookupValue (&quot;Commons/dvm/ServiceProperties&quot;, &quot;CODE&quot;, /ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CLUBBANESCO/text(), &quot;VALUE&quot;, &quot;false&quot; )"/>-->
            <xsl:call-template name="Boolean_Regex">
                <xsl:with-param name="operation">INQ</xsl:with-param>
                <xsl:with-param name="parametro">
                  <xsl:value-of select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CLUBBANESCO"></xsl:value-of>
                </xsl:with-param>
              </xsl:call-template>
            </eoAcct:ClubBanesco>     
          </xsl:if>
          <eoAcct:CurCode>
            <xsl:value-of
              select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CURRENCY"/>
          </eoAcct:CurCode>
          <eoAcct:MovType>
            <xsl:value-of
              select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/MOBILIZATION"/>
          </eoAcct:MovType>
          <eoAcct:Narrative>
            <xsl:value-of
              select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/NARRATIVE"/>
          </eoAcct:Narrative>
          <eoAcct:ProductLine>
            <xsl:value-of
              select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/DEPOSITS"/>
          </eoAcct:ProductLine>
          <eoAcct:SubCategory>
            <xsl:value-of
              select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/LTSUBPRODUCT"/>
          </eoAcct:SubCategory>
          <eoAcct:Variation>
            <ns5:Cod>
              <xsl:value-of
                select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/PRODUCTVARIATION"/>
            </ns5:Cod>
          </eoAcct:Variation>
          <xsl:if
            test="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/ACCOUNTREFERENCE/text() != ''">
            <eoAcct:AcctKey>
              <eoAcct:AcctReference>
                <xsl:value-of
                  select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/ACCOUNTREFERENCE"/>
              </eoAcct:AcctReference>
            </eoAcct:AcctKey>
          </xsl:if>
          <eoAcct:IntRateData>
            <xsl:if
              test='/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/EFFECTIVERATE/text() != ""'>
              <eoAcct:EffRate>
                <xsl:value-of
                  select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/EFFECTIVERATE"/>
              </eoAcct:EffRate>
            </xsl:if>
            <eoAcct:IntRate>
              <xsl:value-of
                select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/PERIODICRATE"/>
            </eoAcct:IntRate>
            <!-- Multivalor T24 -->
            <eoAcct:PeriodicIndex>
              <xsl:value-of
                select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/PERIODICINDEX"/>
            </eoAcct:PeriodicIndex>
            <!-- Multivalor T24 -->
            <xsl:if
              test='/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/ADD/text() != ""'>
              <eoAcct:SurTax>
                <xsl:value-of
                  select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/ADD"/>
              </eoAcct:SurTax>
            </xsl:if>
          </eoAcct:IntRateData>
          <eoAcct:DepAcctData>
            <eoAcct:ChangeActivity>
              <xsl:value-of
                select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CHANGEACTIVITY"/>
            </eoAcct:ChangeActivity>
            <eoAcct:ChangeDateType>
              <xsl:value-of
                select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CHANGEDATETYPE"/>
            </eoAcct:ChangeDateType>
            <xsl:if
              test='/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CHANGEDATE/text() != ""'>
              <eoAcct:ChangeDt>
                <xsl:value-of
                  select='concat (substring (/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CHANGEDATE, 1, 4 ), "-", substring (/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CHANGEDATE, 5, 2 ), "-", substring (/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CHANGEDATE, 7, 2 ) )'/>
              </eoAcct:ChangeDt>
            </xsl:if>
            <eoAcct:ChangePeriod>
              <xsl:value-of
                select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CHANGEPERIOD"/>
            </eoAcct:ChangePeriod>
            <xsl:for-each select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType">
              <xsl:variable name="freqDetail">
                <xsl:call-template name="DepIntPmtFreqDetail">
                  <xsl:with-param name="pmtFreq">
                    <!-- Multivalor T24 -->
                    <xsl:value-of
                      select="PAYMENTFREQ"/>
                  </xsl:with-param>
                </xsl:call-template>
              </xsl:variable>
              <eoAcct:DepInterestPmt>
                <xsl:if test="$freqDetail != ''">
                  <eoAcct:Freq>
                    <ns5:Every>
                      <xsl:value-of select="$freqDetail/freq/every"/>
                    </ns5:Every>
                    <ns5:FreqValue>
                      <xsl:value-of select="PAYMENTFREQ"/>
                    </ns5:FreqValue>
                    <ns5:OnDay>
                      <xsl:value-of select="$freqDetail/freq/onDay"/>
                    </ns5:OnDay>
                    <ns5:OnDayNumber>
                      <xsl:value-of select="$freqDetail/freq/onDayNumber"/>
                    </ns5:OnDayNumber>
                    <ns5:OnWeekDay>
                      <xsl:value-of select="$freqDetail/freq/onWeekDay"/>
                    </ns5:OnWeekDay>
                  </eoAcct:Freq>
                </xsl:if>
                <!-- Multivalor T24 -->
                <eoAcct:PmtClass>
                  <xsl:value-of
                    select="PAYMENTMETHOD"/>
                </eoAcct:PmtClass>
                <!-- Multivalor T24 -->
                <eoAcct:PmtType>
                  <xsl:value-of
                    select="PAYMENTTYPE"/>
                </eoAcct:PmtType>              
                <eoAcct:PmtDetail>
                  <!-- Multivalor T24 -->
                  <eoAcct:PmtTarget>
                    <xsl:value-of
                      select="PROPERTY"/>
                  </eoAcct:PmtTarget>
                </eoAcct:PmtDetail>
              </eoAcct:DepInterestPmt>
            </xsl:for-each>            
            <!-- Multivalor T24 -->
            <eoAcct:PayInAcct>
              <eoAcct:AcctId>
                <xsl:value-of
                  select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/PAYINACCOUNT"/>
              </eoAcct:AcctId>
            </eoAcct:PayInAcct>
            <!-- Multivalor T24 -->
            <eoAcct:PayOutAcct>
              <eoAcct:AcctId>
                <xsl:value-of
                  select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/PAYOUTACCOUNT"/>
              </eoAcct:AcctId>
            </eoAcct:PayOutAcct>
            <eoAcct:RenewalOption>
              <xsl:value-of
                select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/INITIATIONTYPE"/>
            </eoAcct:RenewalOption>
            <eoAcct:Term>
              <eoAcct:ProposedTerm>
                <xsl:value-of
                  select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/TERM"/>
              </eoAcct:ProposedTerm>
            </eoAcct:Term>
          </eoAcct:DepAcctData>
          <xsl:for-each select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType">
            <eoAcct:AcctMember>
              <xsl:if test="CUSTOMER/text()">
                <eoAcct:PartyKey>                
                  <ns8:PartyId>
                    <xsl:value-of
                      select="CUSTOMER"/>
                  </ns8:PartyId>
                </eoAcct:PartyKey>
              </xsl:if>              
              <xsl:if test="CUSTOMERROLE/text()">
                <eoAcct:PartyRole>
                  <ns5:Cod>
                    <xsl:value-of
                      select="CUSTOMERROLE"/>
                  </ns5:Cod>
                </eoAcct:PartyRole>
              </xsl:if>              
            </eoAcct:AcctMember>
          </xsl:for-each>          
          <eoAcct:AcctOpeningInfo>
            <eoAcct:BusinessUnit>
              <xsl:value-of
                select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/LTBUSUNIT"/>
            </eoAcct:BusinessUnit>
            <xsl:if
              test='/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/EFECTIVEDATE/text() != ""'>
              <eoAcct:EffDt>
                <xsl:value-of
                  select='concat (substring (/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/EFECTIVEDATE, 1, 4 ), "-", substring (/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/EFECTIVEDATE, 5, 2 ), "-", substring (/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/EFECTIVEDATE, 7, 2 ) )'/>
              </eoAcct:EffDt>
            </xsl:if>
            <eoAcct:InitialAmt>
              <xsl:if
                test='/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/AMOUNT/text() != ""'>
                <ns5:Amt>
                  <xsl:value-of
                    select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/AMOUNT"/>
                </ns5:Amt>
              </xsl:if>
            </eoAcct:InitialAmt>
            <xsl:if
              test="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/TRADEDATE/text() != &quot;&quot;">
              <eoAcct:OpenDt>
                <xsl:value-of
                  select='concat (substring (/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/TRADEDATE, 1, 4 ), "-", substring (/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/TRADEDATE, 5, 2 ), "-", substring (/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/TRADEDATE, 7, 2 ) )'/>
              </eoAcct:OpenDt>
            </xsl:if>
            <eoAcct:RqReason>
              <xsl:value-of
                select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/REASON"/>
            </eoAcct:RqReason>
            <eoAcct:SaleOfficer>
              <xsl:value-of
                select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/LTSALEOFFICER"/>
            </eoAcct:SaleOfficer>
          </eoAcct:AcctOpeningInfo>
          <eoAcct:AcctBal>
            <eoAcct:BalType>Balance</eoAcct:BalType>
            <eoAcct:CurAmt>
              <xsl:if
                test='/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/ACTUALBALANCE != ""'>
                <ns5:Amt>
                  <xsl:value-of
                    select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/ACTUALBALANCE"/>
                </ns5:Amt>
              </xsl:if>
              <ns5:CurCode/>
            </eoAcct:CurAmt>
          </eoAcct:AcctBal>
          <eoAcct:AcctBal>
            <eoAcct:BalType>NetBalance</eoAcct:BalType>
            <eoAcct:CurAmt>
              <xsl:if
                test='/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CLEAREDBALANCE != ""'>
                <ns5:Amt>
                  <xsl:value-of
                    select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/CLEAREDBALANCE"/>
                </ns5:Amt>
              </xsl:if>
              <ns5:CurCode/>
            </eoAcct:CurAmt>
          </eoAcct:AcctBal>
          <eoAcct:AcctBal>
            <eoAcct:BalType>WorkingBalance</eoAcct:BalType>
            <eoAcct:CurAmt>
              <xsl:if
                test='/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/WORKINGBALANCE != ""'>
                <ns5:Amt>
                  <xsl:value-of
                    select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/WORKINGBALANCE"/>
                </ns5:Amt>
              </xsl:if>
              <ns5:CurCode/>
            </eoAcct:CurAmt>
          </eoAcct:AcctBal>
          <eoAcct:AcctBal>
            <eoAcct:BalType>AvailBalance</eoAcct:BalType>
            <eoAcct:CurAmt>
              <xsl:if
                test='/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/OUTSBALANCE != ""'>
                <ns5:Amt>
                  <xsl:value-of
                    select="/ns0:BPANOFENQAADEPOSITSPNResponse/BPANOFENQAADEPOSITSPN/gBPANOFENQAADEPOSITSPNDetailType/mBPANOFENQAADEPOSITSPNDetailType[1]/OUTSBALANCE"/>
                </ns5:Amt>
              </xsl:if>
              <ns5:CurCode/>
            </eoAcct:CurAmt>
          </eoAcct:AcctBal>
        </tns:Acct>
      </xsl:if>
      <tns:Status>
        <eoStatus:StatusCode>
          <xsl:value-of select="$statusCode"/>
        </eoStatus:StatusCode>
        <eoStatus:StatusDesc>
          <xsl:value-of
            select="DVMFunctions:lookupValue (&quot;Commons/dvm/StatusMappingBcknd&quot;, &quot;T24&quot;, /ns0:BPANOFENQAADEPOSITSPNResponse/ResponseCommon/Status, &quot;CNDESC&quot;, &quot;FALLO EN LA OPERACION&quot; )"/>
        </eoStatus:StatusDesc>
        <eoStatus:AdditionalStatus>
          <eoStatus:StatusCode>
            <xsl:value-of select="/ns0:BPANOFENQAADEPOSITSPNResponse/ResponseCommon/Status"/>
          </eoStatus:StatusCode>
          <eoStatus:StatusDesc>
            <xsl:value-of select="/ns0:BPANOFENQAADEPOSITSPNResponse/ResponseCommon/Message"/>
          </eoStatus:StatusDesc>
        </eoStatus:AdditionalStatus>
      </tns:Status>
    </tns:PersonAcctFixDepInqRs>
  </xsl:template>
</xsl:stylesheet>
