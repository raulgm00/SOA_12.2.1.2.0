<?xml version="1.0" encoding="UTF-8" ?>
<xsl:stylesheet version="1.0"
                xmlns:UUIDUserFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.UUIDUserFunction"
                xmlns:ns1="http://xmlns.banesco.com/appopt/AOptCommon_V1.0"
                xmlns:IsUserInGroupFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.IsUserInGroupFunction"
                xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                xmlns:IsUserInRoleFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.IsUserInRoleFunction"
                xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                xmlns:DVMFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.functions.dvm.DVMFunctions"
                xmlns:tns="http://xmlns.banesco.com/backend/PA_TCIB_Bitacora_V1.0"
                xmlns:oracle-xsl-mapper="http://www.oracle.com/xsl/mapper/schemas"
                xmlns:oraxsl="http://www.oracle.com/XSL/Transform/java"
                xmlns:RuntimeTypeConversionFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.RuntimeTypeConversionFunctions"
                xmlns:XrefFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.functions.xref.XrefFunctions"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:BasicCredentialsUserFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.BasicCredentialsUserFunction"
                xmlns:ns0="http://xmlns.banesco.com/eopt/ChannelTrnAudHistAdd_V1.0"
                exclude-result-prefixes="xsd oracle-xsl-mapper xsi xsl ns1 ns0 tns UUIDUserFunction IsUserInGroupFunction oraext IsUserInRoleFunction xp20 DVMFunctions oraxsl RuntimeTypeConversionFunctions XrefFunctions BasicCredentialsUserFunction"
                xmlns:ns2="http://xmlns.banesco.com/eo/Banking_V1.0"
                xmlns:eoPar="http://xmlns.banesco.com/eo/Party_V1.0" xmlns:ns3="http://xmlns.banesco.com/eo/MsgHdr_V1.0"
                xmlns:eoStatus="http://xmlns.banesco.com/eo/Status_V1.0"
                xmlns:eoCom="http://xmlns.banesco.com/eo/Common_V1.0">
  <oracle-xsl-mapper:schema>
    <!--SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY.-->
    <oracle-xsl-mapper:mapSources>
      <oracle-xsl-mapper:source type="XSD">
        <oracle-xsl-mapper:schema location="../../../../Commons/xsd/EOpt/Utility/ChannelTrnAudHistAdd/ChannelTrnAudHistAdd_V1.0.xsd"/>
        <oracle-xsl-mapper:rootElement name="ChannelTrnAudHistAddRq"
                                       namespace="http://xmlns.banesco.com/eopt/ChannelTrnAudHistAdd_V1.0"/>
      </oracle-xsl-mapper:source>
      <oracle-xsl-mapper:source type="XSD">
        <oracle-xsl-mapper:schema location="../../../../Commons/xsd/AppOpt/AOptCommon/AOptCommon_V1.0.xsd"/>
        <oracle-xsl-mapper:rootElement name="MsgHdrRq" namespace="http://xmlns.banesco.com/appopt/AOptCommon_V1.0"/>
        <oracle-xsl-mapper:param name="MsgHdrRq"/>
      </oracle-xsl-mapper:source>
    </oracle-xsl-mapper:mapSources>
    <oracle-xsl-mapper:mapTargets>
      <oracle-xsl-mapper:target type="XSD">
        <oracle-xsl-mapper:schema location="../../../../Commons/backends/ICS/resources/xsd/PA_TCIB_Bitacora_V1.0.xsd"/>
        <oracle-xsl-mapper:rootElement name="PATCIBBitacoraRq"
                                       namespace="http://xmlns.banesco.com/backend/PA_TCIB_Bitacora_V1.0"/>
      </oracle-xsl-mapper:target>
    </oracle-xsl-mapper:mapTargets>
    <!--GENERATED BY ORACLE XSL MAPPER 12.2.1.2.0(XSLT Build 161003.0739.0018) AT [WED MAY 09 15:49:26 COT 2018].-->
  </oracle-xsl-mapper:schema>
  <!--User Editing allowed BELOW this line - DO NOT DELETE THIS LINE-->
  <xsl:param name="MsgHdrRq"/>
  <xsl:template match="/">
    <tns:PATCIBBitacoraRq>
    <xsl:if test='$MsgHdrRq//ns1:ClientApp/ns1:UserId != ""'>
      <tns:P_ID_USUARIO>
        <xsl:value-of select="$MsgHdrRq//ns1:ClientApp/ns1:UserId"/>
      </tns:P_ID_USUARIO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:UserStatus != ""'>
      <tns:P_STATUS_USUARIO>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:UserStatus"/>
      </tns:P_STATUS_USUARIO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:PartyKey/eoPar:IssuedIdentValue != ""'>
      <tns:P_NUMERO_IDENT_CLIENTE>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:PartyKey/eoPar:IssuedIdentValue"/>
      </tns:P_NUMERO_IDENT_CLIENTE>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:PartyKey/eoPar:IssuedIdentType != ""'>
      <tns:P_TIPO_IDENTIFICACION_CLIENTE>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:PartyKey/eoPar:IssuedIdentType"/>
      </tns:P_TIPO_IDENTIFICACION_CLIENTE>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:PartyKey/eoPar:PartyType != ""'>
      <tns:P_TIPO_PERSONA>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:PartyKey/eoPar:PartyType"/>
      </tns:P_TIPO_PERSONA>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:PartyKey/eoPar:PartyId != ""'>
      <tns:P_CODIGO_CLIENTE>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:PartyKey/eoPar:PartyId"/>
      </tns:P_CODIGO_CLIENTE>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:CustomerName != ""'>
      <tns:P_NOMBRE_CLIENTE_TITULAR>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:CustomerName"/>
      </tns:P_NOMBRE_CLIENTE_TITULAR>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:BeneficiaryName != ""'>
      <tns:P_NOMBRE_BENEFICIARIO>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:BeneficiaryName"/>
      </tns:P_NOMBRE_BENEFICIARIO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:AccesDt != ""'>
      <tns:P_FECHA_ACCESO_CANAL>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:AccesDt"/>
      </tns:P_FECHA_ACCESO_CANAL>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:AccesHr != ""'>
      <tns:P_HORA_ACCESO_CANAL>
      <xsl:value-of select="concat(
      substring (/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:AccesHr, 1, 2 ),
      substring (/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:AccesHr, 4, 2 ),
      substring (/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:AccesHr, 7, 2 ))"/>
      </tns:P_HORA_ACCESO_CANAL>
      </xsl:if>
      <xsl:if test='$MsgHdrRq//ns1:ClientApp/ns1:ChannelId != ""'>
      <tns:P_CANAL_ACCESO>
        <xsl:value-of select="$MsgHdrRq//ns1:ClientApp/ns1:ChannelId"/>
      </tns:P_CANAL_ACCESO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:FailedAttempts != ""'>
      <tns:P_NUMERO_INTENTOS_FALLIDOS>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:FailedAttempts"/>
      </tns:P_NUMERO_INTENTOS_FALLIDOS>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:Browser != ""'>
      <tns:P_APLICACION_ACCESO_CANAL>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:Browser"/>
      </tns:P_APLICACION_ACCESO_CANAL>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:BrowserVersion != ""'>
      <tns:P_VERSION_APLICACION_ACCESO>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:BrowserVersion"/>
      </tns:P_VERSION_APLICACION_ACCESO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:DNADevice != ""'>
      <tns:P_DNA_DISPOSITIVO_ACCESO>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:DNADevice"/>
      </tns:P_DNA_DISPOSITIVO_ACCESO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:NetworkTrnData/eoCom:IpAddress != ""'>
      <tns:P_IP_ACCESO>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:NetworkTrnData/eoCom:IpAddress"/>
      </tns:P_IP_ACCESO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:PrivateIp != ""'>
      <tns:P_DIRECCION_IP>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:PrivateIp"/>
      </tns:P_DIRECCION_IP>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:Country/eoCom:CountryName != "" and
      /ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:Region/eoCom:Desc != "" and
      /ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:City != ""'>
      <tns:P_LOCALIZACION_ACCESO>
        <xsl:value-of select="concat (/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:Country/eoCom:CountryName, &quot;-&quot;, /ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:Region/eoCom:Desc, &quot;-&quot;, /ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:City )"/>
      </tns:P_LOCALIZACION_ACCESO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:ISPCode != ""'>
      <tns:P_CODIGO_ISP>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:ISPCode"/>
      </tns:P_CODIGO_ISP>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:IdApp != ""'>
      <tns:P_ID_APP>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:IdApp"/>
      </tns:P_ID_APP>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:Prefix != ""'>
      <tns:P_LOCALIDAD_IP>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:Prefix"/>
      </tns:P_LOCALIDAD_IP>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:NetworkTrnData/eoCom:HostName != ""'>
      <tns:P_LHNAME>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:NetworkTrnData/eoCom:HostName"/>
      </tns:P_LHNAME>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:ActionType != ""'>
      <tns:P_TIPO_ACCION>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:ActionType"/>
      </tns:P_TIPO_ACCION>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:TrnCode != ""'>
      <tns:P_CODIGO_OPERACION>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:TrnCode"/>
      </tns:P_CODIGO_OPERACION>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:TrnRef != ""'>
      <tns:P_NUMERO_REF_OPERACION>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:TrnRef"/>
      </tns:P_NUMERO_REF_OPERACION>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:TrnDesc != ""'>
      <tns:P_DESCRIPCION_OPERACION>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:TrnDesc"/>
      </tns:P_DESCRIPCION_OPERACION>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:NumPmt != ""'>
      <tns:P_NUMERO_PAGO_OPERACION>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:NumPmt"/>
      </tns:P_NUMERO_PAGO_OPERACION>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:OrigDt != ""'>
      <tns:P_FECHA_OPERACION>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:OrigDt"/>
      </tns:P_FECHA_OPERACION>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:OrigHr != ""'>
      <tns:P_HORA_OPERACION>
      <xsl:value-of select="concat(substring (/ns0:ChannelTrnAudHistAddRq/ns0:OrigHr, 1, 2 ),
     substring (/ns0:ChannelTrnAudHistAddRq/ns0:OrigHr, 4, 2 ),
     substring (/ns0:ChannelTrnAudHistAddRq/ns0:OrigHr, 7, 2 ))"/>
      </tns:P_HORA_OPERACION>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:EffDt != ""'>
      <tns:P_FECHA_PROC_OPERACION>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:EffDt"/>
      </tns:P_FECHA_PROC_OPERACION>
      </xsl:if>
       <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:EffHr != ""'>
      <tns:P_HORA_PROC_OPERACION>
        <xsl:value-of select="concat('1900-01-01T',/ns0:ChannelTrnAudHistAddRq/ns0:EffHr)"/>
      </tns:P_HORA_PROC_OPERACION>
      </xsl:if>
      <tns:P_STATUS_OPERACION>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:TrnStatus"/>
      </tns:P_STATUS_OPERACION>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:DebitAmt/eoCom:Amt != ""'>
      <tns:P_MONTO_OPERACION_CTA_DB>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:DebitAmt/eoCom:Amt"/>
      </tns:P_MONTO_OPERACION_CTA_DB>
      </xsl:if>
       <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:CreditAmt/eoCom:Amt != ""'>
      <tns:P_MONTO_OPERACION_CTA_CR>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:CreditAmt/eoCom:Amt"/>
      </tns:P_MONTO_OPERACION_CTA_CR>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:Taxes != ""'>
      <tns:P_MONTO_IMPUESTO>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:Taxes"/>
      </tns:P_MONTO_IMPUESTO>
       </xsl:if>
        <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:Commission != ""'>
      <tns:P_MONTO_COMISION>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:Commission"/>
      </tns:P_MONTO_COMISION>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:DebitAmt/eoCom:CurCode != ""'>
      <tns:P_MONEDA_OPERACION_CTA_DB>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:DebitAmt/eoCom:CurCode"/>
      </tns:P_MONEDA_OPERACION_CTA_DB>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:CreditAmt/eoCom:CurCode != ""'>
      <tns:P_MONEDA_OPERACION_CTA_CR>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:CreditAmt/eoCom:CurCode"/>
      </tns:P_MONEDA_OPERACION_CTA_CR>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:DebitAcctId != ""'>
      <tns:P_NUMERO_CTA_DB>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:DebitAcctId"/>
      </tns:P_NUMERO_CTA_DB>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:CreditAcctId != ""'>
      <tns:P_NUMERO_CTA_CR>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:CreditAcctId"/>
      </tns:P_NUMERO_CTA_CR>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:TargetBank != ""'>
      <tns:P_BANCO_DESTINO>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:TargetBank"/>
      </tns:P_BANCO_DESTINO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:IntermediaryBank != ""'>
      <tns:P_BANCO_INTERMEDIARIO>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:IntermediaryBank"/>
      </tns:P_BANCO_INTERMEDIARIO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:EffDt != ""'>
      <tns:P_FECHA_PAGO>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:EffDt"/>
      </tns:P_FECHA_PAGO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:FreqPmt != ""'>
      <tns:P_FRECUENCIA_PAGO>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:FreqPmt"/>
      </tns:P_FRECUENCIA_PAGO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:isNotified != ""'>
      <tns:P_FLG_NOTIFICACION_ENVIADA>
        <xsl:choose>
          <xsl:when test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:isNotified/text() = "true"'>
            <xsl:text>S</xsl:text>
          </xsl:when>
          <xsl:otherwise>
            <xsl:text>N</xsl:text>
          </xsl:otherwise>
        </xsl:choose>
      </tns:P_FLG_NOTIFICACION_ENVIADA>
       </xsl:if>
     <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:NotificationDt != ""'>
      <tns:P_FECHA_NOTIFICACION>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:NotificationDt"/>
      </tns:P_FECHA_NOTIFICACION>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:NotificationHr != ""'>
      <tns:P_HORA_NOTIFICACION>
        <xsl:value-of select="concat('1900-01-01T',/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:NotificationHr)"/>
      </tns:P_HORA_NOTIFICACION>
       </xsl:if>
       <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:NotificationMethod != ""'>
      <tns:P_MEDIO_ENVIO_NOTIFICACION>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:SessionInfo/eoCom:NotificationMethod"/>
      </tns:P_MEDIO_ENVIO_NOTIFICACION>
      </xsl:if>
      <tns:P_IDC_FEC_ENVIO>
        <xsl:value-of select="xp20:format-dateTime (xp20:current-date ( ), &quot;[YYYY][M01][D01]&quot; )"/>
      </tns:P_IDC_FEC_ENVIO>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:IdRef != ""'>
      <tns:P_ID_REF>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:IdRef"/>
      </tns:P_ID_REF>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:Employee != ""'>
      <tns:P_FLAG_EMPLEADO_ORIGEN>
        <xsl:choose>
          <xsl:when test='/ns0:ChannelTrnAudHistAddRq/ns0:Employee/text() = "true"'>
            <xsl:text>S</xsl:text>
          </xsl:when>
          <xsl:otherwise>
            <xsl:text>N</xsl:text>
          </xsl:otherwise>
        </xsl:choose>
      </tns:P_FLAG_EMPLEADO_ORIGEN>
       </xsl:if>
       <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:NotifyPhone != ""'>
      <tns:P_TELEFONO_NOTIFICAR>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:NotifyPhone"/>
      </tns:P_TELEFONO_NOTIFICAR>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:Email != ""'>
      <tns:P_CORREO_ELECTRONICO_ENVIO>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:Email"/>
      </tns:P_CORREO_ELECTRONICO_ENVIO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:ChkBookType != ""'>
      <tns:P_TIPO_CHEQUERA>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:ChkBookType"/>
      </tns:P_TIPO_CHEQUERA>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:ChkBookQty != ""'>
      <tns:P_NUMERO_CHEQUERA>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:ChkBookQty"/>
      </tns:P_NUMERO_CHEQUERA>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:BlockReason != ""'>
      <tns:P_MOTIVO_BLOQUEO>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:BlockReason"/>
      </tns:P_MOTIVO_BLOQUEO>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:NotifyName != ""'>
      <tns:P_NOMBRE_NOTIFICAR>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:NotifyName"/>
      </tns:P_NOMBRE_NOTIFICAR>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:NotifyEmail != ""'>
      <tns:P_CORREO_ELECTONICO_NOTIFICAR>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:NotifyEmail"/>
      </tns:P_CORREO_ELECTONICO_NOTIFICAR>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:CountryVisit/eoCom:CountryName != ""'>
      <tns:P_PAIS_VISITAR>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:CountryVisit/eoCom:CountryName"/>
      </tns:P_PAIS_VISITAR>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:IngressDt != ""'>
      <tns:P_FECHA_INGRESO_PAIS>
        <xsl:value-of select="xp20:format-dateTime(substring(/ns0:ChannelTrnAudHistAddRq/ns0:IngressDt,1,10),'[YYYY][M01][D01]')"/>
      </tns:P_FECHA_INGRESO_PAIS>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:ExitDt != ""'>
      <tns:P_FECHA_SALIDA_PAIS> 
        <xsl:value-of select="xp20:format-dateTime(substring(/ns0:ChannelTrnAudHistAddRq/ns0:ExitDt,1,10),'[YYYY][M01][D01]')"/>
      </tns:P_FECHA_SALIDA_PAIS>
       </xsl:if>
        <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:Element1 != ""'>
      <tns:P_USO_FUTURO_1>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:Element1"/>
      </tns:P_USO_FUTURO_1>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:Element2 != ""'>
      <tns:P_USO_FUTURO_2>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:Element2"/>
      </tns:P_USO_FUTURO_2>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:Element3 != ""'>
      <tns:P_USO_FUTURO_3>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:Element3"/>
      </tns:P_USO_FUTURO_3>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:Element4 != ""'>
      <tns:P_USO_FUTURO_4>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:Element4"/>
      </tns:P_USO_FUTURO_4>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:TrnRef != ""'>
      <tns:P_ENTITYID>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:TrnRef"/>
      </tns:P_ENTITYID>
      </xsl:if>
      <xsl:if test='/ns0:ChannelTrnAudHistAddRq/ns0:ConfNumber != ""'>
      <tns:P_CONFNUMBER>
        <xsl:value-of select="/ns0:ChannelTrnAudHistAddRq/ns0:ConfNumber"/>
      </tns:P_CONFNUMBER>
      </xsl:if>
    </tns:PATCIBBitacoraRq>
  </xsl:template>
</xsl:stylesheet>
