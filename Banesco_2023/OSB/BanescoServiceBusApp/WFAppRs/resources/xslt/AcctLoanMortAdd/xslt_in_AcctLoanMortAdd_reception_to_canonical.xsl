<?xml version="1.0" encoding="UTF-8" ?>
<xsl:stylesheet version="1.0" xmlns:tns="http://xmlns.banesco.com/eopt/AcctLoanMortAdd_V1.0"
                xmlns:UUIDUserFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.UUIDUserFunction"
                xmlns:IsUserInGroupFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.IsUserInGroupFunction"
                xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                xmlns:IsUserInRoleFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.IsUserInRoleFunction"
                xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                xmlns:DVMFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.functions.dvm.DVMFunctions"
                xmlns:oracle-xsl-mapper="http://www.oracle.com/xsl/mapper/schemas"
                xmlns:ns0="http://xmlns.banesco.com/appopt/WFAcctLoanAppSvc/AcctLoanMortAdd_V1.0"
                xmlns:oraxsl="http://www.oracle.com/XSL/Transform/java"
                xmlns:RuntimeTypeConversionFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.RuntimeTypeConversionFunctions"
                xmlns:XrefFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.functions.xref.XrefFunctions"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:BasicCredentialsUserFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.BasicCredentialsUserFunction"
                exclude-result-prefixes="xsd oracle-xsl-mapper xsi xsl ns0 tns UUIDUserFunction IsUserInGroupFunction oraext IsUserInRoleFunction xp20 DVMFunctions oraxsl RuntimeTypeConversionFunctions XrefFunctions BasicCredentialsUserFunction"
                xmlns:appoptcommon="http://xmlns.banesco.com/appopt/AOptCommon_V1.0"
                xmlns:ns6="http://xmlns.banesco.com/eo/Product_V1.0"
                xmlns:eoAcct="http://xmlns.banesco.com/eo/Acct_V1.0" xmlns:ns7="http://xmlns.banesco.com/eo/Party_V1.0"
                xmlns:eoStatus="http://xmlns.banesco.com/eo/Status_V1.0"
                xmlns:ns8="http://xmlns.banesco.com/eo/Chk_V1.0" xmlns:ns3="http://xmlns.banesco.com/eo/Banking_V1.0"
                xmlns:ns5="http://xmlns.banesco.com/eo/Fee_V1.0" xmlns:ns1="http://xmlns.banesco.com/eo/Card_V1.0"
                xmlns:ns2="http://xmlns.banesco.com/eo/Payee_V1.0" xmlns:ns4="http://xmlns.banesco.com/eo/Common_V1.0">
  <oracle-xsl-mapper:schema>
    <!--SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY.-->
    <oracle-xsl-mapper:mapSources>
      <oracle-xsl-mapper:source type="XSD">
        <oracle-xsl-mapper:schema location="../../../../Commons/xsd/AppOpt/WFAcctLoan/AcctLoanMortAdd/AcctLoanMortAdd_V1.0.xsd"/>
        <oracle-xsl-mapper:rootElement name="AcctLoanMortAddRq"
                                       namespace="http://xmlns.banesco.com/appopt/WFAcctLoanAppSvc/AcctLoanMortAdd_V1.0"/>
      </oracle-xsl-mapper:source>
    </oracle-xsl-mapper:mapSources>
    <oracle-xsl-mapper:mapTargets>
      <oracle-xsl-mapper:target type="XSD">
        <oracle-xsl-mapper:schema location="../../../../Commons/xsd/EOpt/AccountLoan/AcctLoanMortAdd/AcctLoanMortAdd_V1.0.xsd"/>
        <oracle-xsl-mapper:rootElement name="AcctLoanMortAddRq"
                                       namespace="http://xmlns.banesco.com/eopt/AcctLoanMortAdd_V1.0"/>
      </oracle-xsl-mapper:target>
    </oracle-xsl-mapper:mapTargets>
    <!--GENERATED BY ORACLE XSL MAPPER 12.2.1.2.0(XSLT Build 161003.0739.0018) AT [THU SEP 20 15:11:52 COT 2018].-->
  </oracle-xsl-mapper:schema>
  <!--User Editing allowed BELOW this line - DO NOT DELETE THIS LINE-->
  <xsl:template match="/">
    <tns:AcctLoanMortAddRq>
      <tns:AcctLoan>
        <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AcctSubtype">
          <eoAcct:AcctSubtype>
            <ns4:Cod>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AcctSubtype/appoptcommon:Cod"/>
            </ns4:Cod>
            <ns4:Desc>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AcctSubtype/appoptcommon:Desc"/>
            </ns4:Desc>
          </eoAcct:AcctSubtype>
        </xsl:if>
        <eoAcct:AutonomyCode>
          <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AutonomyCode"/>
        </eoAcct:AutonomyCode>
        <eoAcct:AutonomyUser>
          <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AutonomyUser"/>
        </eoAcct:AutonomyUser>
        <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:ClosedDt/text()">
          <eoAcct:ClosedDt>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:ClosedDt"/>
          </eoAcct:ClosedDt>
        </xsl:if>
        <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:ClubBanesco/text()">
          <eoAcct:ClubBanesco>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:ClubBanesco"/>
          </eoAcct:ClubBanesco>
        </xsl:if>
        <eoAcct:CurCode>
          <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CurCode"/>
        </eoAcct:CurCode>
        <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:Variation">
          <eoAcct:Variation>
            <ns4:Cod>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:Variation/appoptcommon:Cod"/>
            </ns4:Cod>
            <ns4:Desc>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:Variation/appoptcommon:Desc"/>
            </ns4:Desc>
          </eoAcct:Variation>
        </xsl:if>
        <eoAcct:AcctKey>
          <eoAcct:AcctId/>
        </eoAcct:AcctKey>
        <xsl:for-each select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:TaxData">
          <eoAcct:TaxData>
            <ns3:TaxCode>
              <xsl:value-of select="ns0:TaxCode"/>
            </ns3:TaxCode>
            <ns3:TaxCondition>
              <xsl:value-of select="ns0:TaxCondition"/>
            </ns3:TaxCondition>
            <ns3:TaxType>
              <xsl:value-of select="ns0:TaxType"/>
            </ns3:TaxType>
          </eoAcct:TaxData>
        </xsl:for-each>
        <xsl:for-each select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:IntRateData">
          <eoAcct:IntRateData>
            <eoAcct:AccrualRule>
              <xsl:value-of select="ns0:AccrualRule"/>
            </eoAcct:AccrualRule>
            <eoAcct:IntDayBasis>
              <xsl:value-of select="ns0:IntDayBasis"/>
            </eoAcct:IntDayBasis>
            <xsl:if test="ns0:IntRate/text()">
              <eoAcct:IntRate>
                <xsl:value-of select="ns0:IntRate"/>
              </eoAcct:IntRate>
            </xsl:if>
            <eoAcct:IntRateType>
              <xsl:value-of select="ns0:IntRateType"/>
            </eoAcct:IntRateType>
          </eoAcct:IntRateData>
        </xsl:for-each>
        <eoAcct:CreditAcctData>
          <eoAcct:AuthType>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:AuthType"/>
          </eoAcct:AuthType>
          <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:BillsCombined/text()">
            <eoAcct:BillsCombined>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:BillsCombined"/>
            </eoAcct:BillsCombined>
          </xsl:if>
          <eoAcct:CodeDestination>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CodeDestination"/>
          </eoAcct:CodeDestination>
          <eoAcct:CollOfficer>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CollOfficer"/>
          </eoAcct:CollOfficer>
          <eoAcct:CountryDestination>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CountryDestination"/>
          </eoAcct:CountryDestination>
          <eoAcct:CreditDestination>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CreditDestination"/>
          </eoAcct:CreditDestination>
          <eoAcct:FundsDestination>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:FundsDestination"/>
          </eoAcct:FundsDestination>
          <eoAcct:FundsPurpose>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:FundsPurpose"/>
          </eoAcct:FundsPurpose>
          <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:PrefRateExpDt/text()">
            <eoAcct:PrefRateExpDt>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:PrefRateExpDt"/>
            </eoAcct:PrefRateExpDt>
          </xsl:if>
          <eoAcct:PurposeDesc>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:PurposeDesc"/>
          </eoAcct:PurposeDesc>
          <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RecalFrequency">
            <eoAcct:RecalFrequency>
              <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RecalFrequency/appoptcommon:NoPaymentMonth/text()">
                <ns4:NoPaymentMonth>
                  <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RecalFrequency/appoptcommon:NoPaymentMonth"/>
                </ns4:NoPaymentMonth>
              </xsl:if>
              <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RecalFrequency/appoptcommon:OnDayNumber/text()">
                <ns4:OnDayNumber>
                  <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RecalFrequency/appoptcommon:OnDayNumber"/>
                </ns4:OnDayNumber>
              </xsl:if>
            </eoAcct:RecalFrequency>
          </xsl:if>
          <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RefinanceDate/text()">
            <eoAcct:RefinanceDate>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RefinanceDate"/>
            </eoAcct:RefinanceDate>
          </xsl:if>
          <eoAcct:RefinanceNum>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RefinanceNum"/>
          </eoAcct:RefinanceNum>
          <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:ResDt/text()">
            <eoAcct:ResDt>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:ResDt"/>
            </eoAcct:ResDt>
          </xsl:if>
          <eoAcct:ResNum>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:ResNum"/>
          </eoAcct:ResNum>
          <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RevResDt/text()">
            <eoAcct:RevResDt>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RevResDt"/>
            </eoAcct:RevResDt>
          </xsl:if>
          <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SourceSales">
            <eoAcct:SourceSales>
              <ns4:Cod>
                <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SourceSales/appoptcommon:Cod"/>
              </ns4:Cod>
              <ns4:Desc>
                <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SourceSales/appoptcommon:Desc"/>
              </ns4:Desc>
            </eoAcct:SourceSales>
          </xsl:if>
          <eoAcct:StatusAdmin>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:StatusAdmin"/>
          </eoAcct:StatusAdmin>
          <eoAcct:WritingType>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:WritingType"/>
          </eoAcct:WritingType>
          <xsl:for-each select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CreditRegularPmt">
            <eoAcct:CreditRegularPmt>
              <eoAcct:Amt>
                <xsl:if test="ns0:Amt/appoptcommon:Amt/text()">
                  <ns4:Amt>
                    <xsl:value-of select="ns0:Amt/appoptcommon:Amt"/>
                  </ns4:Amt>
                </xsl:if>
              </eoAcct:Amt>
              <eoAcct:BillType>
                <xsl:value-of select="ns0:BillType"/>
              </eoAcct:BillType>
              <xsl:if test="ns0:Freq">
                <eoAcct:Freq>
                  <ns4:OnDayNumber>
                    <xsl:value-of select="ns0:Freq/appoptcommon:OnDayNumber"/>
                  </ns4:OnDayNumber>
                </eoAcct:Freq>
              </xsl:if>
              <eoAcct:PmtClass>
                <xsl:value-of select="ns0:PmtClass"/>
              </eoAcct:PmtClass>
              <eoAcct:PmtType>
                <xsl:value-of select="ns0:PmtType"/>
              </eoAcct:PmtType>
              <xsl:for-each select="ns0:PmtDetail">
                <eoAcct:PmtDetail>
                  <xsl:if test="ns0:Freq/appoptcommon:OnDayNumber/text()">
                    <eoAcct:Freq>
                      <xsl:value-of select="ns0:Freq/appoptcommon:OnDayNumber"/>
                    </eoAcct:Freq>
                  </xsl:if>
                  <eoAcct:PmtTarget>
                    <xsl:value-of select="ns0:PmtTarget"/>
                  </eoAcct:PmtTarget>
                </eoAcct:PmtDetail>
              </xsl:for-each>
              <xsl:for-each select="ns0:PmtTargetDetail">
                <eoAcct:PmtTargetDetail>
                  <eoAcct:ActualAmt>
                    <xsl:if test="ns0:ActualAmt/appoptcommon:Amt/text()">
                      <ns4:Amt>
                        <xsl:value-of select="ns0:ActualAmt/appoptcommon:Amt"/>
                      </ns4:Amt>
                    </xsl:if>
                  </eoAcct:ActualAmt>
                  <xsl:if test="ns0:EndDate/text()">
                    <eoAcct:EndDate>
                      <xsl:value-of select="ns0:EndDate"/>
                    </eoAcct:EndDate>
                  </xsl:if>
                  <xsl:if test="ns0:NumPayments/text()">
                    <eoAcct:NumPayments>
                      <xsl:value-of select="ns0:NumPayments"/>
                    </eoAcct:NumPayments>
                  </xsl:if>
                  <xsl:if test="ns0:Percentage/text()">
                    <eoAcct:Percentage>
                      <xsl:value-of select="ns0:Percentage"/>
                    </eoAcct:Percentage>
                  </xsl:if>
                  <xsl:if test="ns0:StartDate/text()">
                    <eoAcct:StartDate>
                      <xsl:value-of select="ns0:StartDate"/>
                    </eoAcct:StartDate>
                  </xsl:if>
                </eoAcct:PmtTargetDetail>
              </xsl:for-each>
            </eoAcct:CreditRegularPmt>
          </xsl:for-each>
          <eoAcct:Term>
            <eoAcct:ProposedTerm>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Term/ns0:ProposedTerm"/>
            </eoAcct:ProposedTerm>
          </eoAcct:Term>
          <eoAcct:CreditAcctPmtInfo>
            <eoAcct:PmtMethod>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CreditAcctPmtInfo/ns0:PmtMethod"/>
            </eoAcct:PmtMethod>
          </eoAcct:CreditAcctPmtInfo>
          <eoAcct:Agreement>
            <eoAcct:AgreementType>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:AgreementType"/>
            </eoAcct:AgreementType>
            <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:CreatedDt/text()">
              <eoAcct:CreatedDt>
                <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:CreatedDt"/>
              </eoAcct:CreatedDt>
            </xsl:if>
            <eoAcct:Desc>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:Desc"/>
            </eoAcct:Desc>
            <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:DueDt/text()">
              <eoAcct:DueDt>
                <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:DueDt"/>
              </eoAcct:DueDt>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:FulfillmentDt/text()">
              <eoAcct:FulfillmentDt>
                <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:FulfillmentDt"/>
              </eoAcct:FulfillmentDt>
            </xsl:if>
          </eoAcct:Agreement>
          <xsl:for-each select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Charge">
            <eoAcct:Charge>
              <eoAcct:ChargeClass>
                <xsl:value-of select="ns0:ChargeClass"/>
              </eoAcct:ChargeClass>
              <eoAcct:ChargeType>
                <xsl:value-of select="ns0:ChargeType"/>
              </eoAcct:ChargeType>
              <eoAcct:CurAmt>
                <xsl:if test="ns0:CurAmt/appoptcommon:Amt/text()">
                  <ns4:Amt>
                    <xsl:value-of select="ns0:CurAmt/appoptcommon:Amt"/>
                  </ns4:Amt>
                </xsl:if>
              </eoAcct:CurAmt>
            </eoAcct:Charge>
          </xsl:for-each>
          <eoAcct:SettleInstruction>
            <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:ExeAutoPay/text()">
              <eoAcct:ExeAutoPay>
                <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:ExeAutoPay"/>
              </eoAcct:ExeAutoPay>
            </xsl:if>
            <eoAcct:FromDay>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:FromDay"/>
            </eoAcct:FromDay>
            <eoAcct:ToDay>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:ToDay"/>
            </eoAcct:ToDay>
            <xsl:for-each select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:PayIn">
              <eoAcct:PayIn>
                <eoAcct:ACDBRule>
                  <xsl:value-of select="ns0:ACDBRule"/>
                </eoAcct:ACDBRule>
                <eoAcct:MandateRef>
                  <xsl:value-of select="ns0:MandateRef"/>
                </eoAcct:MandateRef>
                <xsl:for-each select="ns0:PmtType">
                  <eoAcct:PmtType>
                    <xsl:value-of select="."/>
                  </eoAcct:PmtType>
                </xsl:for-each>
                <xsl:if test="ns0:SettleActivity">
                  <eoAcct:SettleActivity>
                    <ns4:Cod>
                      <xsl:value-of select="ns0:SettleActivity/appoptcommon:Cod"/>
                    </ns4:Cod>
                    <ns4:Desc>
                      <xsl:value-of select="ns0:SettleActivity/appoptcommon:Desc"/>
                    </ns4:Desc>
                  </eoAcct:SettleActivity>
                </xsl:if>
                <xsl:if test="ns0:Settlement/text()">
                  <eoAcct:Settlement>
                    <xsl:value-of select="ns0:Settlement"/>
                  </eoAcct:Settlement>
                </xsl:if>
                <xsl:for-each select="ns0:PayInAcctRef">
                  <eoAcct:PayInAcctRef>
                    <xsl:if test="ns0:Activity">
                      <eoAcct:Activity>
                        <ns4:Cod>
                          <xsl:value-of select="ns0:Activity/appoptcommon:Cod"/>
                        </ns4:Cod>
                        <ns4:Desc>
                          <xsl:value-of select="ns0:Activity/appoptcommon:Desc"/>
                        </ns4:Desc>
                      </eoAcct:Activity>
                    </xsl:if>
                    <eoAcct:PayInAcct>
                      <eoAcct:AcctId>
                        <xsl:value-of select="ns0:PayInAcct/ns0:AcctId"/>
                      </eoAcct:AcctId>
                      <eoAcct:AcctReference>
                        <xsl:value-of select="ns0:PayInAcct/ns0:AcctReference"/>
                      </eoAcct:AcctReference>
                      <eoAcct:AlternateId>
                        <xsl:value-of select="ns0:PayInAcct/ns0:AlternateId"/>
                      </eoAcct:AlternateId>
                    </eoAcct:PayInAcct>
                  </eoAcct:PayInAcctRef>
                </xsl:for-each>
              </eoAcct:PayIn>
            </xsl:for-each>
            <xsl:for-each select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:PayOut">
              <eoAcct:PayOut>
                <xsl:if test="ns0:Activity">
                  <eoAcct:Activity>
                    <ns4:Cod>
                      <xsl:value-of select="ns0:Activity/appoptcommon:Cod"/>
                    </ns4:Cod>
                    <ns4:Desc>
                      <xsl:value-of select="ns0:Activity/appoptcommon:Desc"/>
                    </ns4:Desc>
                  </eoAcct:Activity>
                </xsl:if>
                <eoAcct:PayOutAcct>
                  <eoAcct:AcctId>
                    <xsl:value-of select="ns0:PayOutAcct/ns0:AcctId"/>
                  </eoAcct:AcctId>
                  <eoAcct:AcctReference>
                    <xsl:value-of select="ns0:PayOutAcct/ns0:AcctReference"/>
                  </eoAcct:AcctReference>
                  <eoAcct:AlternateId>
                    <xsl:value-of select="ns0:PayOutAcct/ns0:AlternateId"/>
                  </eoAcct:AlternateId>
                </eoAcct:PayOutAcct>
                <eoAcct:Property>
                  <xsl:value-of select="ns0:Property"/>
                </eoAcct:Property>
                <eoAcct:PropertyClass>
                  <xsl:value-of select="ns0:PropertyClass"/>
                </eoAcct:PropertyClass>
                <xsl:if test="ns0:SettleActivity">
                  <eoAcct:SettleActivity>
                    <ns4:Cod>
                      <xsl:value-of select="ns0:SettleActivity/appoptcommon:Cod"/>
                    </ns4:Cod>
                    <ns4:Desc>
                      <xsl:value-of select="ns0:SettleActivity/appoptcommon:Desc"/>
                    </ns4:Desc>
                  </eoAcct:SettleActivity>
                </xsl:if>
                <xsl:if test="ns0:Settlement/text()">
                  <eoAcct:Settlement>
                    <xsl:value-of select="ns0:Settlement"/>
                  </eoAcct:Settlement>
                </xsl:if>
              </eoAcct:PayOut>
            </xsl:for-each>
          </eoAcct:SettleInstruction>
          <xsl:for-each select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:ActivityCharge">
            <eoAcct:ActivityCharge>
              <eoAcct:ActivityId>
                <xsl:value-of select="ns0:ActivityId"/>
              </eoAcct:ActivityId>
              <xsl:for-each select="ns0:ActivityChargeDetail">
                <eoAcct:ActivityChargeDetail>
                  <eoAcct:ActivityMethod>
                    <xsl:value-of select="ns0:ActivityMethod"/>
                  </eoAcct:ActivityMethod>
                  <eoAcct:ChargeAutoSettle>
                    <xsl:value-of select="ns0:ChargeAutoSettle"/>
                  </eoAcct:ChargeAutoSettle>
                  <eoAcct:Period>
                    <xsl:value-of select="ns0:Period"/>
                  </eoAcct:Period>
                </eoAcct:ActivityChargeDetail>
              </xsl:for-each>
            </eoAcct:ActivityCharge>
          </xsl:for-each>
        </eoAcct:CreditAcctData>
        <xsl:for-each select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AcctMember">
          <eoAcct:AcctMember>
            <eoAcct:PartyKey>
              <ns7:PartyId>
                <xsl:value-of select="ns0:PartyKey/ns0:PartyId"/>
              </ns7:PartyId>
            </eoAcct:PartyKey>
            <xsl:if test="ns0:PartyRole">
              <eoAcct:PartyRole>
                <ns4:Cod>
                  <xsl:value-of select="ns0:PartyRole/appoptcommon:Cod"/>
                </ns4:Cod>
                <ns4:Desc>
                  <xsl:value-of select="ns0:PartyRole/appoptcommon:Desc"/>
                </ns4:Desc>
              </eoAcct:PartyRole>
            </xsl:if>
          </eoAcct:AcctMember>
        </xsl:for-each>
        <eoAcct:AcctOpeningInfo>
          <eoAcct:AgentArrId>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:AgentArrId"/>
          </eoAcct:AgentArrId>
          <eoAcct:AgentId>
            <ns7:PartyId>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:AgentId/ns0:PartyId"/>
            </ns7:PartyId>
          </eoAcct:AgentId>
          <eoAcct:InitialAmt>
            <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:InitialAmt/appoptcommon:Amt/text()">
              <ns4:Amt>
                <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:InitialAmt/appoptcommon:Amt"/>
              </ns4:Amt>
            </xsl:if>
          </eoAcct:InitialAmt>
          <xsl:if test="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:OpenDt/text()">
            <eoAcct:OpenDt>
              <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:OpenDt"/>
            </eoAcct:OpenDt>
          </xsl:if>
          <eoAcct:RqReason>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:RqReason"/>
          </eoAcct:RqReason>
          <eoAcct:SaleOfficer>
            <xsl:value-of select="/ns0:AcctLoanMortAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:SaleOfficer"/>
          </eoAcct:SaleOfficer>
        </eoAcct:AcctOpeningInfo>
      </tns:AcctLoan>
    </tns:AcctLoanMortAddRq>
  </xsl:template>
</xsl:stylesheet>
