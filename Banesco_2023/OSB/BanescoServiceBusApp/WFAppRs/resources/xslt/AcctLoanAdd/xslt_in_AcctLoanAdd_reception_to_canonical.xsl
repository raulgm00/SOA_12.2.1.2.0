<?xml version="1.0" encoding="UTF-8" ?>
<xsl:stylesheet version="1.0"
                xmlns:UUIDUserFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.UUIDUserFunction"
                xmlns:IsUserInGroupFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.IsUserInGroupFunction"
                xmlns:ns0="http://xmlns.banesco.com/appopt/WFAcctLoanAppSvc/AcctLoanAdd_V1.0"
                xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                xmlns:IsUserInRoleFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.IsUserInRoleFunction"
                xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                xmlns:DVMFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.functions.dvm.DVMFunctions"
                xmlns:tns="http://xmlns.banesco.com/eopt/AcctLoanAdd_V1.0"
                xmlns:oracle-xsl-mapper="http://www.oracle.com/xsl/mapper/schemas"
                xmlns:oraxsl="http://www.oracle.com/XSL/Transform/java"
                xmlns:RuntimeTypeConversionFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.RuntimeTypeConversionFunctions"
                xmlns:XrefFunctions="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.functions.xref.XrefFunctions"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:BasicCredentialsUserFunction="http://www.oracle.com/XSL/Transform/java/com.bea.wli.sb.stages.functions.BasicCredentialsUserFunction"
                exclude-result-prefixes="xsd oracle-xsl-mapper xsi xsl ns0 tns UUIDUserFunction IsUserInGroupFunction oraext IsUserInRoleFunction xp20 DVMFunctions oraxsl RuntimeTypeConversionFunctions XrefFunctions BasicCredentialsUserFunction"
                xmlns:appoptcommon="http://xmlns.banesco.com/appopt/AOptCommon_V1.0"
                xmlns:ns6="http://xmlns.banesco.com/eo/Product_V1.0"
                xmlns:eoAcct="http://xmlns.banesco.com/eo/Acct_V1.0" xmlns:ns7="http://xmlns.banesco.com/eo/Party_V1.0"
                xmlns:eoStatus="http://xmlns.banesco.com/eo/Status_V1.0"
                xmlns:ns8="http://xmlns.banesco.com/eo/Chk_V1.0" xmlns:ns3="http://xmlns.banesco.com/eo/Banking_V1.0"
                xmlns:ns5="http://xmlns.banesco.com/eo/Fee_V1.0" xmlns:ns1="http://xmlns.banesco.com/eo/Card_V1.0"
                xmlns:ns2="http://xmlns.banesco.com/eo/Payee_V1.0" xmlns:ns4="http://xmlns.banesco.com/eo/Common_V1.0">
  <oracle-xsl-mapper:schema>
    <!--SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY.-->
    <oracle-xsl-mapper:mapSources>
      <oracle-xsl-mapper:source type="XSD">
        <oracle-xsl-mapper:schema location="../../../../Commons/xsd/AppOpt/WFAcctLoan/AcctLoanAdd/AcctLoanAdd_V1.0.xsd"/>
        <oracle-xsl-mapper:rootElement name="AcctLoanAddRq"
                                       namespace="http://xmlns.banesco.com/appopt/WFAcctLoanAppSvc/AcctLoanAdd_V1.0"/>
      </oracle-xsl-mapper:source>
    </oracle-xsl-mapper:mapSources>
    <oracle-xsl-mapper:mapTargets>
      <oracle-xsl-mapper:target type="XSD">
        <oracle-xsl-mapper:schema location="../../../../Commons/xsd/EOpt/AccountLoan/AcctLoanAdd/AcctLoanAdd_V1.0.xsd"/>
        <oracle-xsl-mapper:rootElement name="AcctLoanAddRq" namespace="http://xmlns.banesco.com/eopt/AcctLoanAdd_V1.0"/>
      </oracle-xsl-mapper:target>
    </oracle-xsl-mapper:mapTargets>
    <!--GENERATED BY ORACLE XSL MAPPER 12.2.1.2.0(XSLT Build 161003.0739.0018) AT [MON JUL 16 15:18:00 COT 2018].-->
  </oracle-xsl-mapper:schema>
  <xsl:include href="../../../../Commons/xslt/Template/TemplatePmtFrequency.xsl"/>
  <!--User Editing allowed BELOW this line - DO NOT DELETE THIS LINE-->
  <xsl:template match="/">
    <tns:AcctLoanAddRq>
      <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/text()">
        <tns:AccLoan>
          <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctSubtype">
            <eoAcct:AcctSubtype>
              <ns4:Cod>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctSubtype/appoptcommon:Cod"/>
              </ns4:Cod>
              <ns4:Desc>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctSubtype/appoptcommon:Desc"/>
              </ns4:Desc>
            </eoAcct:AcctSubtype>
          </xsl:if>
          <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AutonomyCode/text()">
            <eoAcct:AutonomyCode>
              <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AutonomyCode"/>
            </eoAcct:AutonomyCode>
          </xsl:if>
          <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AutonomyUser/text()">
            <eoAcct:AutonomyUser>
              <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AutonomyUser"/>
            </eoAcct:AutonomyUser>
          </xsl:if>
          <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:ClosedDt/text()">
            <eoAcct:ClosedDt>
              <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:ClosedDt"/>
            </eoAcct:ClosedDt>
          </xsl:if>
          <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:ClubBanesco">
            <eoAcct:ClubBanesco>
              <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:ClubBanesco"/>
            </eoAcct:ClubBanesco>
          </xsl:if>
          <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CurCode">
            <eoAcct:CurCode>
              <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CurCode"/>
            </eoAcct:CurCode>
          </xsl:if>
          <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:SubCategory/text()">
            <eoAcct:SubCategory>
              <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:SubCategory"/>
            </eoAcct:SubCategory>
          </xsl:if>
          <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:Variation">
            <eoAcct:Variation>
              <ns4:Cod>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:Variation/appoptcommon:Cod"/>
              </ns4:Cod>
              <ns4:Desc>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:Variation/appoptcommon:Desc"/>
              </ns4:Desc>
            </eoAcct:Variation>
          </xsl:if>
          <eoAcct:AcctKey>
            <eoAcct:AcctId/>
          </eoAcct:AcctKey>
          <xsl:for-each select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:TaxData">
            <eoAcct:TaxData>
              <xsl:if test="ns0:TaxCode/text()">
                <ns3:TaxCode>
                  <xsl:value-of select="ns0:TaxCode"/>
                </ns3:TaxCode>
              </xsl:if>
              <xsl:if test="ns0:TaxCondition/text()">
                <ns3:TaxCondition>
                  <xsl:value-of select="ns0:TaxCondition"/>
                </ns3:TaxCondition>
              </xsl:if>
              <xsl:if test="ns0:TaxType/text()">
                <ns3:TaxType>
                  <xsl:value-of select="ns0:TaxType"/>
                </ns3:TaxType>
              </xsl:if>
            </eoAcct:TaxData>
          </xsl:for-each>
          <xsl:for-each select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:IntRateData">
            <eoAcct:IntRateData>
              <xsl:if test="ns0:AccrualRule/text()">
                <eoAcct:AccrualRule>
                  <xsl:value-of select="ns0:AccrualRule"/>
                </eoAcct:AccrualRule>
              </xsl:if>
              <xsl:if test="ns0:IntDayBasis/text()">
                <eoAcct:IntDayBasis>
                  <xsl:value-of select="ns0:IntDayBasis"/>
                </eoAcct:IntDayBasis>
              </xsl:if>
              <xsl:if test="ns0:IntRate/text()">
                <eoAcct:IntRate>
                  <xsl:value-of select="ns0:IntRate"/>
                </eoAcct:IntRate>
              </xsl:if>
              <xsl:if test="ns0:IntRateType/text()">
                <eoAcct:IntRateType>
                  <xsl:value-of select="ns0:IntRateType"/>
                </eoAcct:IntRateType>
              </xsl:if>
            </eoAcct:IntRateData>
          </xsl:for-each>
          <eoAcct:CreditAcctData>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:AuthType/text()">
              <eoAcct:AuthType>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:AuthType"/>
              </eoAcct:AuthType>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:BillsCombined/text()">
              <eoAcct:BillsCombined>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:BillsCombined"/>
              </eoAcct:BillsCombined>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CodeDestination/text()">
              <eoAcct:CodeDestination>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CodeDestination"/>
              </eoAcct:CodeDestination>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CollOfficer/text()">
              <eoAcct:CollOfficer>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CollOfficer"/>
              </eoAcct:CollOfficer>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CountryDestination/text()">
              <eoAcct:CountryDestination>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CountryDestination"/>
              </eoAcct:CountryDestination>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CreditDestination/text()">
              <eoAcct:CreditDestination>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CreditDestination"/>
              </eoAcct:CreditDestination>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:FundsDestination/text()">
              <eoAcct:FundsDestination>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:FundsDestination"/>
              </eoAcct:FundsDestination>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:FundsPurpose/text()">
              <eoAcct:FundsPurpose>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:FundsPurpose"/>
              </eoAcct:FundsPurpose>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:PrefRateExpDt/text()">
              <eoAcct:PrefRateExpDt>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:PrefRateExpDt"/>
              </eoAcct:PrefRateExpDt>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:PurposeDesc/text()">
              <eoAcct:PurposeDesc>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:PurposeDesc"/>
              </eoAcct:PurposeDesc>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RefinanceDate/text()">
              <eoAcct:RefinanceDate>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RefinanceDate"/>
              </eoAcct:RefinanceDate>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RefinanceNum/text()">
              <eoAcct:RefinanceNum>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RefinanceNum"/>
              </eoAcct:RefinanceNum>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:ResDt/text()">
              <eoAcct:ResDt>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:ResDt"/>
              </eoAcct:ResDt>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:ResNum/text()">
              <eoAcct:ResNum>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:ResNum"/>
              </eoAcct:ResNum>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RevResDt/text()">
              <eoAcct:RevResDt>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:RevResDt"/>
              </eoAcct:RevResDt>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SourceSales">
              <eoAcct:SourceSales>
                <ns4:Cod>
                  <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SourceSales/appoptcommon:Cod"/>
                </ns4:Cod>
                <ns4:Desc>
                  <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SourceSales/appoptcommon:Desc"/>
                </ns4:Desc>
              </eoAcct:SourceSales>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:StatusAdmin/text()">
              <eoAcct:StatusAdmin>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:StatusAdmin"/>
              </eoAcct:StatusAdmin>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:WritingType/text()">
              <eoAcct:WritingType>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:WritingType"/>
              </eoAcct:WritingType>
            </xsl:if>
            <xsl:for-each select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CreditRegularPmt">
              <eoAcct:CreditRegularPmt>
                <xsl:if test="ns0:BillType/text()">
                  <eoAcct:BillType>
                    <xsl:value-of select="ns0:BillType"/>
                  </eoAcct:BillType>
                </xsl:if>
                <xsl:if test="ns0:Freq">
                  <eoAcct:Freq>
                    <xsl:if test="ns0:Freq/appoptcommon:NoPaymentMonth/text()">
                      <ns4:NoPaymentMonth>
                        <xsl:value-of select="ns0:Freq/appoptcommon:NoPaymentMonth"/>
                      </ns4:NoPaymentMonth>
                    </xsl:if>
                    <xsl:if test="ns0:Freq/appoptcommon:OnDayNumber/text()">
                      <ns4:OnDayNumber>
                        <xsl:value-of select="ns0:Freq/appoptcommon:OnDayNumber"/>
                      </ns4:OnDayNumber>
                    </xsl:if>
                  </eoAcct:Freq>
                </xsl:if>
                <xsl:if test="ns0:PmtClass/text()">
                  <eoAcct:PmtClass>
                    <xsl:value-of select="ns0:PmtClass"/>
                  </eoAcct:PmtClass>
                </xsl:if>
                <xsl:if test="ns0:PmtType/text()">
                  <eoAcct:PmtType>
                    <xsl:value-of select="ns0:PmtType"/>
                  </eoAcct:PmtType>
                </xsl:if>
                <xsl:for-each select="ns0:PmtDetail">
                  <eoAcct:PmtDetail>
                    <xsl:if test="ns0:Freq">
                      <eoAcct:Freq>
                        <xsl:call-template name="CreditPmtFreq">
                          <xsl:with-param name="noPaymentMonth">
                              <xsl:value-of select="ns0:Freq/appoptcommon:NoPaymentMonth"/>
                            </xsl:with-param>
                          <xsl:with-param name="onDayNumber">
                              <xsl:value-of select="ns0:Freq/appoptcommon:OnDayNumber"/>
                            </xsl:with-param>
                        </xsl:call-template>
                      </eoAcct:Freq>
                    </xsl:if>
                    <xsl:if test="ns0:PmtTarget/text()">
                      <eoAcct:PmtTarget>
                        <xsl:value-of select="ns0:PmtTarget"/>
                      </eoAcct:PmtTarget>
                    </xsl:if>
                  </eoAcct:PmtDetail>
                </xsl:for-each>
                <xsl:for-each select="ns0:PmtTargetDetail">
                  <eoAcct:PmtTargetDetail>
                    <xsl:if test="ns0:ActualAmt">
                      <eoAcct:ActualAmt>
                        <ns4:Amt>
                          <xsl:value-of select="ns0:ActualAmt/appoptcommon:Amt"/>
                        </ns4:Amt>
                        <ns4:CurCode>
                          <xsl:value-of select="ns0:ActualAmt/appoptcommon:CurCode"/>
                        </ns4:CurCode>
                      </eoAcct:ActualAmt>
                    </xsl:if>
                    <xsl:if test="ns0:Percentage/text()">
                      <eoAcct:Percentage>
                        <xsl:value-of select="ns0:Percentage"/>
                      </eoAcct:Percentage>
                    </xsl:if>
                    <xsl:if test="ns0:StartDate/text()">
                      <eoAcct:StartDate>
                        <xsl:value-of select="ns0:StartDate"/>
                      </eoAcct:StartDate>
                    </xsl:if>
                  </eoAcct:PmtTargetDetail>
                </xsl:for-each>
              </eoAcct:CreditRegularPmt>
            </xsl:for-each>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Term">
              <eoAcct:Term>
                <eoAcct:ProposedTerm>
                  <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Term/ns0:ProposedTerm"/>
                </eoAcct:ProposedTerm>
              </eoAcct:Term>
            </xsl:if>
            <eoAcct:CreditAcctPmtInfo>
              <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CreditAcctPmtInfo/ns0:PmtMethod/text()">
                <eoAcct:PmtMethod>
                  <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:CreditAcctPmtInfo/ns0:PmtMethod"/>
                </eoAcct:PmtMethod>
              </xsl:if>
            </eoAcct:CreditAcctPmtInfo>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement">
              <eoAcct:Agreement>
                <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:AgreementType/text()">
                  <eoAcct:AgreementType>
                    <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:AgreementType"/>
                  </eoAcct:AgreementType>
                </xsl:if>
                <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:CreatedDt/text()">
                  <eoAcct:CreatedDt>
                    <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:CreatedDt"/>
                  </eoAcct:CreatedDt>
                </xsl:if>
                <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:Desc/text()">
                  <eoAcct:Desc>
                    <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:Desc"/>
                  </eoAcct:Desc>
                </xsl:if>
                <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:DueDt/text()">
                  <eoAcct:DueDt>
                    <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:DueDt"/>
                  </eoAcct:DueDt>
                </xsl:if>
                <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:FulfillmentDt/text()">
                  <eoAcct:FulfillmentDt>
                    <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Agreement/ns0:FulfillmentDt"/>
                  </eoAcct:FulfillmentDt>
                </xsl:if>
              </eoAcct:Agreement>
            </xsl:if>
            <xsl:for-each select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:Charge">
              <eoAcct:Charge>
                <xsl:if test="ns0:ChargeClass/text()">
                  <eoAcct:ChargeClass>
                    <xsl:value-of select="ns0:ChargeClass"/>
                  </eoAcct:ChargeClass>
                </xsl:if>
                <xsl:if test="ns0:ChargeType/text()">
                  <eoAcct:ChargeType>
                    <xsl:value-of select="ns0:ChargeType"/>
                  </eoAcct:ChargeType>
                </xsl:if>
                <xsl:if test="ns0:CurAmt">
                  <eoAcct:CurAmt>
                    <ns4:Amt>
                      <xsl:value-of select="ns0:CurAmt/appoptcommon:Amt"/>
                    </ns4:Amt>
                    <ns4:CurCode>
                      <xsl:value-of select="ns0:CurAmt/appoptcommon:CurCode"/>
                    </ns4:CurCode>
                  </eoAcct:CurAmt>
                </xsl:if>
              </eoAcct:Charge>
            </xsl:for-each>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction">
              <eoAcct:SettleInstruction>
                <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:ExeAutoPay/text()">
                  <eoAcct:ExeAutoPay>
                    <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:ExeAutoPay"/>
                  </eoAcct:ExeAutoPay>
                </xsl:if>
                <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:FromDay/text()">
                  <eoAcct:FromDay>
                    <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:FromDay"/>
                  </eoAcct:FromDay>
                </xsl:if>
                <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:ToDay/text()">
                  <eoAcct:ToDay>
                    <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:ToDay"/>
                  </eoAcct:ToDay>
                </xsl:if>
                <xsl:for-each select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:PayIn">
                  <eoAcct:PayIn>
                    <xsl:if test="ns0:ACDBRule/text()">
                      <eoAcct:ACDBRule>
                        <xsl:value-of select="ns0:ACDBRule"/>
                      </eoAcct:ACDBRule>
                    </xsl:if>
                    <xsl:if test="ns0:PmtType/text()">
                      <eoAcct:PmtType>
                        <xsl:value-of select="ns0:PmtType"/>
                      </eoAcct:PmtType>
                    </xsl:if>
                    <xsl:if test="ns0:SettleActivity">
                      <eoAcct:SettleActivity>
                        <ns4:Cod>
                          <xsl:value-of select="ns0:SettleActivity/appoptcommon:Cod"/>
                        </ns4:Cod>
                        <ns4:Desc>
                          <xsl:value-of select="ns0:SettleActivity/appoptcommon:Desc"/>
                        </ns4:Desc>
                      </eoAcct:SettleActivity>
                    </xsl:if>
                    <xsl:if test="ns0:Settlement/text()">
                      <eoAcct:Settlement>
                        <xsl:value-of select="ns0:Settlement"/>
                      </eoAcct:Settlement>
                    </xsl:if>
                    <xsl:for-each select="ns0:PayInAcctRef">
                      <eoAcct:PayInAcctRef>
                        <xsl:if test="ns0:Activity">
                          <eoAcct:Activity>
                            <ns4:Cod>
                              <xsl:value-of select="ns0:Activity/appoptcommon:Cod"/>
                            </ns4:Cod>
                            <ns4:Desc>
                              <xsl:value-of select="ns0:Activity/appoptcommon:Desc"/>
                            </ns4:Desc>
                          </eoAcct:Activity>
                        </xsl:if>
                        <xsl:if test="ns0:PayInAcct">
                          <eoAcct:PayInAcct>
                            <eoAcct:AcctReference>
                              <xsl:value-of select="ns0:PayInAcct/ns0:AcctReference"/>
                            </eoAcct:AcctReference>
                          </eoAcct:PayInAcct>
                        </xsl:if>
                      </eoAcct:PayInAcctRef>
                    </xsl:for-each>
                  </eoAcct:PayIn>
                </xsl:for-each>
                <xsl:for-each select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:SettleInstruction/ns0:PayOut">
                  <eoAcct:PayOut>
                    <xsl:if test="ns0:Activity">
                      <eoAcct:Activity>
                        <ns4:Cod>
                          <xsl:value-of select="ns0:Activity/appoptcommon:Cod"/>
                        </ns4:Cod>
                        <ns4:Desc>
                          <xsl:value-of select="ns0:Activity/appoptcommon:Desc"/>
                        </ns4:Desc>
                      </eoAcct:Activity>
                    </xsl:if>
                    <xsl:if test="ns0:PayOutAcct">
                      <eoAcct:PayOutAcct>
                        <eoAcct:AcctReference>
                          <xsl:value-of select="ns0:PayOutAcct/ns0:AcctReference"/>
                        </eoAcct:AcctReference>
                      </eoAcct:PayOutAcct>
                    </xsl:if>
                    <xsl:if test="ns0:Property/text()">
                      <eoAcct:Property>
                        <xsl:value-of select="ns0:Property"/>
                      </eoAcct:Property>
                    </xsl:if>
                    <xsl:if test="ns0:SettleActivity">
                      <eoAcct:SettleActivity>
                        <ns4:Cod>
                          <xsl:value-of select="ns0:SettleActivity/appoptcommon:Cod"/>
                        </ns4:Cod>
                        <ns4:Desc>
                          <xsl:value-of select="ns0:SettleActivity/appoptcommon:Desc"/>
                        </ns4:Desc>
                      </eoAcct:SettleActivity>
                    </xsl:if>
                    <xsl:if test="ns0:Settlement/text()">
                      <eoAcct:Settlement>
                        <xsl:value-of select="ns0:Settlement"/>
                      </eoAcct:Settlement>
                    </xsl:if>
                  </eoAcct:PayOut>
                </xsl:for-each>
              </eoAcct:SettleInstruction>
            </xsl:if>
            <xsl:for-each select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:CreditAcctData/ns0:ActivityCharge">
              <eoAcct:ActivityCharge>
                <xsl:if test="ns0:ActivityId/text()">
                  <eoAcct:ActivityId>
                    <xsl:value-of select="ns0:ActivityId"/>
                  </eoAcct:ActivityId>
                </xsl:if>
                <xsl:for-each select="ns0:ActivityChargeDetail">
                  <eoAcct:ActivityChargeDetail>
                    <xsl:if test="ns0:ActivityMethod/text()">
                      <eoAcct:ActivityMethod>
                        <xsl:value-of select="ns0:ActivityMethod"/>
                      </eoAcct:ActivityMethod>
                    </xsl:if>
                    <xsl:if test="ns0:ChargeAutoSettle/text()">
                      <eoAcct:ChargeAutoSettle>
                        <xsl:value-of select="ns0:ChargeAutoSettle"/>
                      </eoAcct:ChargeAutoSettle>
                    </xsl:if>
                    <xsl:if test="ns0:Period/text()">
                      <eoAcct:Period>
                        <xsl:value-of select="ns0:Period"/>
                      </eoAcct:Period>
                    </xsl:if>
                  </eoAcct:ActivityChargeDetail>
                </xsl:for-each>
              </eoAcct:ActivityCharge>
            </xsl:for-each>
          </eoAcct:CreditAcctData>
          <xsl:for-each select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctMember">
            <eoAcct:AcctMember>
              <xsl:if test="ns0:PartyKey">
                <eoAcct:PartyKey>
                  <ns7:PartyId>
                    <xsl:value-of select="ns0:PartyKey/ns0:PartyId"/>
                  </ns7:PartyId>
                </eoAcct:PartyKey>
              </xsl:if>
              <xsl:if test="ns0:PartyRole">
                <eoAcct:PartyRole>
                  <ns4:Cod>
                    <xsl:value-of select="ns0:PartyRole/appoptcommon:Cod"/>
                  </ns4:Cod>
                  <ns4:Desc>
                    <xsl:value-of select="ns0:PartyRole/appoptcommon:Desc"/>
                  </ns4:Desc>
                </eoAcct:PartyRole>
              </xsl:if>
            </eoAcct:AcctMember>
          </xsl:for-each>
          <eoAcct:AcctOpeningInfo>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:AgentArrId/text()">
              <eoAcct:AgentArrId>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:AgentArrId"/>
              </eoAcct:AgentArrId>
            </xsl:if>
            <eoAcct:AgentId>
              <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:AgentId/ns0:PartyId/text()">
                <ns7:PartyId>
                  <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:AgentId/ns0:PartyId"/>
                </ns7:PartyId>
              </xsl:if>
            </eoAcct:AgentId>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:InitialAmt">
              <eoAcct:InitialAmt>
                <ns4:Amt>
                  <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:InitialAmt/appoptcommon:Amt"/>
                </ns4:Amt>
                <ns4:CurCode>
                  <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:InitialAmt/appoptcommon:CurCode"/>
                </ns4:CurCode>
              </eoAcct:InitialAmt>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:OpenDt/text()">
              <eoAcct:OpenDt>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:OpenDt"/>
              </eoAcct:OpenDt>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:RqReason/text()">
              <eoAcct:RqReason>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:RqReason"/>
              </eoAcct:RqReason>
            </xsl:if>
            <xsl:if test="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:SaleOfficer/text()">
              <eoAcct:SaleOfficer>
                <xsl:value-of select="/ns0:AcctLoanAddRq/ns0:AcctLoan/ns0:AcctOpeningInfo/ns0:SaleOfficer"/>
              </eoAcct:SaleOfficer>
            </xsl:if>
          </eoAcct:AcctOpeningInfo>
        </tns:AccLoan>
      </xsl:if>
    </tns:AcctLoanAddRq>
  </xsl:template>
</xsl:stylesheet>
