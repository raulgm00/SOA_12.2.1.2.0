package org.bcie.fenix.common.model.vo;

import oracle.adf.share.logging.ADFLogger;

import oracle.jbo.Row;
import oracle.jbo.ViewCriteria;
import oracle.jbo.server.ViewObjectImpl;

import org.bcie.fenix.common.model.vo.common.ContradoDesembolsoInfoVO;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Fri Oct 28 15:09:08 CDT 2016
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class ContradoDesembolsoInfoVOImpl extends ViewObjectImpl implements ContradoDesembolsoInfoVO {
    
    public static final ADFLogger logger = ADFLogger.createADFLogger(ContradoDesembolsoInfoVOImpl.class);
    
    /**
     * This is the default constructor (do not remove).
     */
    public ContradoDesembolsoInfoVOImpl() {
    }

    /**
     * Returns the variable value for pIdContrato.
     * @return variable value for pIdContrato
     */
    public Long getpIdContrato() {
        return (Long) ensureVariableManager().getVariableValue("pIdContrato");
    }

    /**
     * Sets <code>value</code> for variable pIdContrato.
     * @param value value to bind as pIdContrato
     */
    public void setpIdContrato(Long value) {
        ensureVariableManager().setVariableValue("pIdContrato", value);
    }
    
    public Row buscarInfoContratoDesembolsoByIdControta(Long idContrato) {
        logger.warning("*** Inicia metodo buscarInfoContratoDesembolsoByIdControta");
        Row row = null;
        
        if (idContrato == null) {
            logger.warning("*** El parametro idContrato es requerido para la busqueda");
            return null;
        } else {
            try {
                ViewCriteria vc = getViewCriteriaManager().getViewCriteria("ContradoDesembolsoInfoVOCriteria");
                vc.ensureVariableManager().setVariableValue("pIdContrato", idContrato);
                applyViewCriteria(vc);
                executeQuery();
                
                if (getEstimatedRowCount() > 0) {
                    setCurrentRow(first());
                    row = getCurrentRow();
                    logger.warning("Row recuperado ->" + row);
                } else {
                    logger.warning("El row recuperado es Null no hay coincidencias en la busqueda");
                    getViewCriteriaManager().removeApplyViewCriteriaName("ContradoDesembolsoInfoVOCriteria");
                    executeQuery();
                }
            } catch (Exception e) {
                logger.log(ADFLogger.WARNING,
                           "*** Error al Buscar Por idContrato??->" + e.getClass() + ":" + e.getMessage());
            } finally {
                getViewCriteriaManager().removeApplyViewCriteriaName("ContradoDesembolsoInfoVOCriteria");
            }
        }
        logger.warning("*** Termina metodo buscarInfoContratoDesembolsoByIdControta");
        return row;
    }
}

