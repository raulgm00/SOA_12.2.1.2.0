<?xml version="1.0" encoding="windows-1252" ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">
<!---->
<ViewObject
  xmlns="http://xmlns.oracle.com/bc4j"
  Name="DocumentosTrazabilidadOperacionAdquisicionesVO"
  Version="12.1.3.10.8"
  InheritPersonalization="merge"
  BindingStyle="OracleName"
  CustomQuery="true"
  PageIterMode="Full"
  RowClass="org.bcie.fenix.common.model.vo.DocumentosTrazabilidadOperacionAdquisicionesVORowImpl"
  ComponentClass="org.bcie.fenix.common.model.vo.DocumentosTrazabilidadOperacionAdquisicionesVOImpl"
  ComponentInterface="org.bcie.fenix.common.model.vo.common.DocumentosTrazabilidadOperacionAdquisicionesVO"
  ClientProxyName="org.bcie.fenix.common.model.vo.client.DocumentosTrazabilidadOperacionAdquisicionesVOClient">
  <DesignTime>
    <Attr Name="_isExpertMode" Value="true"/>
    <Attr Name="_codeGenFlag2" Value="Access|Coll|VarAccess"/>
    <Attr Name="_isCodegen" Value="true"/>
  </DesignTime>
  <Variable
    Name="varDocumento"
    Kind="viewcriteria"
    Type="java.lang.String"/>
  <Variable
    Name="varFechaFin"
    Kind="viewcriteria"
    Type="java.sql.Timestamp"/>
  <Variable
    Name="varFechaIni"
    Kind="viewcriteria"
    Type="java.sql.Timestamp"/>
  <Variable
    Name="varIdTipoDocumento"
    Kind="viewcriteria"
    Type="java.lang.Integer"/>
  <Variable
    Name="pIdOp"
    Kind="where"
    Type="java.lang.Long"/>
  <Variable
    Name="varIdProcesoBpm"
    Kind="viewcriteria"
    Type="java.lang.Integer"/>
  <ViewAccessor
    Name="TcaDocumentoVO"
    ViewObjectName="org.bcie.fenix.common.model.vo.TcaDocumentoVO"
    RowLevelBinds="true"/>
  <ViewAccessor
    Name="TcaProcesoBpmProcesoVO"
    ViewObjectName="org.bcie.fenix.common.model.vo.TcaProcesoBpmProcesoVO"
    RowLevelBinds="true"/>
  <SQLQuery><![CDATA[SELECT DISTINCT    
DOCUMENTO.ID_DOCUMENTO               AS ID_DOCUMENTO,        
DOCUMENTO.ID_TIPO_DOCUMENTO          AS ID_TIPO_DOCUMENTO,        
ADJUNTO.FILENAME                     AS DOCUMENTO,        
TCA_DOCUMENTO.DESCRIPCION            AS TIPO_DOCUMENTO_DESCRIPCION,       
DOCUMENTO.FECHA_REGISTRO             AS FECHA_INI,        
DOCUMENTO.FECHA_REGISTRO             AS FECHA_FIN, 
DOCUMENTO.FECHA_DOCUMENTO	     AS FECHA_DOCUMENTO, 
DOCUMENTO.ID_TAREA_BPM               AS ID_TAREA_BPM,   
TCA_PROCESO_BPM.ID                   AS ID_PROCESO_BPM,        
TCA_PROCESO_BPM.DESCRIPCION          AS ETAPA,   
DOCUMENTOS.ID_OPERACION              AS ID_OPERACION   
FROM DOCUMENTO DOCUMENTO,   
ADJUNTO ADJUNTO,   
TCA_DOCUMENTO TCA_DOCUMENTO,   
DOCUMENTOS DOCUMENTOS,   
TCA_TAREA_BPM TCA_TAREA_BPM,   
TCA_PROCESO_BPM TCA_PROCESO_BPM   
WHERE 1 = 1    
AND DOCUMENTO.BAN_ESTATUS=1   
AND DOCUMENTO.ID_DOCUMENTO = ADJUNTO.ID_DOCUMENTO (+)   
AND DOCUMENTO.ID_TIPO_DOCUMENTO = TCA_DOCUMENTO.ID   
AND DOCUMENTO.ID_DOCUMENTO = DOCUMENTOS.ID_DOCUMENTO   
AND   
((DOCUMENTO.ID_TAREA_BPM=TCA_TAREA_BPM.ID AND   
TCA_PROCESO_BPM.ID = TCA_TAREA_BPM.ID_PROCESO_BPM) OR (DOCUMENTO.ID_TAREA_BPM is null and TCA_PROCESO_BPM.ID=13))   
AND DOCUMENTOS.ID_OPERACION=:pIdOp     
ORDER BY FECHA_INI DESC, ID_TIPO_DOCUMENTO]]></SQLQuery>
  <ViewAttribute
    Name="IdDocumento"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.Long"
    ColumnType="LONGINT"
    AliasName="ID_DOCUMENTO"
    Expression="ID_DOCUMENTO"
    SQLType="NUMERIC"/>
  <ViewAttribute
    Name="IdTipoDocumento"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="5"
    Scale="0"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="ID_TIPO_DOCUMENTO"
    Expression="ID_TIPO_DOCUMENTO"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="Documento"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="500"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="DOCUMENTO"
    Expression="DOCUMENTO"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="120"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="TipoDocumentoDescripcion"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="256"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="TIPO_DOCUMENTO_DESCRIPCION"
    Expression="TIPO_DOCUMENTO_DESCRIPCION"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="256"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="FechaIni"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.sql.Timestamp"
    ColumnType="DATE"
    AliasName="FECHA_INI"
    Expression="FECHA_INI"
    SQLType="DATE"/>
  <ViewAttribute
    Name="FechaFin"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.sql.Timestamp"
    ColumnType="DATE"
    AliasName="FECHA_FIN"
    Expression="FECHA_FIN"
    SQLType="DATE"/>
  <ViewAttribute
    Name="FechaDocumento"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.sql.Timestamp"
    ColumnType="DATE"
    AliasName="FECHA_DOCUMENTO"
    Expression="FECHA_DOCUMENTO"
    SQLType="DATE"/>
  <ViewAttribute
    Name="IdTareaBpm"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="5"
    Scale="0"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="ID_TAREA_BPM"
    Expression="ID_TAREA_BPM"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="IdProcesoBpm"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="5"
    Scale="0"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="ID_PROCESO_BPM"
    Expression="ID_PROCESO_BPM"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="Etapa"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="256"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="ETAPA"
    Expression="ETAPA"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="256"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="IdOperacion"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="12"
    Scale="0"
    Type="java.lang.Long"
    ColumnType="NUMBER"
    AliasName="ID_OPERACION"
    Expression="ID_OPERACION"
    SQLType="NUMERIC"/>
  <ViewAttribute
    Name="seleccion"
    IsSelected="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.Boolean"
    ColumnType="NUMBER"
    AliasName="VIEW_ATTR"
    SQLType="BIT"
    DefaultValue="false"
    Passivate="true"/>
  <ViewCriteria
    Name="DocumentosTrazabilidadOperacionVOCriteria"
    ViewObjectName="org.bcie.fenix.common.model.vo.DocumentosTrazabilidadOperacionAdquisicionesVO"
    Conjunction="AND">
    <Properties>
      <CustomProperties>
        <Property
          Name="displayOperators"
          Value="InAdvancedMode"/>
        <Property
          Name="autoExecute"
          Value="false"/>
        <Property
          Name="allowConjunctionOverride"
          Value="true"/>
        <Property
          Name="showInList"
          Value="true"/>
        <Property
          Name="mode"
          Value="Basic"/>
      </CustomProperties>
    </Properties>
    <ViewCriteriaRow
      Name="DocumentosTrazabilidadOperacionVOCriteria_row_0"
      UpperColumns="1">
      <ViewCriteriaItem
        Name="IdTipoDocumento"
        ViewAttribute="IdTipoDocumento"
        Operator="="
        Conjunction="AND"
        Value=":varIdTipoDocumento"
        IsBindVarValue="true"
        Required="Optional"/>
      <ViewCriteriaItem
        Name="DocumentosTrazabilidadOperacionVOCriteria_DocumentosTrazabilidadOperacionVOCriteria_row_0_Documento"
        ViewAttribute="Documento"
        Operator="CONTAINS"
        Conjunction="AND"
        Value=":varDocumento"
        IsBindVarValue="true"
        Required="Optional"/>
      <ViewCriteriaItem
        Name="IdProcesoBpm"
        ViewAttribute="IdProcesoBpm"
        Operator="="
        Conjunction="AND"
        Value=":varIdProcesoBpm"
        IsBindVarValue="true"
        Required="Optional"/>
    </ViewCriteriaRow>
  </ViewCriteria>
  <ViewCriteria
    Name="DocumentosTrazabilidadOperacionVOCriteria2"
    ViewObjectName="org.bcie.fenix.common.model.vo.DocumentosTrazabilidadOperacionAdquisicionesVO"
    Conjunction="AND">
    <Properties>
      <CustomProperties>
        <Property
          Name="displayOperators"
          Value="InAdvancedMode"/>
        <Property
          Name="autoExecute"
          Value="false"/>
        <Property
          Name="allowConjunctionOverride"
          Value="true"/>
        <Property
          Name="showInList"
          Value="true"/>
        <Property
          Name="mode"
          Value="Basic"/>
      </CustomProperties>
    </Properties>
    <ViewCriteriaRow
      Name="DocumentosTrazabilidadOperacionAdquisicionesVOCriteria_row_0"
      UpperColumns="1">
      <ViewCriteriaItem
        Name="IdTipoDocumento"
        ViewAttribute="IdTipoDocumento"
        Operator="="
        Conjunction="AND"
        Value=":varIdTipoDocumento"
        IsBindVarValue="true"
        Required="Optional"/>
      <ViewCriteriaItem
        Name="DocumentosTrazabilidadOperacionAdquisicionesVOCriteria_DocumentosTrazabilidadOperacionAdquisicionesVOCriteria_row_0_Documento"
        ViewAttribute="Documento"
        Operator="STARTSWITH"
        Conjunction="AND"
        Value=":varDocumento"
        IsBindVarValue="true"
        Required="Optional"/>
      <ViewCriteriaItem
        Name="FechaIni"
        ViewAttribute="FechaIni"
        Operator="BETWEEN"
        Conjunction="AND"
        Required="Optional">
        <ViewCriteriaItemValue
          Name="DocumentosTrazabilidadOperacionVOCriteria2_DocumentosTrazabilidadOperacionAdquisicionesVOCriteria_row_0_FechaIni_vcval0"
          Value=":varFechaIni"
          IsBindVarValue="true"/>
        <ViewCriteriaItemValue
          Name="DocumentosTrazabilidadOperacionVOCriteria2_DocumentosTrazabilidadOperacionAdquisicionesVOCriteria_row_0_FechaIni_vcval1"
          Value=":varFechaFin"
          IsBindVarValue="true"/>
      </ViewCriteriaItem>
      <ViewCriteriaItem
        Name="IdTareaBpm"
        ViewAttribute="IdTareaBpm"
        Operator="ISBLANK"
        Conjunction="AND"
        Required="Optional"/>
    </ViewCriteriaRow>
  </ViewCriteria>
  <AttrArray Name="KeyAttributes">
    <Item Value="IdDocumento"/>
  </AttrArray>
  <ClientInterface
    Name="__clientInterface">
    <Method
      Name="agregarEvidencias"
      MethodName="agregarEvidencias">
      <Return
        Name="_return_type_"
        Type="void"/>
      <Parameter
        Name="idSolicitud"
        Type="java.lang.Long"/>
      <Parameter
        Name="instancia"
        Type="java.lang.String"/>
    </Method>
    <Method
      Name="agregarEvidenciasAdquisicion"
      MethodName="agregarEvidenciasAdquisicion">
      <Return
        Name="_return_type_"
        Type="void"/>
      <Parameter
        Name="idAdquisicion"
        Type="java.lang.Long"/>
    </Method>
    <Method
      Name="limpiarFilas"
      MethodName="limpiarFilas">
      <Return
        Name="_return_type_"
        Type="void"/>
    </Method>
    <Method
      Name="buscarDocumentosTrazabilidadOperacion"
      MethodName="buscarDocumentosTrazabilidadOperacion">
      <Return
        Name="_return_type_"
        Type="void"/>
      <Parameter
        Name="Documento"
        Type="java.lang.String"/>
      <Parameter
        Name="idTipoDocumento"
        Type="java.lang.Integer"/>
      <Parameter
        Name="idProcesoBpm"
        Type="java.lang.Integer"/>
      <Parameter
        Name="fechaIni"
        Type="java.sql.Timestamp"/>
      <Parameter
        Name="fechaFin"
        Type="java.sql.Timestamp"/>
      <Parameter
        Name="idTarea"
        Type="java.lang.Integer"/>
    </Method>
    <Method
      Name="ejecutarVO"
      MethodName="ejecutarVO">
      <Return
        Name="_return_type_"
        Type="void"/>
      <Parameter
        Name="idOp"
        Type="java.lang.Long"/>
    </Method>
  </ClientInterface>
</ViewObject>
