package org.bcie.fenix.common.model.vo;

import java.util.ArrayList;
import java.util.List;

import oracle.jbo.RowSetIterator;
import oracle.jbo.server.ViewObjectImpl;

import org.bcie.fenix.common.model.vo.common.ValidarOperacionTareaTipoDocumentoVO;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Wed Sep 18 10:57:50 CST 2019
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class ValidarOperacionTareaTipoDocumentoVOImpl extends ViewObjectImpl implements ValidarOperacionTareaTipoDocumentoVO {
    /**
     * This is the default constructor (do not remove).
     */
    public ValidarOperacionTareaTipoDocumentoVOImpl() {
    }

    /**
     * Returns the bind variable value for idOperacion.
     * @return bind variable value for idOperacion
     */
    public Integer getidOperacion() {
        return (Integer) getNamedWhereClauseParam("idOperacion");
    }

    /**
     * Sets <code>value</code> for bind variable idOperacion.
     * @param value value to bind as idOperacion
     */
    public void setidOperacion(Integer value) {
        setNamedWhereClauseParam("idOperacion", value);
    }

    /**
     * Returns the bind variable value for idTarea.
     * @return bind variable value for idTarea
     */
    public Integer getidTarea() {
        return (Integer) getNamedWhereClauseParam("idTarea");
    }

    /**
     * Sets <code>value</code> for bind variable idTarea.
     * @param value value to bind as idTarea
     */
    public void setidTarea(Integer value) {
        setNamedWhereClauseParam("idTarea", value);
    }
    
    public List<String> validarDocumentosTarea(Integer idTarea, Integer idOperacion, String descripcionCorta)
    {
        //Variables
        List<String> mensajes = new ArrayList<String>();
        
        //Se asignan los valores a los parametros
        this.setidTarea(idTarea);
        this.setidOperacion(idOperacion);
        this.setdescripcionCorta(descripcionCorta);
        
        this.executeQuery();
        
        if(this.getEstimatedRowCount() > 0)
        {
            RowSetIterator rs = this.createRowSetIterator(null);
            rs.reset();

            while (rs.hasNext()) {
                ValidarOperacionTareaTipoDocumentoVORowImpl r = (ValidarOperacionTareaTipoDocumentoVORowImpl) rs.next();
                mensajes.add(r.getMensaje());
            }

            rs.closeRowSetIterator();
        }
        
        return mensajes;
    }
    
    /**
     * Consulta los documentos configurados que no se han cargado.
     * 
     * @param idTarea Id de la tarea a validar.
     * @param idOperacion Operacion a validar.
     * @param descripcionCorta Descripcion corta de la accion a validar.
     * @param instanciaProceso Instancia del proceso a validar.
     * @return Listado de mensajes indicando los documentos requeridos. Si no se han encontrado documentos requeridos, la
     * lista se retorna vacía.
     */
    public List<String> validarDocumentosTarea(Integer idTarea, Integer idOperacion, String descripcionCorta, String instanciaProceso)
    {
        //Variables
        List<String> mensajes = new ArrayList<String>();
        
        //Se asignan los valores a los parametros
        this.setidTarea(idTarea);
        this.setidOperacion(idOperacion);
        this.setdescripcionCorta(descripcionCorta);
        this.setinstanciaProceso(instanciaProceso);
        
        this.executeQuery();
        
        if(this.getEstimatedRowCount() > 0)
        {
            RowSetIterator rs = null;
            //encerramos en un try/finally para cerrar correctamente el iterador
            try {
                
                rs = this.createRowSetIterator(null);
                rs.reset();

                while (rs.hasNext()) {
                    ValidarOperacionTareaTipoDocumentoVORowImpl r =
                        (ValidarOperacionTareaTipoDocumentoVORowImpl) rs.next();
                    mensajes.add(r.getMensaje());
                }
                
            } finally {
                if(rs != null){
                    rs.closeRowSetIterator();
                }
            }
        }
        
        return mensajes;
    }

    /**
     * Returns the bind variable value for descripcionCorta.
     * @return bind variable value for descripcionCorta
     */
    public String getdescripcionCorta() {
        return (String) getNamedWhereClauseParam("descripcionCorta");
    }

    /**
     * Sets <code>value</code> for bind variable descripcionCorta.
     * @param value value to bind as descripcionCorta
     */
    public void setdescripcionCorta(String value) {
        setNamedWhereClauseParam("descripcionCorta", value);
    }

    /**
     * Returns the bind variable value for instanciaProceso.
     * @return bind variable value for instanciaProceso
     */
    public String getinstanciaProceso() {
        return (String) getNamedWhereClauseParam("instanciaProceso");
    }

    /**
     * Sets <code>value</code> for bind variable instanciaProceso.
     * @param value value to bind as instanciaProceso
     */
    public void setinstanciaProceso(String value) {
        setNamedWhereClauseParam("instanciaProceso", value);
    }
}

