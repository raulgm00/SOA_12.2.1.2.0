package org.bcie.fenix.common.model.vo;

import oracle.adf.share.logging.ADFLogger;

import oracle.jbo.server.ViewObjectImpl;

import org.bcie.fenix.common.model.vo.common.DeclaracionVO;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Tue Apr 12 17:32:42 CDT 2016
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class DeclaracionVOImpl extends ViewObjectImpl implements DeclaracionVO {
    
    private static ADFLogger logger = null;
    
    /**
     * This is the default constructor (do not remove).
     */
    public DeclaracionVOImpl() {
        
        if (logger == null) {
            logger = ADFLogger.createADFLogger(this.getClass());
        }
    }

    /**
     * Returns the bind variable value for instanciaProceso.
     * @return bind variable value for instanciaProceso
     */
    public String getinstanciaProceso() {
        return (String) getNamedWhereClauseParam("instanciaProceso");
    }

    /**
     * Sets <code>value</code> for bind variable instanciaProceso.
     * @param value value to bind as instanciaProceso
     */
    public void setinstanciaProceso(String value) {
        setNamedWhereClauseParam("instanciaProceso", value);
    }

    /**
     * Returns the bind variable value for tipoOrigen.
     * @return bind variable value for tipoOrigen
     */
    public String gettipoOrigen() {
        return (String) getNamedWhereClauseParam("tipoOrigen");
    }

    /**
     * Sets <code>value</code> for bind variable tipoOrigen.
     * @param value value to bind as tipoOrigen
     */
    public void settipoOrigen(String value) {
        setNamedWhereClauseParam("tipoOrigen", value);
    }

    /**
     * Returns the bind variable value for idOperacion.
     * @return bind variable value for idOperacion
     */
    public Long getidOperacion() {
        return (Long) getNamedWhereClauseParam("idOperacion");
    }

    /**
     * Sets <code>value</code> for bind variable idOperacion.
     * @param value value to bind as idOperacion
     */
    public void setidOperacion(Long value) {
        setNamedWhereClauseParam("idOperacion", value);
    }
    
    public Boolean existeDeclaracionJurada(Long idOperacion, String tipoOrigen, String instanciaProceso) {
        logger.log(ADFLogger.WARNING, "Inside existeDeclaracionJurada. idOperacion: " + idOperacion + 
                                      ". tipoOrigen: " + tipoOrigen + ". instanciaProceso: " + instanciaProceso);
        Boolean existeDJ = Boolean.FALSE;
        
        // Filtramos query para saber si ya existe una DJ con ese IdOperacion e InstanciaProceso
        this.setidOperacion(idOperacion);
        this.settipoOrigen(tipoOrigen);
        this.setinstanciaProceso(instanciaProceso);
        this.executeQuery();
        
        if(this.getEstimatedRowCount() > 0)
            existeDJ = Boolean.TRUE;
        
        return existeDJ;
    }
}

