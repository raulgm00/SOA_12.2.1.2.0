<?xml version="1.0" encoding="UTF-8"?>
<con:pipelineEntry xmlns:con="http://www.bea.com/wli/sb/pipeline/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con4="http://www.bea.com/wli/sb/stages/publish/config" xmlns:con5="http://www.bea.com/wli/sb/typesystem/config" xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
    <con:coreEntry>
        <con:binding type="SOAP" isSoap12="false" xsi:type="con:SoapBindingType">
            <con:wsdl ref="MDS/Resources/BPM/Wsdl/ProcesosPrincipales"/>
            <con:binding>
                <con:name>ProcesosPrincipalesBinding</con:name>
                <con:namespace>http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales</con:namespace>
            </con:binding>
        </con:binding>
        <con:xqConfiguration>
            <con:snippetVersion>1.0</con:snippetVersion>
        </con:xqConfiguration>
    </con:coreEntry>
    <con:router errorHandler="error-7f000001.N76556e94.0.1504d529aba.N7ff9">
        <con:pipeline type="request" name="request-7f000001.346c916e.0.1503e0dc2ec.N7fe0">
            <con:stage id="_StageId-7f000001.346c916e.0.1503e0dc2ec.N7fde" name="ValidaInicioElegibilidad">
                <con:context>
                    <con2:userNsDecl prefix="val" namespace="http://www.bcie.org/ValidarOperacionProcesoMO"/>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="eleg" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ElegibilidadProcess"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con5:variable name="inValidarOperacionProceso" path="$inValidarOperacionProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarOperacionProceso/V1/Schema/ValidarOperacionProcesoMO" element="requestValidarOperacionProceso"/>
                    </con5:variable>
                    <con5:variable name="outValidarOperacionProceso" path="$outValidarOperacionProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarOperacionProceso/V1/Schema/ValidarOperacionProcesoMO" element="responseValidarOperacionProceso"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:wsCallout>
                        <con2:id>_ActionId-7f000001.N17b82747.0.1506c62b12a.N7ee5</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/ValidarOperacionEnProceso/PS/ValidarOperacionProceso_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>ValidarOperacionProceso</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inValidarOperacionProceso</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outValidarOperacionProceso</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con3:assign varName="inValidarOperacionProceso">
                                <con2:id>_ActionId-7f000001.N17b82747.0.1506c62b12a.N7ee2</con2:id>
                                <con3:expr>
                                    <con2:xqueryTransform>
                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/Elegibilidad/XQUERY/InicioElegibilidad_PS_TO_ValidarProcesoEjecucion"/>
                                        <con2:param name="InicioElegibilidad">
                                            <con2:path>$body/eleg:InicioElegibilidad</con2:path>
                                        </con2:param>
                                    </con2:xqueryTransform>
                                </con3:expr>
                            </con3:assign>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con3:ifThenElse>
                                <con2:id>_ActionId-7f000001.N17b82747.0.1506c62b12a.N7edb</con2:id>
                                <con3:case id="_BranchId-7f000001.N17b82747.0.1506c62b12a.N7eda">
                                    <con3:condition>
                                        <con2:xqueryText>$outValidarOperacionProceso/val:EnProceso=true()</con2:xqueryText>
                                    </con3:condition>
                                    <con3:actions>
                                        <con3:replace varName="body" contents-only="true">
                                            <con2:id>_ActionId-7f000001.N17b82747.0.1506c62b12a.N7ed7</con2:id>
                                            <con3:location>
                                                <con2:xpathText>.</con2:xpathText>
                                            </con3:location>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                    <con2:param name="result">
                                                        <con2:path>'ERROR'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="mensaje">
                                                        <con2:path>'Ya existe un proceso de elegibilidad en ejecuci√≥n'</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:replace>
                                        <con3:assign varName="varEnviarCorreoElectronicoRq">
                                            <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7ff0</con2:id>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Error_To_EnviarCorreoElectronico"/>
                                                    <con2:param name="Accion">
                                                        <con2:path>"el INICIO del proceso de Elegibilidad"</con2:path>
                                                    </con2:param>
                                                    <con2:param name="MensajeDeError">
                                                        <con2:path>$body/proc:ResultadoProceso/proc:resultado/res:message</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:assign>
                                        <con3:wsCallout>
                                            <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fed</con2:id>
                                            <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                            <con3:operation>enviarCorreoElectronico</con3:operation>
                                            <con3:request>
                                                <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                                            </con3:request>
                                            <con3:response>
                                                <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                                            </con3:response>
                                            <con3:requestTransform>
                                                <con6:log>
                                                    <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fea</con2:id>
                                                    <con6:logLevel>info</con6:logLevel>
                                                    <con6:expr>
                                                        <con2:xqueryText>$body/*</con2:xqueryText>
                                                    </con6:expr>
                                                    <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                                                </con6:log>
                                            </con3:requestTransform>
                                            <con3:responseTransform>
                                                <con6:log>
                                                    <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fe7</con2:id>
                                                    <con6:logLevel>info</con6:logLevel>
                                                    <con6:expr>
                                                        <con2:xqueryText>$body/*</con2:xqueryText>
                                                    </con6:expr>
                                                    <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                                                </con6:log>
                                            </con3:responseTransform>
                                        </con3:wsCallout>
                                        <con2:reply>
                                            <con2:id>_ActionId-7f000001.N17b82747.0.1506c62b12a.N7ea4</con2:id>
                                        </con2:reply>
                                    </con3:actions>
                                </con3:case>
                                <con3:default/>
                            </con3:ifThenElse>
                        </con3:responseTransform>
                    </con3:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-7f000001.346c916e.0.1503e0dc2ec.N7fdf">
            <con:stage id="_StageId-7f000001.346c916e.0.1503e0dc2ec.N7fdd" name="ResponseInicioElegibilidad">
                <con:context/>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-7f000001.N14af980c.0.1501ecd82be.N7ff3</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                <con2:param name="result">
                                    <con2:path>'OK'</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Se inici√≥ el proceso de elegibilidad correctamente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-7f000001.N76556e94.0.1504d529aba.N7ff9">
            <con:stage id="_StageId-7f000001.N76556e94.0.1504d529aba.N7ff8" name="StageError">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-7f000001.N76556e94.0.1504d529aba.N7fc5</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error iniciando el proceso'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-7f000001.N76556e94.0.1504d529aba.N7f89">
            <con:stage id="_StageId-7f000001.N76556e94.0.1504d529aba.N7f88" name="ErrorInicioElegibilidad">
                <con:context>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-7f000001.3ea9e3e2.0.1504ed8ab90.N7fc9</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-7f000001.3ea9e3e2.0.1504ed8ab90.N7fc6</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-7f000001.N76556e94.0.1504d529aba.N7f85</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el proceso de elegibilidad'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con3:assign varName="varEnviarCorreoElectronicoRq">
                        <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fe4</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Excepcion_To_EnviarCorreoElectronico"/>
                                <con2:param name="Accion">
                                    <con2:path>'el INICIO del proceso de Elegibilidad'</con2:path>
                                </con2:param>
                                <con2:param name="MensajeDeError">
                                    <con2:path>concat($body/proc:ResultadoProceso/proc:resultado/res:message,' ',$body/proc:ResultadoProceso/proc:resultado/res:error/err:errorDescription)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fe1</con2:id>
                        <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>enviarCorreoElectronico</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fd8</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                            </con6:log>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fdb</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                            </con6:log>
                        </con3:responseTransform>
                    </con3:wsCallout>
                    <con2:reply>
                        <con2:id>_ActionId-7f000001.N76556e94.0.1504d529aba.N7f82</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-a050a9a.49b156f.0.1505cbc2fa2.N7ee4">
            <con:stage id="_StageId-a050a9a.49b156f.0.1505cbc2fa2.N7ee3" name="ErrorInicioAnalisis">
                <con:context>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-a050a9a.49b156f.0.1505cbc2fa2.N7ee2</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050a9a.49b156f.0.1505cbc2fa2.N7ee1</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050a9a.49b156f.0.1505cbc2fa2.N7ee0</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el servicio de an√°lisis'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con3:assign varName="varEnviarCorreoElectronicoRq">
                        <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fb1</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Excepcion_To_EnviarCorreoElectronico"/>
                                <con2:param name="Accion">
                                    <con2:path>'el INICIO del proceso de Analisis'</con2:path>
                                </con2:param>
                                <con2:param name="MensajeDeError">
                                    <con2:path>concat($body/proc:ResultadoProceso/proc:resultado/res:message,' ',$body/proc:ResultadoProceso/proc:resultado/res:error/err:errorDescription)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fae</con2:id>
                        <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>enviarCorreoElectronico</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fab</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                            </con6:log>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fa8</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                            </con6:log>
                        </con3:responseTransform>
                    </con3:wsCallout>
                    <con2:reply>
                        <con2:id>_ActionId-a050a9a.49b156f.0.1505cbc2fa2.N7edf</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-a050a9a.49b156f.0.1505cbc2fa2.N7e99">
            <con:stage id="_StageId-a050a9a.49b156f.0.1505cbc2fa2.N7e98" name="ErrorFinAnalisis">
                <con:context>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-a050a9a.49b156f.0.1505cbc2fa2.N7e97</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050a9a.49b156f.0.1505cbc2fa2.N7e96</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050a9a.49b156f.0.1505cbc2fa2.N7e95</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el servicio de An√°lisis'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-a050a9a.49b156f.0.1505cbc2fa2.N7e94</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-7f000001.5ae7e6cc.0.15061d9857e.N7ff2">
            <con:stage id="_StageId-7f000001.5ae7e6cc.0.15061d9857e.N7ff1" name="ErrorFinElegibilidad">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="requestMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-7f000001.5ae7e6cc.0.15061d9857e.N7fee</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-7f000001.5ae7e6cc.0.15061d9857e.N7feb</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-7f000001.5ae7e6cc.0.15061d9857e.N7fe8</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al finalizar el proceso de elegibilidad'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-7f000001.5ae7e6cc.0.15061d9857e.N7fe5</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f579bc1.3d460c99.0.150630e6449.N7f8a">
            <con:stage id="_StageId-N3f579bc1.3d460c99.0.150630e6449.N7f89" name="ErrorInicioInicioEvaluacion">
                <con:context>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N3f579bc1.3d460c99.0.150630e6449.N7f88</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f579bc1.3d460c99.0.150630e6449.N7f87</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f579bc1.3d460c99.0.150630e6449.N7f86</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el proceso de Evaluacion'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-N3f579bc1.3d460c99.0.150630e6449.N7f85</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f579bc1.3d460c99.0.150630e6449.N7f0f">
            <con:stage id="_StageId-N3f579bc1.3d460c99.0.150630e6449.N7f0e" name="ErrorFinEvaluacion">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="requestMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N3f579bc1.3d460c99.0.150630e6449.N7f0d</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f579bc1.3d460c99.0.150630e6449.N7f0c</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f579bc1.3d460c99.0.150630e6449.N7f0b</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al finalizar el proceso de Evaluacion'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-N3f579bc1.3d460c99.0.150630e6449.N7f0a</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57c7ff.63d38ffa.0.15061e966bb.N7c1c">
            <con:stage id="_StageId-N3f57c7ff.63d38ffa.0.15061e966bb.N7be2" name="ErrorInicioPreparacion">
                <con:context>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N3f57c7ff.63d38ffa.0.15061e966bb.N7be1</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.63d38ffa.0.15061e966bb.N7be0</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f57c7ff.63d38ffa.0.15061e966bb.N7bdf</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el proceso de Preparaci√≥n'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con3:assign varName="varEnviarCorreoElectronicoRq">
                        <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fc9</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Excepcion_To_EnviarCorreoElectronico"/>
                                <con2:param name="Accion">
                                    <con2:path>'el INICIO del proceso de Preparaci√≥n'</con2:path>
                                </con2:param>
                                <con2:param name="MensajeDeError">
                                    <con2:path>concat($body/proc:ResultadoProceso/proc:resultado/res:message,' ',$body/proc:ResultadoProceso/proc:resultado/res:error/err:errorDescription)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fc6</con2:id>
                        <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>enviarCorreoElectronico</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fbd</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                            </con6:log>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fba</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                            </con6:log>
                        </con3:responseTransform>
                    </con3:wsCallout>
                    <con2:reply>
                        <con2:id>_ActionId-N3f57c7ff.63d38ffa.0.15061e966bb.N7bde</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57c7ff.63d38ffa.0.15061e966bb.N7b49">
            <con:stage id="_StageId-N3f57c7ff.63d38ffa.0.15061e966bb.N7b0f" name="ErrorFinPreparacion">
                <con:context>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N3f57c7ff.63d38ffa.0.15061e966bb.N7b0e</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.63d38ffa.0.15061e966bb.N7b0d</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f57c7ff.63d38ffa.0.15061e966bb.N7b0c</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al finalizar el proceso de preparaci√≥n'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-N3f57c7ff.63d38ffa.0.15061e966bb.N7b0b</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-a050aa3.2b48c5c7.0.1506c55f9be.N7be0">
            <con:stage id="_StageId-a050aa3.2b48c5c7.0.1506c55f9be.N7bdf" name="ValidaInicioAnalisis">
                <con:context>
                    <con2:userNsDecl prefix="val" namespace="http://www.bcie.org/ValidarOperacionProcesoMO"/>
                    <con2:userNsDecl prefix="prep" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/PreparacionProcess"/>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="eleg" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ElegibilidadProcess"/>
                    <con2:userNsDecl prefix="anal" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/AnalisisProcess"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con5:variable name="inValidarOperacionProceso" path="$inValidarOperacionProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarOperacionProceso/V1/Schema/ValidarOperacionProcesoMO" element="requestValidarOperacionProceso"/>
                    </con5:variable>
                    <con5:variable name="outValidarOperacionProceso" path="$outValidarOperacionProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarOperacionProceso/V1/Schema/ValidarOperacionProcesoMO" element="responseValidarOperacionProceso"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050aa3.2b48c5c7.0.1506c55f9be.N7bde</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/ValidarOperacionEnProceso/PS/ValidarOperacionProceso_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>ValidarOperacionProceso</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inValidarOperacionProceso</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outValidarOperacionProceso</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con3:assign varName="inValidarOperacionProceso">
                                <con2:id>_ActionId-a050aa3.2b48c5c7.0.1506c55f9be.N7bdd</con2:id>
                                <con3:expr>
                                    <con2:xqueryTransform>
                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/Analisis/XQUERY/InicioAnalisis_PS_TO_ValidarOperacionProceso_PS_Request"/>
                                        <con2:param name="AnalisisRequest">
                                            <con2:path>$body/anal:InicioAnalisis</con2:path>
                                        </con2:param>
                                    </con2:xqueryTransform>
                                </con3:expr>
                            </con3:assign>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con3:ifThenElse>
                                <con2:id>_ActionId-a050aa3.2b48c5c7.0.1506c55f9be.N7bdc</con2:id>
                                <con3:case id="_BranchId-a050aa3.2b48c5c7.0.1506c55f9be.N7bdb">
                                    <con3:condition>
                                        <con2:xqueryText>$outValidarOperacionProceso/val:EnProceso=true()</con2:xqueryText>
                                    </con3:condition>
                                    <con3:actions>
                                        <con3:replace varName="body" contents-only="true">
                                            <con2:id>_ActionId-a050aa3.2b48c5c7.0.1506c55f9be.N7bda</con2:id>
                                            <con3:location>
                                                <con2:xpathText>.</con2:xpathText>
                                            </con3:location>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                    <con2:param name="result">
                                                        <con2:path>'ERROR'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="mensaje">
                                                        <con2:path>'Ya existe un proceso de Analisis en ejecuci√≥n'</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:replace>
                                        <con3:assign varName="varEnviarCorreoElectronicoRq">
                                            <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fc3</con2:id>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Error_To_EnviarCorreoElectronico"/>
                                                    <con2:param name="Accion">
                                                        <con2:path>'el INICIO del proceso de An√°lisis'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="MensajeDeError">
                                                        <con2:path>$body/proc:ResultadoProceso/proc:resultado/res:message</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:assign>
                                        <con3:wsCallout>
                                            <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fc0</con2:id>
                                            <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                            <con3:operation>enviarCorreoElectronico</con3:operation>
                                            <con3:request>
                                                <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                                            </con3:request>
                                            <con3:response>
                                                <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                                            </con3:response>
                                            <con3:requestTransform>
                                                <con6:log>
                                                    <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fb7</con2:id>
                                                    <con6:logLevel>info</con6:logLevel>
                                                    <con6:expr>
                                                        <con2:xqueryText>$body/*</con2:xqueryText>
                                                    </con6:expr>
                                                    <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                                                </con6:log>
                                            </con3:requestTransform>
                                            <con3:responseTransform>
                                                <con6:log>
                                                    <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fb4</con2:id>
                                                    <con6:logLevel>info</con6:logLevel>
                                                    <con6:expr>
                                                        <con2:xqueryText>$body/*</con2:xqueryText>
                                                    </con6:expr>
                                                    <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                                                </con6:log>
                                            </con3:responseTransform>
                                        </con3:wsCallout>
                                        <con2:reply>
                                            <con2:id>_ActionId-a050aa3.2b48c5c7.0.1506c55f9be.N7bd9</con2:id>
                                        </con2:reply>
                                    </con3:actions>
                                </con3:case>
                                <con3:default/>
                            </con3:ifThenElse>
                        </con3:responseTransform>
                    </con3:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-a050aa3.2b48c5c7.0.1506c55f9be.N7bd8">
            <con:stage id="_StageId-a050aa3.2b48c5c7.0.1506c55f9be.N7bd7" name="ResponseInicioAnalisis">
                <con:context/>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050aa3.2b48c5c7.0.1506c55f9be.N7bd6</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                <con2:param name="result">
                                    <con2:path>'OK'</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Se inici√≥ el proceso de an√°lisis correctamente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-a050aa3.2b48c5c7.0.1506c55f9be.N7b4d">
            <con:stage id="_StageId-a050aa3.2b48c5c7.0.1506c55f9be.N7b4c" name="ValidaInicioEvaluacion">
                <con:context>
                    <con2:userNsDecl prefix="prep" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/PreparacionProcess"/>
                    <con2:userNsDecl prefix="val" namespace="http://www.bcie.org/ValidarOperacionProcesoMO"/>
                    <con2:userNsDecl prefix="eleg" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ElegibilidadProcess"/>
                    <con2:userNsDecl prefix="eval" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/EvaluacionProcess"/>
                    <con5:variable name="inValidarOperacionProceso" path="$inValidarOperacionProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarOperacionProceso/V1/Schema/ValidarOperacionProcesoMO" element="requestValidarOperacionProceso"/>
                    </con5:variable>
                    <con5:variable name="outValidarOperacionProceso" path="$outValidarOperacionProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarOperacionProceso/V1/Schema/ValidarOperacionProcesoMO" element="responseValidarOperacionProceso"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050aa3.2b48c5c7.0.1506c55f9be.N7b4b</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/ValidarOperacionEnProceso/PS/ValidarOperacionProceso_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>ValidarOperacionProceso</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inValidarOperacionProceso</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outValidarOperacionProceso</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con3:assign varName="inValidarOperacionProceso">
                                <con2:id>_ActionId-a050aa3.2b48c5c7.0.1506c55f9be.N7b4a</con2:id>
                                <con3:expr>
                                    <con2:xqueryTransform>
                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/Evaluacion/XQUERY/InicioEvaluacion_TO_ValidarOperacionProceso_Request"/>
                                        <con2:param name="EvaluacionRequest">
                                            <con2:path>$body/eval:InicioEvaluacion</con2:path>
                                        </con2:param>
                                    </con2:xqueryTransform>
                                </con3:expr>
                            </con3:assign>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con3:ifThenElse>
                                <con2:id>_ActionId-a050aa3.2b48c5c7.0.1506c55f9be.N7b49</con2:id>
                                <con3:case id="_BranchId-a050aa3.2b48c5c7.0.1506c55f9be.N7b48">
                                    <con3:condition>
                                        <con2:xqueryText>$outValidarOperacionProceso/val:EnProceso=true()</con2:xqueryText>
                                    </con3:condition>
                                    <con3:actions>
                                        <con3:replace varName="body" contents-only="true">
                                            <con2:id>_ActionId-a050aa3.2b48c5c7.0.1506c55f9be.N7b47</con2:id>
                                            <con3:location>
                                                <con2:xpathText>.</con2:xpathText>
                                            </con3:location>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                    <con2:param name="result">
                                                        <con2:path>'ERROR'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="mensaje">
                                                        <con2:path>'Ya existe un proceso de Evaluaci√≥n en ejecuci√≥n'</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:replace>
                                        <con2:reply>
                                            <con2:id>_ActionId-a050aa3.2b48c5c7.0.1506c55f9be.N7b46</con2:id>
                                        </con2:reply>
                                    </con3:actions>
                                </con3:case>
                                <con3:default/>
                            </con3:ifThenElse>
                        </con3:responseTransform>
                    </con3:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-a050aa3.2b48c5c7.0.1506c55f9be.N7b45">
            <con:stage id="_StageId-a050aa3.2b48c5c7.0.1506c55f9be.N7b44" name="ResponseInicioEvaluacion">
                <con:context/>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050aa3.2b48c5c7.0.1506c55f9be.N7b43</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                <con2:param name="result">
                                    <con2:path>'OK'</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Se inici√≥ el proceso de evaluaci√≥n correctamente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-N3f57c7ff.6266f98e.0.1506d34393f.N7d8c">
            <con:stage id="_StageId-N3f57c7ff.6266f98e.0.1506d34393f.N7d8b" name="ValidaInicioPreparacion">
                <con:context>
                    <con2:userNsDecl prefix="prep" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/PreparacionProcess"/>
                    <con2:userNsDecl prefix="val" namespace="http://www.bcie.org/ValidarOperacionProcesoMO"/>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="eleg" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ElegibilidadProcess"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con5:variable name="inValidarOperacionProceso" path="$inValidarOperacionProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarOperacionProceso/V1/Schema/ValidarOperacionProcesoMO" element="requestValidarOperacionProceso"/>
                    </con5:variable>
                    <con5:variable name="outValidarOperacionProceso" path="$outValidarOperacionProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarOperacionProceso/V1/Schema/ValidarOperacionProcesoMO" element="responseValidarOperacionProceso"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.6266f98e.0.1506d34393f.N7d8a</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/ValidarOperacionEnProceso/PS/ValidarOperacionProceso_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>ValidarOperacionProceso</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inValidarOperacionProceso</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outValidarOperacionProceso</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con3:assign varName="inValidarOperacionProceso">
                                <con2:id>_ActionId-N3f57c7ff.6266f98e.0.1506d34393f.N7d89</con2:id>
                                <con3:expr>
                                    <con2:xqueryTransform>
                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/Preparacion/XQUERY/InicioPreparacion_PS_TO_ValidarOperacionProceso_PS_Request"/>
                                        <con2:param name="PreparacionRequest">
                                            <con2:path>$body/prep:InicioPreparacion</con2:path>
                                        </con2:param>
                                    </con2:xqueryTransform>
                                </con3:expr>
                            </con3:assign>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con3:ifThenElse>
                                <con2:id>_ActionId-N3f57c7ff.6266f98e.0.1506d34393f.N7d88</con2:id>
                                <con3:case id="_BranchId-N3f57c7ff.6266f98e.0.1506d34393f.N7d87">
                                    <con3:condition>
                                        <con2:xqueryText>$outValidarOperacionProceso/val:EnProceso=true()</con2:xqueryText>
                                    </con3:condition>
                                    <con3:actions>
                                        <con3:replace varName="body" contents-only="true">
                                            <con2:id>_ActionId-N3f57c7ff.6266f98e.0.1506d34393f.N7d86</con2:id>
                                            <con3:location>
                                                <con2:xpathText>.</con2:xpathText>
                                            </con3:location>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                    <con2:param name="result">
                                                        <con2:path>'ERROR'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="mensaje">
                                                        <con2:path>'Ya existe un proceso de Preparaci√≥n en ejecuci√≥n'</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:replace>
                                        <con3:assign varName="varEnviarCorreoElectronicoRq">
                                            <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fd5</con2:id>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Error_To_EnviarCorreoElectronico"/>
                                                    <con2:param name="Accion">
                                                        <con2:path>'el INICIO del proceso de Preparaci√≥n'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="MensajeDeError">
                                                        <con2:path>$body/proc:ResultadoProceso/proc:resultado/res:message</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:assign>
                                        <con3:wsCallout>
                                            <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fd2</con2:id>
                                            <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                            <con3:operation>enviarCorreoElectronico</con3:operation>
                                            <con3:request>
                                                <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                                            </con3:request>
                                            <con3:response>
                                                <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                                            </con3:response>
                                            <con3:requestTransform>
                                                <con6:log>
                                                    <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fcf</con2:id>
                                                    <con6:logLevel>info</con6:logLevel>
                                                    <con6:expr>
                                                        <con2:xqueryText>$body/*</con2:xqueryText>
                                                    </con6:expr>
                                                    <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                                                </con6:log>
                                            </con3:requestTransform>
                                            <con3:responseTransform>
                                                <con6:log>
                                                    <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fcc</con2:id>
                                                    <con6:logLevel>info</con6:logLevel>
                                                    <con6:expr>
                                                        <con2:xqueryText>$body/*</con2:xqueryText>
                                                    </con6:expr>
                                                    <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                                                </con6:log>
                                            </con3:responseTransform>
                                        </con3:wsCallout>
                                        <con2:reply>
                                            <con2:id>_ActionId-N3f57c7ff.6266f98e.0.1506d34393f.N7d85</con2:id>
                                        </con2:reply>
                                    </con3:actions>
                                </con3:case>
                                <con3:default/>
                            </con3:ifThenElse>
                        </con3:responseTransform>
                    </con3:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-N3f57c7ff.6266f98e.0.1506d34393f.N7d84">
            <con:stage id="_StageId-N3f57c7ff.6266f98e.0.1506d34393f.N7d83" name="ResponseInicioPreparacion">
                <con:context/>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f57c7ff.6266f98e.0.1506d34393f.N7d82</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                <con2:param name="result">
                                    <con2:path>'OK'</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Se inici√≥ el proceso de Preparaci√≥n correctamente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-a050a13.6e796e02.0.151607b3055.N7d27">
            <con:stage id="_StageId-a050a13.6e796e02.0.151607b3055.N7d26" name="ValidaInicioAprobacion">
                <con:context>
                    <con2:userNsDecl prefix="val" namespace="http://www.bcie.org/ValidarOperacionProcesoMO"/>
                    <con2:userNsDecl prefix="prep" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/PreparacionProcess"/>
                    <con2:userNsDecl prefix="cre" namespace="http://www.bcie.org/CrearBitacoraProcesoMO"/>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="apr" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/AprobacionProcess"/>
                    <con2:userNsDecl prefix="eleg" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ElegibilidadProcess"/>
                    <con2:userNsDecl prefix="eval" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/EvaluacionProcess"/>
                    <con2:userNsDecl prefix="cre1" namespace="http://www.bcie.org/CrearBitacoraProcesoBO"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con5:variable name="outConsultarBitacora" path="$outConsultarBitacora">
                        <con5:service operation="consultarBitacoraProceso">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/ConsultarBitacoraProceso/PS/ConsutarBitacoraProceso_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        </con5:service>
                    </con5:variable>
                    <con5:variable name="inValidarOperacionProceso" path="$inValidarOperacionProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarOperacionProceso/V1/Schema/ValidarOperacionProcesoMO" element="requestValidarOperacionProceso"/>
                    </con5:variable>
                    <con5:variable name="outValidarOperacionProceso" path="$outValidarOperacionProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarOperacionProceso/V1/Schema/ValidarOperacionProcesoMO" element="responseValidarOperacionProceso"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7d25</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/ConsultarBitacoraProceso/PS/ConsutarBitacoraProceso_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>consultarBitacoraProceso</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inConsultarBitacora</con3:body>
                            <con3:attachments/>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outConsultarBitacora</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con3:assign varName="inConsultarBitacora">
                                <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7d24</con2:id>
                                <con3:expr>
                                    <con2:xqueryTransform>
                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/Aprobacion/XQUERY/InicioAprobacion_PS_TO_ValidarOperacionProceso_PS_Request"/>
                                        <con2:param name="InicioAprobacion">
                                            <con2:path>$body/apr:InicioAprobacion</con2:path>
                                        </con2:param>
                                    </con2:xqueryTransform>
                                </con3:expr>
                            </con3:assign>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con3:ifThenElse>
                                <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7d23</con2:id>
                                <con3:case id="_BranchId-a050a13.6e796e02.0.151607b3055.N7d22">
                                    <con3:condition>
                                        <con2:xqueryText>$outConsultarBitacora/cre:Bitacora/cre1:id!=''</con2:xqueryText>
                                    </con3:condition>
                                    <con3:actions>
                                        <con3:replace varName="body" contents-only="true">
                                            <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7d21</con2:id>
                                            <con3:location>
                                                <con2:xpathText>.</con2:xpathText>
                                            </con3:location>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                    <con2:param name="result">
                                                        <con2:path>'ERROR'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="mensaje">
                                                        <con2:path>'Ya existe un proceso de Aprobaci√≥n en ejecuci√≥n'</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:replace>
                                        <con3:assign varName="varEnviarCorreoElectronicoRq">
                                            <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fa5</con2:id>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Error_To_EnviarCorreoElectronico"/>
                                                    <con2:param name="Accion">
                                                        <con2:path>'el INICIO del proceso de Aprobacion'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="MensajeDeError">
                                                        <con2:path>$body/proc:ResultadoProceso/proc:resultado/res:message</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:assign>
                                        <con3:wsCallout>
                                            <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7fa2</con2:id>
                                            <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                            <con3:operation>enviarCorreoElectronico</con3:operation>
                                            <con3:request>
                                                <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                                            </con3:request>
                                            <con3:response>
                                                <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                                            </con3:response>
                                            <con3:requestTransform>
                                                <con6:log>
                                                    <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f9f</con2:id>
                                                    <con6:logLevel>info</con6:logLevel>
                                                    <con6:expr>
                                                        <con2:xqueryText>$body/*</con2:xqueryText>
                                                    </con6:expr>
                                                    <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                                                </con6:log>
                                            </con3:requestTransform>
                                            <con3:responseTransform>
                                                <con6:log>
                                                    <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f9c</con2:id>
                                                    <con6:logLevel>info</con6:logLevel>
                                                    <con6:expr>
                                                        <con2:xqueryText>$body/*</con2:xqueryText>
                                                    </con6:expr>
                                                    <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                                                </con6:log>
                                            </con3:responseTransform>
                                        </con3:wsCallout>
                                        <con2:reply>
                                            <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7d20</con2:id>
                                        </con2:reply>
                                    </con3:actions>
                                </con3:case>
                                <con3:default/>
                            </con3:ifThenElse>
                        </con3:responseTransform>
                    </con3:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-a050a13.6e796e02.0.151607b3055.N7d1f">
            <con:stage id="_StageId-a050a13.6e796e02.0.151607b3055.N7d1e" name="ResponseInicioAprobacion">
                <con:context/>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7d1d</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                <con2:param name="result">
                                    <con2:path>'OK'</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Se inici√≥ el proceso de Aprobaci√≥n correctamente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-a050a13.6e796e02.0.151607b3055.N7ccb">
            <con:stage id="_StageId-a050a13.6e796e02.0.151607b3055.N7cca" name="ValidaInicioFormalizacion">
                <con:context>
                    <con2:userNsDecl prefix="prep" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/PreparacionProcess"/>
                    <con2:userNsDecl prefix="val" namespace="http://www.bcie.org/ValidarOperacionProcesoMO"/>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="for" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/FormalizacionProcess"/>
                    <con2:userNsDecl prefix="eleg" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ElegibilidadProcess"/>
                    <con2:userNsDecl prefix="eval" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/EvaluacionProcess"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con5:variable name="inValidarOperacionProceso" path="$inValidarOperacionProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarOperacionProceso/V1/Schema/ValidarOperacionProcesoMO" element="requestValidarOperacionProceso"/>
                    </con5:variable>
                    <con5:variable name="outValidarOperacionProceso" path="$outValidarOperacionProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarOperacionProceso/V1/Schema/ValidarOperacionProcesoMO" element="responseValidarOperacionProceso"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7cc9</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/ValidarOperacionEnProceso/PS/ValidarOperacionProceso_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>ValidarOperacionProceso</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inValidarOperacionProceso</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outValidarOperacionProceso</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con3:assign varName="inValidarOperacionProceso">
                                <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7cc8</con2:id>
                                <con3:expr>
                                    <con2:xqueryTransform>
                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/Formalizacion/XQUERY/InicioFormalizacion_PS_TO_ValidarOperacionProceso_PS_Request"/>
                                        <con2:param name="FormalizacionRequest">
                                            <con2:path>$body/for:InicioFormalizacion</con2:path>
                                        </con2:param>
                                    </con2:xqueryTransform>
                                </con3:expr>
                            </con3:assign>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con3:ifThenElse>
                                <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7cc7</con2:id>
                                <con3:case id="_BranchId-a050a13.6e796e02.0.151607b3055.N7cc6">
                                    <con3:condition>
                                        <con2:xqueryText>$outValidarOperacionProceso/val:EnProceso=true()</con2:xqueryText>
                                    </con3:condition>
                                    <con3:actions>
                                        <con3:replace varName="body" contents-only="true">
                                            <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7cc5</con2:id>
                                            <con3:location>
                                                <con2:xpathText>.</con2:xpathText>
                                            </con3:location>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                    <con2:param name="result">
                                                        <con2:path>'ERROR'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="mensaje">
                                                        <con2:path>'Ya existe un proceso de Formalizaci√≥n en ejecuci√≥n'</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:replace>
                                        <con3:assign varName="varEnviarCorreoElectronicoRq">
                                            <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f8d</con2:id>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Error_To_EnviarCorreoElectronico"/>
                                                    <con2:param name="Accion">
                                                        <con2:path>'el INICIO del proceso de Formalizacion'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="MensajeDeError">
                                                        <con2:path>$body/proc:ResultadoProceso/proc:resultado/res:message</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:assign>
                                        <con3:wsCallout>
                                            <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f8a</con2:id>
                                            <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                            <con3:operation>enviarCorreoElectronico</con3:operation>
                                            <con3:request>
                                                <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                                            </con3:request>
                                            <con3:response>
                                                <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                                            </con3:response>
                                            <con3:requestTransform>
                                                <con6:log>
                                                    <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f87</con2:id>
                                                    <con6:logLevel>info</con6:logLevel>
                                                    <con6:expr>
                                                        <con2:xqueryText>$body/*</con2:xqueryText>
                                                    </con6:expr>
                                                    <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                                                </con6:log>
                                            </con3:requestTransform>
                                            <con3:responseTransform>
                                                <con6:log>
                                                    <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f84</con2:id>
                                                    <con6:logLevel>info</con6:logLevel>
                                                    <con6:expr>
                                                        <con2:xqueryText>$body/*</con2:xqueryText>
                                                    </con6:expr>
                                                    <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                                                </con6:log>
                                            </con3:responseTransform>
                                        </con3:wsCallout>
                                        <con2:reply>
                                            <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7cc4</con2:id>
                                        </con2:reply>
                                    </con3:actions>
                                </con3:case>
                                <con3:default/>
                            </con3:ifThenElse>
                        </con3:responseTransform>
                    </con3:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-a050a13.6e796e02.0.151607b3055.N7cc3">
            <con:stage id="_StageId-a050a13.6e796e02.0.151607b3055.N7cc2" name="ResponseInicioFormalizacion">
                <con:context/>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7cc1</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                <con2:param name="result">
                                    <con2:path>'OK'</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Se inici√≥ el proceso de Formalizaci√≥n correctamente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-a050a13.6e796e02.0.151607b3055.N7c10">
            <con:stage id="_StageId-a050a13.6e796e02.0.151607b3055.N7c0f" name="ErrorFinAprobacion">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="requestMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7c0e</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7c0d</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7c0c</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al finalizar el proceso de Aprobaci√≥n'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7c0b</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-a050a31.N707bfe88.0.15164a42ede.N7ec6">
            <con:stage id="_StageId-a050a31.N707bfe88.0.15164a42ede.N7ec5" name="ErrorInicioAprobacion">
                <con:context>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-a050a31.N707bfe88.0.15164a42ede.N7ec4</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050a31.N707bfe88.0.15164a42ede.N7ec3</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050a31.N707bfe88.0.15164a42ede.N7ec2</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el proceso de Aprobaci√≥n'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con3:assign varName="varEnviarCorreoElectronicoRq">
                        <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f99</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Excepcion_To_EnviarCorreoElectronico"/>
                                <con2:param name="Accion">
                                    <con2:path>'el INICIO del proceso de Aprobacion'</con2:path>
                                </con2:param>
                                <con2:param name="MensajeDeError">
                                    <con2:path>concat($body/proc:ResultadoProceso/proc:resultado/res:message,' ',$body/proc:ResultadoProceso/proc:resultado/res:error/err:errorDescription)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f96</con2:id>
                        <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>enviarCorreoElectronico</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f93</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                            </con6:log>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f90</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                            </con6:log>
                        </con3:responseTransform>
                    </con3:wsCallout>
                    <con2:reply>
                        <con2:id>_ActionId-a050a31.N707bfe88.0.15164a42ede.N7ec1</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-a050a31.N707bfe88.0.15164a42ede.N7e7f">
            <con:stage id="_StageId-a050a31.N707bfe88.0.15164a42ede.N7e7e" name="ErrorInicioFormalizacion">
                <con:context>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-a050a31.N707bfe88.0.15164a42ede.N7e7d</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050a31.N707bfe88.0.15164a42ede.N7e7c</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050a31.N707bfe88.0.15164a42ede.N7e7b</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el proceso de Formalizaci√≥n'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con3:assign varName="varEnviarCorreoElectronicoRq">
                        <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f81</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Excepcion_To_EnviarCorreoElectronico"/>
                                <con2:param name="Accion">
                                    <con2:path>'el INICIO del proceso de Formalizacion'</con2:path>
                                </con2:param>
                                <con2:param name="MensajeDeError">
                                    <con2:path>concat($body/proc:ResultadoProceso/proc:resultado/res:message,' ',$body/proc:ResultadoProceso/proc:resultado/res:error/err:errorDescription)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f7e</con2:id>
                        <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>enviarCorreoElectronico</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f78</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                            </con6:log>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f7b</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                            </con6:log>
                        </con3:responseTransform>
                    </con3:wsCallout>
                    <con2:reply>
                        <con2:id>_ActionId-a050a31.N707bfe88.0.15164a42ede.N7e7a</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f579b88.N67b9fd36.0.152846490d8.N7fc4">
            <con:stage id="_StageId-N3f579b88.N67b9fd36.0.152846490d8.N7f26" name="ErrorFinFormalizacion">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="requestMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N3f579b88.N67b9fd36.0.152846490d8.N7f25</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f579b88.N67b9fd36.0.152846490d8.N7f24</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f579b88.N67b9fd36.0.152846490d8.N7f23</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al finalizar el proceso de Formalizacion'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-N3f579b88.N67b9fd36.0.152846490d8.N7f22</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-a050a04.N25d7da4f.0.155c3a7d2a2.N7eb7">
            <con:stage id="_StageId-a050a04.N25d7da4f.0.155c3a7d2a2.N7eb5" name="InicioCierre">
                <con:context/>
                <con:actions/>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-a050a04.N25d7da4f.0.155c3a7d2a2.N7eb6">
            <con:stage id="_StageId-a050a04.N25d7da4f.0.155c3a7d2a2.N7eb4" name="ResponseInicioCierre">
                <con:context/>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7eb1</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                <con2:param name="result">
                                    <con2:path>'OK'</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Se inici√≥ el proceso de Cierre correctamente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-a050a04.N25d7da4f.0.155c3a7d2a2.N7e3b">
            <con:stage id="_StageId-a050a04.N25d7da4f.0.155c3a7d2a2.N7e3a" name="ErrorInicioFormalizacion">
                <con:context>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7e39</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7e38</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7e37</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el proceso de Cierre'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7e36</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-a050a04.N25d7da4f.0.155c3a7d2a2.N7dba">
            <con:stage id="_StageId-a050a04.N25d7da4f.0.155c3a7d2a2.N7db9" name="ErrorFinFormalizacion">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="requestMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7db8</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7db7</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7db6</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al finalizar el proceso de Cierre'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7db5</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-a050aa0.5eef3fad.0.15705ac9c1c.N7f8f">
            <con:stage id="_StageId-N3f578efb.32ef8998.0.15950d34cc8.N7f50" name="ValidarIncioSeguimientoCrediticio" xmlns:con5="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con4="http://www.bea.com/wli/sb/typesystem/config">
                <con:context>
                    <con2:userNsDecl prefix="val" namespace="http://www.bcie.org/ValidarClienteProcesoMO"/>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="seg" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/SegCrediticioProcess"/>
                    <con2:userNsDecl prefix="ges" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/GestionCobroProcess"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con4:variable name="outValidarClienteProceso" path="$outValidarClienteProceso" asChild="false">
                        <con4:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarClienteProceso/V1/Schema/ValidarClienteProcesoMO" element="ValidarClienteProcesoResponse"/>
                    </con4:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inValidarClienteProceso">
                        <con2:id>_ActionId-N3f578efb.32ef8998.0.15950d34cc8.N7f4f</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/GestionCobro/XQUERY/InicioGestionCobro_PS_TO_ValidarClienteProceso_PS_Request"/>
                                <con2:param name="InicioGestionCobro">
                                    <con2:path>$body/ges:InicioGestionCobro</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f578efb.32ef8998.0.15950d34cc8.N7f4e</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/ValidarClienteProceso/PS/ValidarClienteProceso_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>ValidarClienteProceso</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inValidarClienteProceso</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outValidarClienteProceso</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform>
                            <con3:ifThenElse>
                                <con2:id>_ActionId-N3f578efb.32ef8998.0.15950d34cc8.N7f4d</con2:id>
                                <con3:case id="_BranchId-N3f578efb.32ef8998.0.15950d34cc8.N7f4c">
                                    <con3:condition>
                                        <con2:xqueryText>$outValidarClienteProceso/val:enProceso = true()</con2:xqueryText>
                                    </con3:condition>
                                    <con3:actions>
                                        <con3:replace varName="body" contents-only="true">
                                            <con2:id>_ActionId-N3f578efb.32ef8998.0.15950d34cc8.N7f4b</con2:id>
                                            <con3:location>
                                                <con2:xpathText>.</con2:xpathText>
                                            </con3:location>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                    <con2:param name="result">
                                                        <con2:path>'ERROR'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="mensaje">
                                                        <con2:path>'Ya existe un proceso de Gesti√≥n de Cobro en ejecuci√≥n'</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:replace>
                                        <con3:assign varName="varEnviarCorreoElectronicoRq">
                                            <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f75</con2:id>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Error_To_EnviarCorreoElectronico"/>
                                                    <con2:param name="Accion">
                                                        <con2:path>'el INICIO del proceso de Gestion de Cobro'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="MensajeDeError">
                                                        <con2:path>$body/proc:ResultadoProceso/proc:resultado/res:message</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:assign>
                                        <con3:wsCallout>
                                            <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f72</con2:id>
                                            <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                            <con3:operation>enviarCorreoElectronico</con3:operation>
                                            <con3:request>
                                                <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                                            </con3:request>
                                            <con3:response>
                                                <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                                            </con3:response>
                                            <con3:requestTransform>
                                                <con5:log>
                                                    <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f6f</con2:id>
                                                    <con5:logLevel>info</con5:logLevel>
                                                    <con5:expr>
                                                        <con2:xqueryText>$body/*</con2:xqueryText>
                                                    </con5:expr>
                                                    <con5:message>varEnviarCorreoElectronicoRq</con5:message>
                                                </con5:log>
                                            </con3:requestTransform>
                                            <con3:responseTransform>
                                                <con5:log>
                                                    <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f6c</con2:id>
                                                    <con5:logLevel>info</con5:logLevel>
                                                    <con5:expr>
                                                        <con2:xqueryText>$body/*</con2:xqueryText>
                                                    </con5:expr>
                                                    <con5:message>varEnviarCorreoElectronicoRs</con5:message>
                                                </con5:log>
                                            </con3:responseTransform>
                                        </con3:wsCallout>
                                        <con2:reply>
                                            <con2:id>_ActionId-N3f578efb.32ef8998.0.15950d34cc8.N7f4a</con2:id>
                                        </con2:reply>
                                    </con3:actions>
                                </con3:case>
                                <con3:default/>
                            </con3:ifThenElse>
                        </con3:responseTransform>
                    </con3:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-a050aa0.5eef3fad.0.15705ac9c1c.N7f8e">
            <con:stage id="_StageId-a050aa0.5eef3fad.0.15705ac9c1c.N7f8c" name="ResponseInicioGestionCobro">
                <con:context/>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7f7f</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                <con2:param name="result">
                                    <con2:path>'OK'</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Se inicio el proceso GestionCobro correctamente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-a050aa0.5eef3fad.0.15705ac9c1c.N7f10">
            <con:stage id="_StageId-a050aa0.5eef3fad.0.15705ac9c1c.N7f0f" name="ErrorInicioGestionCobro">
                <con:context>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7f0c</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7f09</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7f05</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el proceso GestionCobro'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con3:assign varName="varEnviarCorreoElectronicoRq">
                        <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f69</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Excepcion_To_EnviarCorreoElectronico"/>
                                <con2:param name="Accion">
                                    <con2:path>'el INICIO del proceso de Gestion de Cobro'</con2:path>
                                </con2:param>
                                <con2:param name="MensajeDeError">
                                    <con2:path>concat($body/proc:ResultadoProceso/proc:resultado/res:message,' ',$body/proc:ResultadoProceso/proc:resultado/res:error/err:errorDescription)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f66</con2:id>
                        <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>enviarCorreoElectronico</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f60</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                            </con6:log>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.N411cefbb.0.16024028868.N7f63</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                            </con6:log>
                        </con3:responseTransform>
                    </con3:wsCallout>
                    <con2:reply>
                        <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7f02</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-a050aa0.5eef3fad.0.15705ac9c1c.N7ed1">
            <con:stage id="_StageId-a050aa0.5eef3fad.0.15705ac9c1c.N7ed0" name="ErrorFinGestionCobro">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7ecd</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7eca</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7ec6</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al finalizar el proceso GestionCobro'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7ec3</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-N56014e6b.N388e36ef.0.157aae3135b.N7ff9">
            <con:stage id="_StageId-a050a6a.6fffad17.0.1592d4a9dbf.N7f7d" name="ValidaInicioSeguimientoCobro">
                <con:context>
                    <con2:userNsDecl prefix="val" namespace="http://www.bcie.org/ValidarOperacionProcesoMO"/>
                    <con2:userNsDecl prefix="prep" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/PreparacionProcess"/>
                    <con2:userNsDecl prefix="for" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/FormalizacionProcess"/>
                    <con2:userNsDecl prefix="eleg" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ElegibilidadProcess"/>
                    <con2:userNsDecl prefix="ges" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/GestionCobroProcess"/>
                    <con2:userNsDecl prefix="eval" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/EvaluacionProcess"/>
                    <con2:userNsDecl prefix="val1" namespace="http://www.bcie.org/ValidarClienteProcesoMO"/>
                    <con5:variable name="outValidarClienteProceso" path="$outValidarClienteProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarClienteProceso/V1/Schema/ValidarClienteProcesoMO" element="ValidarClienteProcesoResponse"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050a6a.6fffad17.0.1592d4a9dbf.N7f7c</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/ValidarClienteProceso/PS/ValidarClienteProceso_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>ValidarClienteProceso</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inValidarClienteProceso</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outValidarClienteProceso</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con3:assign varName="inValidarClienteProceso">
                                <con2:id>_ActionId-a050a6a.6fffad17.0.1592d4a9dbf.N7f7b</con2:id>
                                <con3:expr>
                                    <con2:xqueryTransform>
                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/GestionCobro/XQUERY/InicioSeguimientoCobro_PS_TO_ValidarClienteProceso_PS_Request"/>
                                        <con2:param name="InicioSeguimientoCobro">
                                            <con2:path>$body/ges:InicioSeguimientoCobro</con2:path>
                                        </con2:param>
                                    </con2:xqueryTransform>
                                </con3:expr>
                            </con3:assign>
                        </con3:requestTransform>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-N56014e6b.N388e36ef.0.157aae3135b.N7ff8">
            <con:stage id="_StageId-N56014e6b.N388e36ef.0.157aae3135b.N7ff6" name="ResponseInicioSeguimientoCobro">
                <con:context>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                </con:context>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N56014e6b.N388e36ef.0.157aae3135b.N7fe9</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                <con2:param name="result">
                                    <con2:path>'OK'</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Se inicio el proceso SeguimientoCobro correctamente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con3:ifThenElse>
                        <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7ff4</con2:id>
                        <con3:case id="_BranchId-N3f57c7ff.5098687d.0.160280bd992.N7ff3">
                            <con3:condition>
                                <con2:xqueryText>$body/proc:ResultadoProceso/proc:resultado/res:result!='OK'</con2:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="varEnviarCorreoElectronicoRq">
                                    <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7ff0</con2:id>
                                    <con3:expr>
                                        <con2:xqueryTransform>
                                            <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Error_To_EnviarCorreoElectronico"/>
                                            <con2:param name="Accion">
                                                <con2:path>'el INICIO del proceso de Seguimiento de Cobro'</con2:path>
                                            </con2:param>
                                            <con2:param name="MensajeDeError">
                                                <con2:path>$body/proc:ResultadoProceso/proc:resultado/res:message</con2:path>
                                            </con2:param>
                                        </con2:xqueryTransform>
                                    </con3:expr>
                                </con3:assign>
                                <con3:wsCallout>
                                    <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fed</con2:id>
                                    <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con3:operation>enviarCorreoElectronico</con3:operation>
                                    <con3:request>
                                        <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                                    </con3:request>
                                    <con3:response>
                                        <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                                    </con3:response>
                                    <con3:requestTransform>
                                        <con6:log>
                                            <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fea</con2:id>
                                            <con6:logLevel>info</con6:logLevel>
                                            <con6:expr>
                                                <con2:xqueryText>$body/*</con2:xqueryText>
                                            </con6:expr>
                                            <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                                        </con6:log>
                                    </con3:requestTransform>
                                    <con3:responseTransform>
                                        <con6:log>
                                            <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fe7</con2:id>
                                            <con6:logLevel>info</con6:logLevel>
                                            <con6:expr>
                                                <con2:xqueryText>$body/*</con2:xqueryText>
                                            </con6:expr>
                                            <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                                        </con6:log>
                                    </con3:responseTransform>
                                </con3:wsCallout>
                            </con3:actions>
                        </con3:case>
                        <con3:default/>
                    </con3:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N56014e6b.N388e36ef.0.157aae3135b.N7fe7">
            <con:stage id="_StageId-N56014e6b.N388e36ef.0.157aae3135b.N7fe6" name="ErrorInicioSeguimientoCobro">
                <con:context>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N56014e6b.N388e36ef.0.157aae3135b.N7fe3</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N56014e6b.N388e36ef.0.157aae3135b.N7fe0</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N56014e6b.N388e36ef.0.157aae3135b.N7fdc</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el proceso SeguimientoCobro'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con3:assign varName="varEnviarCorreoElectronicoRq">
                        <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fe4</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Excepcion_To_EnviarCorreoElectronico"/>
                                <con2:param name="Accion">
                                    <con2:path>'el INICIO del proceso de Seguimiento de Cobro'</con2:path>
                                </con2:param>
                                <con2:param name="MensajeDeError">
                                    <con2:path>concat($body/proc:ResultadoProceso/proc:resultado/res:message,' ',$body/proc:ResultadoProceso/proc:resultado/res:error/err:errorDescription)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fe1</con2:id>
                        <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>enviarCorreoElectronico</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fdb</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                            </con6:log>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fde</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                            </con6:log>
                        </con3:responseTransform>
                    </con3:wsCallout>
                    <con2:reply>
                        <con2:id>_ActionId-N56014e6b.N388e36ef.0.157aae3135b.N7fd9</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N56014e6b.N1908f3c.0.157b0d5439c.N7f93">
            <con:stage id="_StageId-N56014e6b.N1908f3c.0.157b0d5439c.N7f92" name="ErrorFinSeguimientoCobro">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N56014e6b.N1908f3c.0.157b0d5439c.N7f8f</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N56014e6b.N1908f3c.0.157b0d5439c.N7f8c</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N56014e6b.N1908f3c.0.157b0d5439c.N7f89</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al finalizar el proceso SeguimientoCobro'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-N56014e6b.N1908f3c.0.157b0d5439c.N7f86</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-N3f57c7ff.ccd1834.0.157e2a357c4.N7ff0">
            <con:stage id="_StageId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fee" name="ValidaInicioDesembolso">
                <con:context>
                    <con2:userNsDecl prefix="v1" namespace="http://xmlns.bcie.org/ObjetoProceso/Comun/Parameter/V1"/>
                    <con2:userNsDecl prefix="val" namespace="http://www.bcie.org/ValidarOperacionProcesoMO"/>
                    <con2:userNsDecl prefix="des1" namespace="http://www.bcie.org/DesembolsoMO"/>
                    <con2:userNsDecl prefix="des" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/DesembolsoProcess"/>
                    <con2:userNsDecl prefix="cat" namespace="http://www.bcie.org/CatalogoBO"/>
                    <con2:userNsDecl prefix="des2" namespace="http://www.bcie.org/DesembolsoBO"/>
                    <con5:variable name="outValidarOperacionProceso" path="$outValidarOperacionProceso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarOperacionProceso/V1/Schema/ValidarOperacionProcesoMO" element="responseValidarOperacionProceso"/>
                    </con5:variable>
                    <con5:variable name="outConsutarDesemblsoById" path="$outConsutarDesemblsoById" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/DominioDesembolso/Desembolso/V1/Schema/DesembolsoMO" element="ConsultarDesembolsosByIdResponse"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fea</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/DominioDesembolso/ConsultarDesembolsosById/PS/ConsultaDesembolsoById_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>ConsultarDesembolsosById</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inConsutarDesemblsoById</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outConsutarDesemblsoById</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con3:assign varName="inConsutarDesemblsoById">
                                <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fe7</con2:id>
                                <con3:expr>
                                    <con2:xqueryTransform>
                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/Desembolso/XQUERY/InicioDesembolso_PS_TO_ConsultarDesembolsoById_PS_Request"/>
                                        <con2:param name="InicioDesembolso">
                                            <con2:path>$body/des:InicioDesembolso</con2:path>
                                        </con2:param>
                                    </con2:xqueryTransform>
                                </con3:expr>
                            </con3:assign>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con3:ifThenElse>
                                <con2:id>_ActionId-a05fe9e.Nedc96a7.0.15dc3230b04.N7e43</con2:id>
                                <con3:case id="_BranchId-a05fe9e.Nedc96a7.0.15dc3230b04.N7e42">
                                    <con3:condition>
                                        <con2:xqueryText>count($body/des:InicioDesembolso/des:Header/v1:ParameterType[v1:parameterName= 'TIPO_INICIO'])>0 and $body/des:InicioDesembolso/des:Header/v1:ParameterType[v1:parameterName='TIPO_INICIO']/v1:parameterValue = 'REASIGNAR'</con2:xqueryText>
                                    </con3:condition>
                                    <con3:actions/>
                                </con3:case>
                                <con3:default>
                                    <con3:ifThenElse>
                                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fdc</con2:id>
                                        <con3:case id="_BranchId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fdb">
                                            <con3:condition>
                                                <con2:xqueryText>$outConsutarDesemblsoById/des1:ContratoDesembolso/des2:estado/cat:Id != 13</con2:xqueryText>
                                            </con3:condition>
                                            <con3:actions>
                                                <con3:replace contents-only="true" varName="body">
                                                    <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fd8</con2:id>
                                                    <con3:location>
                                                        <con2:xpathText>.</con2:xpathText>
                                                    </con3:location>
                                                    <con3:expr>
                                                        <con2:xqueryTransform>
                                                            <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                            <con2:param name="result">
                                                                <con2:path>'ERROR'</con2:path>
                                                            </con2:param>
                                                            <con2:param name="mensaje">
                                                                <con2:path>concat('No se puede iniciar el proceso con el estado: ',$outConsutarDesemblsoById/des1:ContratoDesembolso/des2:estado/cat:DescripcionCorta/text())</con2:path>
                                                            </con2:param>
                                                        </con2:xqueryTransform>
                                                    </con3:expr>
                                                </con3:replace>
                                                <con2:reply>
                                                    <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fd5</con2:id>
                                                </con2:reply>
                                            </con3:actions>
                                        </con3:case>
                                        <con3:default/>
                                    </con3:ifThenElse>
                                </con3:default>
                            </con3:ifThenElse>
                        </con3:responseTransform>
                    </con3:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-N3f57c7ff.ccd1834.0.157e2a357c4.N7fef">
            <con:stage id="_StageId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fed" name="Response">
                <con:context>
                    <con2:userNsDecl prefix="ns2" namespace="http://www.bcie.org/DesembolsoMO"/>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="ns1" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/DesembolsoProcess"/>
                    <con2:userNsDecl prefix="ns3" namespace="http://xmlns.bcie.org/ObjetoProceso/Comun/Parameter/V1"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                </con:context>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fd2</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                <con2:param name="result">
                                    <con2:path>'OK'</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Se inici√≥ el proceso de desembolso correctamente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con3:ifThenElse>
                        <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fd4</con2:id>
                        <con3:case id="_BranchId-N3f57c7ff.5098687d.0.160280bd992.N7fd3">
                            <con3:condition>
                                <con2:xqueryText>$body/proc:ResultadoProceso/proc:resultado/res:result!='OK'</con2:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="varEnviarCorreoElectronicoRq">
                                    <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fd0</con2:id>
                                    <con3:expr>
                                        <con2:xqueryTransform>
                                            <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Error_To_EnviarCorreoElectronico"/>
                                            <con2:param name="Accion">
                                                <con2:path>'el INICIO del proceso de Desembolso'</con2:path>
                                            </con2:param>
                                            <con2:param name="MensajeDeError">
                                                <con2:path>concat($body/proc:ResultadoProceso/proc:resultado/res:message,' ',$InicioDesembolso/ns1:Header/ns3:ParameterType[ns3:parameterName = 'ID_DESEMBOLSO']/ns3:parameterValue)</con2:path>
                                            </con2:param>
                                        </con2:xqueryTransform>
                                    </con3:expr>
                                </con3:assign>
                                <con3:wsCallout>
                                    <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fcd</con2:id>
                                    <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con3:operation>enviarCorreoElectronico</con3:operation>
                                    <con3:request>
                                        <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                                    </con3:request>
                                    <con3:response>
                                        <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                                    </con3:response>
                                    <con3:requestTransform>
                                        <con6:log>
                                            <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fca</con2:id>
                                            <con6:logLevel>info</con6:logLevel>
                                            <con6:expr>
                                                <con2:xqueryText>$body/*</con2:xqueryText>
                                            </con6:expr>
                                            <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                                        </con6:log>
                                    </con3:requestTransform>
                                    <con3:responseTransform>
                                        <con6:log>
                                            <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fc7</con2:id>
                                            <con6:logLevel>info</con6:logLevel>
                                            <con6:expr>
                                                <con2:xqueryText>$body/*</con2:xqueryText>
                                            </con6:expr>
                                            <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                                        </con6:log>
                                    </con3:responseTransform>
                                </con3:wsCallout>
                            </con3:actions>
                        </con3:case>
                        <con3:default/>
                    </con3:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57c7ff.ccd1834.0.157e2a357c4.N7fba">
            <con:stage id="_StageId-N3f57c7ff.ccd1834.0.157e2a357c4.N7f0f" name="ErrorInicioDesembolsoExcepcion">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="requestMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7f0e</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7f0d</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7f0c</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el proceso de DesembolsoExcepcion'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7f0b</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57c7ff.ccd1834.0.157e2a357c4.N7ecd">
            <con:stage id="_StageId-N3f57c7ff.ccd1834.0.157e2a357c4.N7e5f" name="ErrorFinDesembolsoExcepcion">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="requestMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7e5e</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7e5d</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7e5c</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al finalizar el proceso de DesembolsoExcepcion'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7e5b</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-N3f57c7ff.ccd1834.0.157e2a357c4.N7e2a">
            <con:stage id="_StageId-N3f57c7ff.ccd1834.0.157e2a357c4.N7e28" name="ValidarInicioDesembolsoExcepcion">
                <con:context>
                    <con2:userNsDecl prefix="v1" namespace="http://xmlns.bcie.org/ObjetoProceso/Comun/Parameter/V1"/>
                    <con2:userNsDecl prefix="val" namespace="http://www.bcie.org/ValidarEnProcesoExcepcionMO"/>
                    <con2:userNsDecl prefix="des" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/DesembolsoProcess"/>
                    <con5:variable name="outValidarEnProcesoExcepcion" path="$outValidarEnProcesoExcepcion" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/ValidarEnProcesoExcepcion/V1/Schema/ValidarEnProcesoExcepcionMO" element="ValidarEnProcesoExcepcionResponse"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7e24</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/ValidarEnProcesoExcepcion/PS/ValidarEnProcesoExcepcion_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>ValidarEnProcesoExcepcion</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inValidarEnProcesoExcepcion</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outValidarEnProcesoExcepcion</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con3:assign varName="inValidarEnProcesoExcepcion">
                                <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7e21</con2:id>
                                <con3:expr>
                                    <con2:xqueryTransform>
                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/Desembolso/XQUERY/InicioDesembolsoExcepcion_PS_TO_ValidarEnProcesoExcepcion_PS"/>
                                        <con2:param name="InicioDesembolsoExcepcion">
                                            <con2:path>$body/des:InicioDesembolsoExcepcion</con2:path>
                                        </con2:param>
                                    </con2:xqueryTransform>
                                </con3:expr>
                            </con3:assign>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con3:ifThenElse>
                                <con2:id>_ActionId-a05fe9e.Nedc96a7.0.15dc3230b04.N7e5d</con2:id>
                                <con3:case id="_BranchId-a05fe9e.Nedc96a7.0.15dc3230b04.N7e5c">
                                    <con3:condition>
                                        <con2:xqueryText>count($body/des:InicioDesembolsoExcepcion/des:Header/v1:ParameterType[v1:parameterName= 'TIPO_INICIO'])>0 and $body/des:InicioDesembolsoExcepcion/des:Header/v1:ParameterType[v1:parameterName='TIPO_INICIO']/v1:parameterValue = 'REASIGNAR'</con2:xqueryText>
                                    </con3:condition>
                                    <con3:actions/>
                                </con3:case>
                                <con3:default>
                                    <con3:ifThenElse>
                                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7e1a</con2:id>
                                        <con3:case id="_BranchId-N3f57c7ff.ccd1834.0.157e2a357c4.N7e19">
                                            <con3:condition>
                                                <con2:xqueryText>$outValidarEnProcesoExcepcion/val:EnProceso = true()</con2:xqueryText>
                                            </con3:condition>
                                            <con3:actions>
                                                <con3:replace varName="body" contents-only="true">
                                                    <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7e16</con2:id>
                                                    <con3:location>
                                                        <con2:xpathText>.</con2:xpathText>
                                                    </con3:location>
                                                    <con3:expr>
                                                        <con2:xqueryTransform>
                                                            <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                            <con2:param name="result">
                                                                <con2:path>'ERROR'</con2:path>
                                                            </con2:param>
                                                            <con2:param name="mensaje">
                                                                <con2:path>'Ya existe un proceso de DesembolsoExcepcion en ejecuci√≥n'</con2:path>
                                                            </con2:param>
                                                        </con2:xqueryTransform>
                                                    </con3:expr>
                                                </con3:replace>
                                                <con2:reply>
                                                    <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7e13</con2:id>
                                                </con2:reply>
                                            </con3:actions>
                                        </con3:case>
                                        <con3:default/>
                                    </con3:ifThenElse>
                                </con3:default>
                            </con3:ifThenElse>
                        </con3:responseTransform>
                    </con3:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-N3f57c7ff.ccd1834.0.157e2a357c4.N7e29">
            <con:stage id="_StageId-N3f57c7ff.ccd1834.0.157e2a357c4.N7e27" name="Response">
                <con:context/>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fbb</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                <con2:param name="result">
                                    <con2:path>'OK'</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Se ha iniciado el proceso de DesembolsoExcepcion correctamente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57c7ff.ccd1834.0.157e2a357c4.N7dac">
            <con:stage id="_StageId-N3f57c7ff.ccd1834.0.157e2a357c4.N7d72" name="ErrorInicioDesembolso">
                <con:context>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="ns1" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/DesembolsoProcess"/>
                    <con2:userNsDecl prefix="ns3" namespace="http://xmlns.bcie.org/ObjetoProceso/Comun/Parameter/V1"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="proc" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/ProcesosPrincipales"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="requestMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7d71</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7d70</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7d6f</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el proceso de Desembolso'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con3:assign varName="varEnviarCorreoElectronicoRq">
                        <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fc4</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="ADAPTADORES/Proveedores/FLEXCUBE/CrearClienteFLEXCUBE/XQUERY/Excepcion_To_EnviarCorreoElectronico"/>
                                <con2:param name="Accion">
                                    <con2:path>'el INICIO del proceso de Desembolso'</con2:path>
                                </con2:param>
                                <con2:param name="MensajeDeError">
                                    <con2:path>concat($body/proc:ResultadoProceso/proc:resultado/res:message,' ',$body/proc:ResultadoProceso/proc:resultado/res:error/err:errorDescription,' ',$InicioDesembolso/ns1:Header/ns3:ParameterType[ns3:parameterName = 'ID_DESEMBOLSO']/ns3:parameterValue)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fc1</con2:id>
                        <con3:service ref="COMPOSICIONES/Entidades/Utilidades/EnviarCorreoElectronico/PS/EnviarCorreoService_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>enviarCorreoElectronico</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRq</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">varEnviarCorreoElectronicoRs</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fbe</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRq</con6:message>
                            </con6:log>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con6:log>
                                <con2:id>_ActionId-N3f57c7ff.5098687d.0.160280bd992.N7fbb</con2:id>
                                <con6:logLevel>info</con6:logLevel>
                                <con6:expr>
                                    <con2:xqueryText>$body/*</con2:xqueryText>
                                </con6:expr>
                                <con6:message>varEnviarCorreoElectronicoRs</con6:message>
                            </con6:log>
                        </con3:responseTransform>
                    </con3:wsCallout>
                    <con2:reply>
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7d6e</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57c7ff.ccd1834.0.157e2a357c4.N7d2e">
            <con:stage id="_StageId-N3f57c7ff.ccd1834.0.157e2a357c4.N7cc0" name="ErrorFinDesembolso">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7cbf</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7cbe</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7cbd</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al finalizar el proceso Desembolso'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7cbc</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f5a">
            <con:stage id="_StageId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f58" name="ValidaInicioValidacionAsignacion">
                <con:context>
                    <con2:userNsDecl prefix="v1" namespace="http://xmlns.bcie.org/ObjetoProceso/Comun/Parameter/V1"/>
                    <con2:userNsDecl prefix="des1" namespace="http://www.bcie.org/DesembolsoBO"/>
                    <con2:userNsDecl prefix="des" namespace="http://www.bcie.org/DesembolsoMO"/>
                    <con2:userNsDecl prefix="cat" namespace="http://www.bcie.org/CatalogoBO"/>
                    <con2:userNsDecl prefix="des2" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/DesembolsoProcess"/>
                    <con5:variable name="outConsultarSolicitudDesembolso" path="$outConsultarSolicitudDesembolso" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/DominioDesembolso/Desembolso/V1/Schema/DesembolsoMO" element="ConsultarSolicitudDesembolsoResponse"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inConsultarSolicitudDesembolso">
                        <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f51</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/Desembolso/XQUERY/InicioValidacionAsignacion_PS_TO_ConsultarSolicitudDesembolso_PS_Request"/>
                                <con2:param name="InicioValidacionAsignacion">
                                    <con2:path>$body/*</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f54</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/DominioDesembolso/ConsultarSolicitudDesembolso/PS/ConsultarSolicitudDesembolso_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>consultarSolicitudDesembolso</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inConsultarSolicitudDesembolso</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outConsultarSolicitudDesembolso</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform>
                            <con3:ifThenElse>
                                <con2:id>_ActionId-a05fe9e.Nedc96a7.0.15dc3230b04.N7e77</con2:id>
                                <con3:case id="_BranchId-a05fe9e.Nedc96a7.0.15dc3230b04.N7e76">
                                    <con3:condition>
                                        <con2:xqueryText>count($body/des2:InicioValidacionAsignacion/des2:Header/v1:ParameterType[v1:parameterName= 'TIPO_INICIO'])>0 and $body/des2:InicioValidacionAsignacion/des2:Header/v1:ParameterType[v1:parameterName='TIPO_INICIO']/v1:parameterValue = 'REASIGNAR'</con2:xqueryText>
                                    </con3:condition>
                                    <con3:actions/>
                                </con3:case>
                                <con3:default>
                                    <con3:ifThenElse>
                                        <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f47</con2:id>
                                        <con3:case id="_BranchId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f46">
                                            <con3:condition>
                                                <con2:xqueryText>$outConsultarSolicitudDesembolso/des:SolicitudDesembolso/des1:estado/cat:Id = 5</con2:xqueryText>
                                            </con3:condition>
                                            <con3:actions/>
                                        </con3:case>
                                        <con3:default>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f43</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'ERROR'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Ya existe un proceso de ValidacionAsignacion en ejecuci√≥n'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con2:reply>
                                                <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f40</con2:id>
                                            </con2:reply>
                                        </con3:default>
                                    </con3:ifThenElse>
                                </con3:default>
                            </con3:ifThenElse>
                        </con3:responseTransform>
                    </con3:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f59">
            <con:stage id="_StageId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f57" name="ResponseValidacionAsignacion">
                <con:context/>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f36</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                <con2:param name="result">
                                    <con2:path>'OK'</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Se inici√≥ el proceso de validacionAsignacion correctamente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f35">
            <con:stage id="_StageId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7ec7" name="ErrorInicioValidacionAsignacion">
                <con:context>
                    <con2:userNsDecl prefix="res" namespace="http://www.bcie.org/ResultBO"/>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError">
                        <con5:service operation="MapearError">
                            <con5:reference ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS.proxyPipeline" xsi:type="con:PipelineRef"/>
                        </con5:service>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7ec6</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7ec5</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7ec4</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el proceso de ValidacionAsignacion'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7ec3</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-a050a3e.N5b3c9236.0.1581c11e4b9.N7e9b">
            <con:stage id="_StageId-a050a3e.N5b3c9236.0.1581c11e4b9.N7df1" name="ErrorInicioAprobacionCliente">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-a050a3e.N5b3c9236.0.1581c11e4b9.N7df0</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050a3e.N5b3c9236.0.1581c11e4b9.N7def</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050a3e.N5b3c9236.0.1581c11e4b9.N7dee</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el proceso AprobacionCliente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-a050a3e.N5b3c9236.0.1581c11e4b9.N7ded</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-a050a3e.50ee8b2b.0.1581d0787d2.N7fb0">
            <con:stage id="_StageId-a050a3e.50ee8b2b.0.1581d0787d2.N7f12" name="ErrorFinAprobacionCliente">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="requestMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-a050a3e.50ee8b2b.0.1581d0787d2.N7f11</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-a050a3e.50ee8b2b.0.1581d0787d2.N7f10</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-a050a3e.50ee8b2b.0.1581d0787d2.N7f0f</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al finalizar el proceso de AprobacionCliente'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-a050a3e.50ee8b2b.0.1581d0787d2.N7f0e</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N56014e6b.7b250ba0.0.158844b9a17.N7e4d">
            <con:stage id="_StageId-N56014e6b.7b250ba0.0.158844b9a17.N7daf" name="ErrorInicioContratacionFormalizacion">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="requestMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7dae</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7dad</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7dac</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al iniciar el proceso de ContratacionFormalizacion'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7dab</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N56014e6b.7b250ba0.0.158844b9a17.N7d6d">
            <con:stage id="_StageId-N56014e6b.7b250ba0.0.158844b9a17.N7ccf" name="ErrorFinContratacionFormalizacion">
                <con:context>
                    <con2:userNsDecl prefix="map" namespace="http://www.bcie.org/MapeoErrorMO"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bcie.org/ErrorBO"/>
                    <con5:variable name="outMapeoError" path="$outMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="responseMapeoErrorMessage"/>
                    </con5:variable>
                    <con5:variable name="inMapeoError" path="$inMapeoError" asChild="false">
                        <con5:schema ref="MDS/Resources/ComponentesComunes/Utilidades/MapeoError/V1/Schema/MapeoErrorMO" element="requestMapeoErrorMessage"/>
                    </con5:variable>
                </con:context>
                <con:actions>
                    <con3:assign varName="inMapeoError">
                        <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7cce</con2:id>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Fault_TO_MapeoError_PS_Request"/>
                                <con2:param name="codigoError">
                                    <con2:path>xs:string($fault/ctx:errorCode)</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7ccd</con2:id>
                        <con3:service ref="ADAPTADORES/ModeloNegocio/Utilidades/MapeoError/PS/MapeoError_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>MapearError</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">inMapeoError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">outMapeoError</con3:body>
                        </con3:response>
                        <con3:requestTransform/>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7ccc</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/Error_TO_ResultadoProcesoPrincipal_Response"/>
                                <con2:param name="codigo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorCode)</con2:path>
                                </con2:param>
                                <con2:param name="tipo">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorType)</con2:path>
                                </con2:param>
                                <con2:param name="descripcion">
                                    <con2:path>xs:string($outMapeoError/map:ErrorOutput/err:errorDescription)</con2:path>
                                </con2:param>
                                <con2:param name="mensaje">
                                    <con2:path>'Error al finalizar el proceso de ContratacionFormalizacion'</con2:path>
                                </con2:param>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                    <con2:reply>
                        <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7ccb</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:flow>
            <con:branch-node type="operation" id="_FlowId-7f000001.43b98c8f.0.14ffc074226.N8000" name="BranchProcesosPrincipales">
                <con:context/>
                <con:branch-table>
                    <con:branch name="InicioElegibilidad">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="PipelineInicioElegibilidad">
                                <con:request>request-7f000001.346c916e.0.1503e0dc2ec.N7fe0</con:request>
                                <con:response>response-7f000001.346c916e.0.1503e0dc2ec.N7fdf</con:response>
                            </con:pipeline-node>
                            <con:route-node name="InicioElegibilidad_RN" error-handler="error-7f000001.N76556e94.0.1504d529aba.N7f89">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-7f000001.N76556e94.0.1504d529aba.N7f8a</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Elegibilidad/PS/InicioElegibilidad_PSPipeline" xsi:type="con:PipelineRef"/>
                                        <con1:operation>InicioElegibilidad</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fd7</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioElegibilidad-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fd4</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioElegibilidad-Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinElegibilidad">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinElegibilidad_RN" error-handler="error-7f000001.5ae7e6cc.0.15061d9857e.N7ff2">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-7f000001.3ea9e3e2.0.1504ed8ab90.N7fcc</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Elegibilidad/PS/FinElegibilidad_PSPipeline" xsi:type="con:PipelineRef"/>
                                        <con1:operation>FinElegibilidad</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fd1</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinElegibilidad-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-7f000001.484c3dff.0.150632bc0d1.N7ff7</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se finaliz√≥ el proceso de elegibilidad correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fce</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinElegibilidad-Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="InicioPreparacion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="InicioPreparacion_PPN">
                                <con:request>request-N3f57c7ff.6266f98e.0.1506d34393f.N7d8c</con:request>
                                <con:response>response-N3f57c7ff.6266f98e.0.1506d34393f.N7d84</con:response>
                            </con:pipeline-node>
                            <con:route-node name="InicioPreparacion_RN" error-handler="error-N3f57c7ff.63d38ffa.0.15061e966bb.N7c1c">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-7f000001.3ded1e1c.0.1506327ec40.N7ffe</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Preparacion/PS/InicioPreparacion_PSPipeline" xsi:type="con:PipelineRef"/>
                                        <con1:operation>InicioPreparacion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fcb</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioPreparacion-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fc8</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinPreparacion-Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinPreparacion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinPreparacion_RN" error-handler="error-N3f57c7ff.63d38ffa.0.15061e966bb.N7b49">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-7f000001.484c3dff.0.150632bc0d1.N7ffd</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Preparacion/PS/FinPreparacion_PSPipeline" xsi:type="con:PipelineRef"/>
                                        <con1:operation>FinPreparacion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fc5</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinPreparacion-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-7f000001.484c3dff.0.150632bc0d1.N7ffa</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se finaliz√≥ el proceso de preparaci√≥n correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fc2</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinPreparacion-Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="InicioAnalisis">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="InicioAnalisis_PPN">
                                <con:request>request-a050aa3.2b48c5c7.0.1506c55f9be.N7be0</con:request>
                                <con:response>response-a050aa3.2b48c5c7.0.1506c55f9be.N7bd8</con:response>
                            </con:pipeline-node>
                            <con:route-node name="InicioAnalisis_RN" error-handler="error-a050a9a.49b156f.0.1505cbc2fa2.N7ee4">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-a050a9a.49b156f.0.1505cbc2fa2.N7f86</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Analisis/PS/InicioAnalisis_PSPipeline" xsi:type="con:PipelineRef"/>
                                        <con1:operation>InicioAnalisis</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fbf</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioAnalisis-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fbc</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioAnalisis-Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinAnalisis">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinAnalisis_RN" error-handler="error-a050a9a.49b156f.0.1505cbc2fa2.N7e99">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-a050a9a.49b156f.0.1505cbc2fa2.N7ed7</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Analisis/PS/FinAnalisis_PSPipeline" xsi:type="con:PipelineRef"/>
                                        <con1:operation>FinAnalisis</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fb9</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinAnalisis-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-a050a9e.N58742800.0.15061c42238.N7eea</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se ha finalizado el proceso de An√°lisis correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fb6</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinAnalisis-Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="InicioEvaluacion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="InicioEvaluacion__PPN">
                                <con:request>request-a050aa3.2b48c5c7.0.1506c55f9be.N7b4d</con:request>
                                <con:response>response-a050aa3.2b48c5c7.0.1506c55f9be.N7b45</con:response>
                            </con:pipeline-node>
                            <con:route-node name="InicioEvaluacion_RN" error-handler="error-N3f579bc1.3d460c99.0.150630e6449.N7f8a">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-N3f579bc1.3d460c99.0.150630e6449.N7ffc</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Evaluacion/PS/InicioEvaluacion_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>InicioEvaluacion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fb3</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioEvaluacion-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fb0</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioEvaluacion-Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinEvaluacion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinEvaluacion_RN" error-handler="error-N3f579bc1.3d460c99.0.150630e6449.N7f0f">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-N3f579bc1.3d460c99.0.150630e6449.N7f81</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Evaluacion/PS/FinEvaluacion_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>InicioEvaluacion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fad</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinEvaluacion-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N3f579bc1.7f5e7900.0.1506747e190.N7fce</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se ha finalizado el proceso de Evaluacion correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7faa</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinEvaluacion-Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="InicioAprobacion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="InicioAprobacion_PPN">
                                <con:request>request-a050a13.6e796e02.0.151607b3055.N7d27</con:request>
                                <con:response>response-a050a13.6e796e02.0.151607b3055.N7d1f</con:response>
                            </con:pipeline-node>
                            <con:route-node name="InicioAprobacion_RN" error-handler="error-a050a31.N707bfe88.0.15164a42ede.N7ec6">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-a050a31.N707bfe88.0.15164a42ede.N7f38</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Aprobacion/PS/InicioAprobacion_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>InicioAprobacion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fa7</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioAprobacion-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fa4</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioAprobacion-Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinAprobacion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinAprobacion_RN" error-handler="error-a050a13.6e796e02.0.151607b3055.N7c10">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7c12</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Aprobacion/PS/FinAprobacion_PSPipeline" xsi:type="con:PipelineRef"/>
                                        <con1:operation>FinAprobacion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7fa1</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinAprobacion-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-a050a13.6e796e02.0.151607b3055.N7c11</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se ha finalizado el proceso de Aprobaci√≥n correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7f9e</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinAprobacion-Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="InicioFormalizacion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="InicioFormalizacion_PPN">
                                <con:request>request-a050a13.6e796e02.0.151607b3055.N7ccb</con:request>
                                <con:response>response-a050a13.6e796e02.0.151607b3055.N7cc3</con:response>
                            </con:pipeline-node>
                            <con:route-node name="InicioFormalizacion_RN" error-handler="error-a050a31.N707bfe88.0.15164a42ede.N7e7f">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-a050a31.N707bfe88.0.15164a42ede.N7ebd</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Formalizacion/PS/InicioFormalizacion_PSPipeline" xsi:type="con:PipelineRef"/>
                                        <con1:operation>InicioFormalizacion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7f9b</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioFormalizacion-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7f98</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioFormalizacion-Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinFormalizacion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinFormalizacion_RN" error-handler="error-N3f579b88.N67b9fd36.0.152846490d8.N7fc4">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-N3f579b88.N67b9fd36.0.152846490d8.N7fc8</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Formalizacion/PS/FinFormalizacion_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>FinFormalizacion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7f95</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinFormalizacion-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N3f579b88.N67b9fd36.0.152846490d8.N7fc5</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se ha finalizado el proceso de Formalizaci√≥n correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-a05fe2d.N10db1d9e.0.1537b877372.N7f92</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinFormalizacion-Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="InicioCierre">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="PipelinePairNode1">
                                <con:request>request-a050a04.N25d7da4f.0.155c3a7d2a2.N7eb7</con:request>
                                <con:response>response-a050a04.N25d7da4f.0.155c3a7d2a2.N7eb6</con:response>
                            </con:pipeline-node>
                            <con:route-node name="RouteNodeInicioCierre" error-handler="error-a050a04.N25d7da4f.0.155c3a7d2a2.N7e3b">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7ead</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Cierre/PS/InicioCierre_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>InicioCierre</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7e33</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>Inicio Cierre Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7e30</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>response inicio Cierre</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinCierre">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinCierre" error-handler="error-a050a04.N25d7da4f.0.155c3a7d2a2.N7dba">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7e2c</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Cierre/PS/FinCierre_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>FinCierre</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7db2</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinCierre-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7dac</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se ha finalizado el proceso de Cierre correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-a050a04.N25d7da4f.0.155c3a7d2a2.N7daf</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinCierre-Request</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="InicioGestionCobro">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="InicioGestionCobro">
                                <con:request>request-a050aa0.5eef3fad.0.15705ac9c1c.N7f8f</con:request>
                                <con:response>response-a050aa0.5eef3fad.0.15705ac9c1c.N7f8e</con:response>
                            </con:pipeline-node>
                            <con:route-node name="RouteNodeInicioGestionCobro" error-handler="error-a050aa0.5eef3fad.0.15705ac9c1c.N7f10">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7f88</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/GestionCobro/PS/InicioGestionCobro_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>InicioGestionCobro</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7f85</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioGestionCobro_Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7f82</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioGestionCobro_Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinGestionCobro">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinGestionCobro" error-handler="error-a050aa0.5eef3fad.0.15705ac9c1c.N7ed1">
                                <con:context>
                                    <con2:userNsDecl prefix="ges" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/GestionCobroProcess"/>
                                </con:context>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7f4b</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/GestionCobro/PS/FinGestionCobro_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>FinGestionCobro</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7f48</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinGestionCobro_Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7f41</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se ha finalizado el proceso GestionCobro correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-a050aa0.5eef3fad.0.15705ac9c1c.N7f44</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinGestion_Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="InicioSeguimientoCobro">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="InicioSeguimientoCobro">
                                <con:request>request-N56014e6b.N388e36ef.0.157aae3135b.N7ff9</con:request>
                                <con:response>response-N56014e6b.N388e36ef.0.157aae3135b.N7ff8</con:response>
                            </con:pipeline-node>
                            <con:route-node name="RouteNodeInicioSeguimientoCobro" error-handler="error-N56014e6b.N388e36ef.0.157aae3135b.N7fe7">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-N56014e6b.N388e36ef.0.157aae3135b.N7ff2</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/GestionCobro/PS/InicioSeguimientoCobro_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>InicioSeguimientoCobro</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N56014e6b.N388e36ef.0.157aae3135b.N7fef</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioSeguimientoCobro_Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N56014e6b.N388e36ef.0.157aae3135b.N7fec</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioSeguimientoCobro_Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinSeguimientoCobro">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinSeguimientoCobro" error-handler="error-N56014e6b.N1908f3c.0.157b0d5439c.N7f93">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-N56014e6b.N1908f3c.0.157b0d5439c.N7f9e</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/GestionCobro/PS/FinSeguimientoCobro_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>FinSeguimientoCobro</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N56014e6b.N1908f3c.0.157b0d5439c.N7f9a</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinSeguimientoCobro_Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N56014e6b.N1908f3c.0.157b0d5439c.N7f94</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se ha finalizado el proceso SeguimientoCobro correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-N56014e6b.N1908f3c.0.157b0d5439c.N7f97</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinSeguimientoCobro_Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="InicioDesembolso">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="InicioDesembolso_PP">
                                <con:request>request-N3f57c7ff.ccd1834.0.157e2a357c4.N7ff0</con:request>
                                <con:response>response-N3f57c7ff.ccd1834.0.157e2a357c4.N7fef</con:response>
                            </con:pipeline-node>
                            <con:route-node name="InicioDesembolso_RN" error-handler="error-N3f57c7ff.ccd1834.0.157e2a357c4.N7dac">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fce</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Desembolso/PS/InicioDesembolso_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>InicioDesembolso</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fcb</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioDesembolso_REQUEST</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fc8</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioDesembolso_RESPONSE</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinDesembolso">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinDesembolso_RN" error-handler="error-N3f57c7ff.ccd1834.0.157e2a357c4.N7d2e">
                                <con:context>
                                    <con2:userNsDecl prefix="des" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/DesembolsoProcess"/>
                                </con:context>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7d3a</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Desembolso/PS/FinDesembolso_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>FinDesembolso</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7d37</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body/des:FinDesembolso</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinDesembolso_REQUEST</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7d31</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se ha finalizado el proceso Desembolso correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7d34</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body/des:FinDesembolso</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinDesembolso_RESPONSE</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="InicioValidacionAsignacion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="InicioValidacionAsignacion_PP">
                                <con:request>request-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f5a</con:request>
                                <con:response>response-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f59</con:response>
                            </con:pipeline-node>
                            <con:route-node name="InicioValidacionAsignacion_RN" error-handler="error-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f35">
                                <con:context>
                                    <con2:userNsDecl prefix="des" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/DesembolsoProcess"/>
                                </con:context>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f60</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Desembolso/PS/InicioValidacionAsignacion_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>InicioValidacionAsignacion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f3c</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioValidacionAsignacion_REQUEST</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f39</con2:id>
                                                <con6:logLevel>debug</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioValidacionAsignacion_RESPONSE</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinValidacionAsignacion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinValidacionAsignacion_RN">
                                <con:context>
                                    <con2:userNsDecl prefix="des" namespace="http://xmlns.oracle.com/bpmn/bpmnProcess/DesembolsoProcess"/>
                                </con:context>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-N3f57c7ff.40f7ed2d.0.15801d3dd9c.N7f5b</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Desembolso/PS/FinValidacionAsignacion_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>FinValidacionAsignacion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N3f57c7ff.59f3233c.0.159af3d0301.N7ffe</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body/des:FinValidacionAsignacion</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinValidacionAsignacion_REQUEST</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N3f57c7ff.59f3233c.0.159af3d0301.N7ffb</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se ha finalizado el proceso de ValidacionAsignacion correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-N3f57c7ff.59f3233c.0.159af3d0301.N7ff8</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinValidacionAsignacion_RESPONSE</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="InicioDesembolsoExcepcion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="InicioDesembolsoExcepcion_PP">
                                <con:request>request-N3f57c7ff.ccd1834.0.157e2a357c4.N7e2a</con:request>
                                <con:response>response-N3f57c7ff.ccd1834.0.157e2a357c4.N7e29</con:response>
                            </con:pipeline-node>
                            <con:route-node name="InicioDesembolsoExcepcion_RN" error-handler="error-N3f57c7ff.ccd1834.0.157e2a357c4.N7fba">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fc4</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Desembolso/PS/InicioDesembolsoExcepcion_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>InicioDesembolsoExcepcion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fc1</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioDesembolsoExcepcion_REQUEST</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7fbe</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioDesembolsoExcepcion_RESPONSE</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinDesembolsoExcepcion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinDesembolsoExcepcion_RN" error-handler="error-N3f57c7ff.ccd1834.0.157e2a357c4.N7ecd">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7ed7</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Desembolso/PS/FinDesembolsoExcepcion_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>FinDesembolsoExcepcion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7ed4</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinDesembolsoExceocion_REQUEST</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7ece</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK '</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se ha finalizado el proceso de DesembolsoExcepcion correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-N3f57c7ff.ccd1834.0.157e2a357c4.N7ed1</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinDesembolsoExceocion_RESPONSE</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="InicioAprobacionCliente">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RouteNodeInicioAprobacionCliente" error-handler="error-a050a3e.N5b3c9236.0.1581c11e4b9.N7e9b">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-a050a3e.N5b3c9236.0.1581c11e4b9.N7ed2</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/AprobacionCliente/PS/InicioAprobacionCliente_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>InicioAprobacionCliente</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a050a3e.N5b3c9236.0.1581c11e4b9.N7ecf</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioAprobacionCliente_Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a050a3e.N5b3c9236.0.1581c11e4b9.N7ecc</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioAprobacionCliente_Response</con6:message>
                                            </con6:log>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-a050a3e.N5b3c9236.0.1581c11e4b9.N7db7</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se inicio el proceso AprobacionCliente correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinAprobacionCliente">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinAprobacionCliente" error-handler="error-a050a3e.50ee8b2b.0.1581d0787d2.N7fb0">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-a050a3e.50ee8b2b.0.1581d0787d2.N7fe1</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/AprobacionCliente/PS/FinAprobacionCliente_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>FinAprobacionCliente</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-a050a3e.50ee8b2b.0.1581d0787d2.N7f0b</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinAprobacionCliente-Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-a050a3e.50ee8b2b.0.1581d0787d2.N7f02</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se ha finalizado el proceso de AprobacionCliente correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-a050a3e.50ee8b2b.0.1581d0787d2.N7f08</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>FinAprobacionCliente-Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="InicioContratacionFormalizacion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="InicioContratacionFormalizacion" error-handler="error-N56014e6b.7b250ba0.0.158844b9a17.N7e4d">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7e54</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Formalizacion/PS/InicioContratacionFormalizacion_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>InicioContratacionFormalizacion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7e51</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioContratacionFormalizacion_Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7e4e</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>InicioContratacionFormalizacion_Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="FinContratacionFormalizacion">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="FinContratacionFormalizacion" error-handler="error-N56014e6b.7b250ba0.0.158844b9a17.N7d6d">
                                <con:context/>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7da8</con2:id>
                                        <con1:service ref="COMPOSICIONES/ProcesoNegocio/Formalizacion/PS/FinContratacionFormalizacion_PS" xsi:type="ref:ProxyRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>InicioContratacionFormalizacion</con1:operation>
                                        <con1:outboundTransform>
                                            <con6:log>
                                                <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7da5</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>ContratacionFormalizacion_Request</con6:message>
                                            </con6:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7d71</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="COMPOSICIONES/ProcesoNegocio/XQUERY/InicioProcesoPrincipalResponse"/>
                                                        <con2:param name="result">
                                                            <con2:path>'OK'</con2:path>
                                                        </con2:param>
                                                        <con2:param name="mensaje">
                                                            <con2:path>'Se ha finalizado el proceso de ContratacionFormalizacion correctamente'</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con6:log>
                                                <con2:id>_ActionId-N56014e6b.7b250ba0.0.158844b9a17.N7d6e</con2:id>
                                                <con6:logLevel>info</con6:logLevel>
                                                <con6:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con6:expr>
                                                <con6:message>ContratacionFormalizacion_Response</con6:message>
                                            </con6:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:default-branch>
                        <con:flow/>
                    </con:default-branch>
                </con:branch-table>
            </con:branch-node>
        </con:flow>
    </con:router>
</con:pipelineEntry>