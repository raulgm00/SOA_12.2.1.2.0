package org.bcie.fenix.common.model.vo;

import java.sql.Timestamp;

import oracle.adf.share.logging.ADFLogger;

import oracle.jbo.Row;
import oracle.jbo.server.ViewObjectImpl;

import org.bcie.fenix.common.model.vo.common.ConsultaFechaTransRecursosBydesembolso;

// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Wed Apr 12 18:05:16 CDT 2017
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class ConsultaFechaTransRecursosBydesembolsoImpl extends ViewObjectImpl implements ConsultaFechaTransRecursosBydesembolso {
    
    private static ADFLogger logger = null;
    
    public ConsultaFechaTransRecursosBydesembolsoImpl(){
        if (logger == null) {
            logger = ADFLogger.createADFLogger(this.getClass());
        }
    }

    /**
     * Returns the bind variable value for pIdContrato.
     * @return bind variable value for pIdContrato
     */
    public Long getpIdContrato() {
        return (Long) getNamedWhereClauseParam("pIdContrato");
    }

    /**
     * Sets <code>value</code> for bind variable pIdContrato.
     * @param value value to bind as pIdContrato
     */
    public void setpIdContrato(Long value) {
        setNamedWhereClauseParam("pIdContrato", value);
    }
    
    
    public Timestamp obtenerFechatransferenciaRecursos(Long idContrato){
        logger.warning("*Inf, inicia metodo obtenerFechatransferenciaRecursos para cotrato: "+idContrato);  
        Timestamp fechatransferenciaRecursos = null;
        Row fila = null;
        
        if(idContrato == null){
            logger.warning("***Error parametro idContrato es requerido");  
        }
                    
        setpIdContrato(idContrato);
        executeQuery();
        
        logger.warning("*Inf, numero de registros asociados al contrato : "+getEstimatedRowCount());  
        
        if(getEstimatedRowCount() > 0){
         
            fila = first();    
          
            if(fila.getAttribute("FechaTransferenciaRecursos") == null ||  fila.getAttribute("FechaTransferenciaRecursos").toString().equals("")){
                  logger.warning("*Inf, Importante! no se pudo recuperar el valor de fecha el registro first");
            }else{
                  logger.warning("*Inf, recuperando valor del row first...");
                  fechatransferenciaRecursos =  (Timestamp) fila.getAttribute("FechaTransferenciaRecursos");   
            }
            
        }else{                         
                logger.warning("*Inf, Importante! no se encontaron registros asociados al contrato ");  
        }
                        
        logger.warning("*Inf, termina el metodo obtenerFechatransferenciaRecursos valor fecha recuperado: "+fechatransferenciaRecursos);  
        return fechatransferenciaRecursos;
    }


   
}

