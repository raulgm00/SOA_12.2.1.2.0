<?xml version="1.0" encoding="windows-1252" ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">
<!---->
<ViewObject
  xmlns="http://xmlns.oracle.com/bc4j"
  Name="QPreguntaVO"
  Version="12.1.3.10.8"
  InheritPersonalization="merge"
  BindingStyle="OracleName"
  CustomQuery="true"
  PageIterMode="Full"
  ComponentClass="org.bcie.fenix.common.model.vo.QPreguntaVOImpl"
  ComponentInterface="org.bcie.fenix.common.model.vo.common.QPreguntaVO"
  ClientProxyName="org.bcie.fenix.common.model.vo.client.QPreguntaVOClient"
  FetchSize="51"
  FetchMode="FETCH_AS_NEEDED"
  QueryHint="FIRST_ROWS(50)"
  RangeSize="51"
  RowClass="org.bcie.fenix.common.model.vo.QPreguntaVORowImpl">
  <DesignTime>
    <Attr Name="_isExpertMode" Value="true"/>
    <Attr Name="_codeGenFlag2" Value="Coll|VarAccess"/>
    <Attr Name="_isCodegen" Value="true"/>
  </DesignTime>
  <Properties>
    <SchemaBasedProperties>
      <LABEL
        ResId="org.bcie.fenix.common.model.vo.QPreguntaVO_LABEL"/>
    </SchemaBasedProperties>
  </Properties>
  <Variable
    Name="varIdOperacion"
    Kind="where"
    Type="java.lang.Long"/>
  <Variable
    Name="varIdPregunta"
    Kind="viewcriteria"
    Type="java.lang.Long"/>
  <SQLQuery><![CDATA[SELECT PreguntaEO.ID_PREGUNTA,              
PreguntaEO.PREGUNTA,              
PreguntaEO.RESPUESTA,              
PreguntaEO.JUSTIFICACION,              
PreguntaEO.EVIDENCIA,              
PreguntaEO.ID_CAT_PREGUNTA,              
PreguntaEO.ID_CUESTIONARIO,              
PreguntaEO.USUARIO,        
PreguntaEO.ID_DOCUMENTO,      
Preguntas.ID_TIPO_PREGUNTA,              
Preguntas.ID_RESPONSABLE,              
Preguntas.ID_PRINCIPIO,              
Preguntas.ID_CRITERIO,              
Preguntas.NUM_ORDEN,              
Rol.DESCRIPCION as RESPONSABLE,              
Principio.DESCRIPCION as PRINCIPIO,              
Criterio.DESCRIPCION as CRITERIO,              
(SELECT              
LISTAGG(DESC_OPCION, ',') WITHIN GROUP (ORDER BY ID)   AS t_varchar2_tab              
FROM "FENIX".TRE_PREGUNTA_OPCION              
where ID_PREGUNTA = PreguntaEO.ID_CAT_PREGUNTA              
GROUP BY ID_PREGUNTA)              
as OPCIONES,                    
ADJ.FILENAME   NOMBRE_DOCUMENTO           
FROM "FENIX".PREGUNTA PreguntaEO    
INNER JOIN "FENIX".CAT_PREGUNTAS Preguntas ON PreguntaEO.ID_CAT_PREGUNTA = Preguntas.ID              
INNER JOIN "FENIX".CAT_CRITERIO Criterio ON Preguntas.ID_CRITERIO = Criterio.ID              
INNER JOIN "FENIX".CAT_PRINCIPIO Principio ON Preguntas.ID_PRINCIPIO = Principio.ID              
INNER JOIN "FENIX".TCA_ROL_BPM Rol ON Preguntas.ID_RESPONSABLE = Rol.ID              
LEFT JOIN "FENIX".ADJUNTO ADJ ON ADJ.ID_DOCUMENTO = PreguntaEO.ID_DOCUMENTO              
WHERE ID_CUESTIONARIO = (SELECT ID_CUESTIONARIO              
FROM "FENIX".CUESTIONARIO              
where BAN_ESTATUS = 1              
and ID_OPERACION = :varIdOperacion              
and ROWNUM = 1)              
ORDER BY Preguntas.ID_RESPONSABLE,Preguntas.ID_PRINCIPIO,Preguntas.ID_CRITERIO,Preguntas.NUM_ORDEN]]></SQLQuery>
  <EntityUsage
    Name="PreguntaEO"
    Entity="org.bcie.fenix.common.model.eo.PreguntaEO"/>
  <ViewAttribute
    Name="IdPregunta"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="IdPregunta"
    EntityUsage="PreguntaEO"
    AliasName="ID_PREGUNTA"/>
  <ViewAttribute
    Name="Pregunta"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="Pregunta"
    EntityUsage="PreguntaEO"
    AliasName="PREGUNTA"/>
  <ViewAttribute
    Name="Respuesta"
    PrecisionRule="true"
    EntityAttrName="Respuesta"
    EntityUsage="PreguntaEO"
    AliasName="RESPUESTA"/>
  <ViewAttribute
    Name="Justificacion"
    PrecisionRule="true"
    EntityAttrName="Justificacion"
    EntityUsage="PreguntaEO"
    AliasName="JUSTIFICACION"/>
  <ViewAttribute
    Name="Evidencia"
    PrecisionRule="true"
    EntityAttrName="Evidencia"
    EntityUsage="PreguntaEO"
    AliasName="EVIDENCIA"/>
  <ViewAttribute
    Name="IdCatPregunta"
    PrecisionRule="true"
    EntityAttrName="IdCatPregunta"
    EntityUsage="PreguntaEO"
    AliasName="ID_CAT_PREGUNTA"/>
  <ViewAttribute
    Name="IdCuestionario"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="IdCuestionario"
    EntityUsage="PreguntaEO"
    AliasName="ID_CUESTIONARIO"/>
  <ViewAttribute
    Name="Usuario"
    PrecisionRule="true"
    EntityAttrName="Usuario"
    EntityUsage="PreguntaEO"
    AliasName="USUARIO"/>
  <ViewAttribute
    Name="IdDocumento"
    PrecisionRule="true"
    EntityAttrName="IdDocumento"
    EntityUsage="PreguntaEO"
    AliasName="ID_DOCUMENTO"/>
  <ViewAttribute
    Name="IdTipoPregunta"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="5"
    Scale="0"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="ID_TIPO_PREGUNTA"
    Expression="ID_TIPO_PREGUNTA"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="IdResponsable"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="5"
    Scale="0"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="ID_RESPONSABLE"
    Expression="ID_RESPONSABLE"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="IdPrincipio"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="5"
    Scale="0"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="ID_PRINCIPIO"
    Expression="ID_PRINCIPIO"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="IdCriterio"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="5"
    Scale="0"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="ID_CRITERIO"
    Expression="ID_CRITERIO"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="NumOrden"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="3"
    Scale="0"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="NUM_ORDEN"
    Expression="NUM_ORDEN"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="Responsable"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="255"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="RESPONSABLE"
    Expression="RESPONSABLE"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="255"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="Principio"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="255"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="PRINCIPIO"
    Expression="PRINCIPIO"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="255"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="Criterio"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="255"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="CRITERIO"
    Expression="CRITERIO"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="255"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="Opciones"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="4000"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="OPCIONES"
    Expression="OPCIONES"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="4000"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="NombreDocumento"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="500"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="NOMBRE_DOCUMENTO"
    Expression="NOMBRE_DOCUMENTO"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="120"/>
    </DesignTime>
  </ViewAttribute>
  <ViewCriteria
    Name="preguntaPorIdVOCriteria"
    ViewObjectName="org.bcie.fenix.common.model.vo.QPreguntaVO"
    Conjunction="AND">
    <Properties>
      <CustomProperties>
        <Property
          Name="displayOperators"
          Value="InAdvancedMode"/>
        <Property
          Name="autoExecute"
          Value="false"/>
        <Property
          Name="allowConjunctionOverride"
          Value="true"/>
        <Property
          Name="showInList"
          Value="true"/>
        <Property
          Name="mode"
          Value="Basic"/>
      </CustomProperties>
    </Properties>
    <ViewCriteriaRow
      Name="QPreguntaVOCriteria_row_0"
      UpperColumns="1">
      <ViewCriteriaItem
        Name="IdPregunta"
        ViewAttribute="IdPregunta"
        Operator="="
        Conjunction="AND"
        Value=":varIdPregunta"
        ValidateBindVars="true"
        IsBindVarValue="true"
        Required="Required"/>
    </ViewCriteriaRow>
  </ViewCriteria>
  <ClientInterface
    Name="__clientInterface">
    <Method
      Name="setvarIdOperacion"
      MethodName="setvarIdOperacion">
      <Return
        Name="_return_type_"
        Type="void"/>
      <Parameter
        Name="value"
        Type="java.lang.Long"/>
    </Method>
    <Method
      Name="agregarEvidenciaPorId"
      MethodName="agregarEvidenciaPorId">
      <Return
        Name="_return_type_"
        Type="java.lang.Boolean"/>
      <Parameter
        Name="id"
        Type="java.lang.Long"/>
      <Parameter
        Name="idDocumento"
        Type="java.lang.Long"/>
    </Method>
  </ClientInterface>
  <ResourceBundle>
    <PropertiesBundle
      PropertiesFile="org.bcie.fenix.common.model.FenixModelBundle"/>
  </ResourceBundle>
</ViewObject>
