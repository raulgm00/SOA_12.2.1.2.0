package org.bcie.fenix.common.model.vo;

import java.util.logging.Logger;

import oracle.adf.share.logging.ADFLogger;

import oracle.jbo.Row;
import oracle.jbo.server.ViewObjectImpl;

import org.bcie.aprobacionmo.ConsultarAprobacionResponseType;
import org.bcie.fenix.common.model.vo.common.RegistrarDatosAprobacionVO;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Tue Dec 15 00:11:43 CST 2015
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class RegistrarDatosAprobacionVOImpl
  extends ViewObjectImpl implements RegistrarDatosAprobacionVO {
  
    private static ADFLogger logger = null;
  
  public RegistrarDatosAprobacionVOImpl(){
      if (logger == null) {
          logger = ADFLogger.createADFLogger(this.getClass());
      }
  }

  public Row inicializarRow(Integer piIdNivelAprobacion, Integer piTipoSolicitud)
  {
    this.clearCache();
    Row newRow = this.createRow();
    
    newRow.setAttribute(RegistrarDatosAprobacionVORowImpl.ID, 1);
    newRow.setAttribute(RegistrarDatosAprobacionVORowImpl.IDNIVELAPROBACION, piIdNivelAprobacion); //TODO
    newRow.setAttribute(RegistrarDatosAprobacionVORowImpl.IDTIPOSOLICITUD, piTipoSolicitud); //TODO
    this.insertRow(newRow);
    
    setCurrentRow(newRow);
    return newRow;
  }

  public void getCargarAprobacion(ConsultarAprobacionResponseType aprobacionResponse, Row newAprobacionRow){
      
    logger.warning("*Inf, inicia metodo getCargarAprobacion");  
      
    if(null != aprobacionResponse.getAprobacion().getFechaAprobacion())
      newAprobacionRow.setAttribute(RegistrarDatosAprobacionVORowImpl.FECHAAPROBACION, aprobacionResponse.getAprobacion().getFechaAprobacion().toGregorianCalendar().getTime());
    
        newAprobacionRow.setAttribute(RegistrarDatosAprobacionVORowImpl.NUMERORESOLUCION, aprobacionResponse.getAprobacion().getNumeroResolucion());
        newAprobacionRow.setAttribute(RegistrarDatosAprobacionVORowImpl.RESUMEN, aprobacionResponse.getAprobacion().getResumen());
        logger.warning("Tipo moneda: " + aprobacionResponse.getAprobacion().getIdTipoMonedaMontoAprobacion());
        newAprobacionRow.setAttribute(RegistrarDatosAprobacionVORowImpl.IDTCATIPOMONEDA, aprobacionResponse.getAprobacion().getIdTipoMonedaMontoAprobacion());
		newAprobacionRow.setAttribute(RegistrarDatosAprobacionVORowImpl.MONTO, aprobacionResponse.getAprobacion().getMontoAprobacion());
        newAprobacionRow.setAttribute(RegistrarDatosAprobacionVORowImpl.CONTRATOID, aprobacionResponse.getAprobacion().getIdContrato());  
        newAprobacionRow.setAttribute(RegistrarDatosAprobacionVORowImpl.APROBACIONID, aprobacionResponse.getAprobacion().getIdAprobacion());
     
        try{
          logger.warning("*Inf, IdAprobacion: "+newAprobacionRow.getAttribute("AprobacionId"));  
        }catch(Exception e){
           logger.warning("*Inf, ha ocurrido un error al recuperar el valod de AprobacionId");  
        }
      
      logger.warning("*Inf, termina metodo getCargarAprobacion");  
  }
  
  
    public Row getCurrentRegistrarDatosAprovacionVO(){
          logger.warning("*Inf, inicia metodo getCurrentRegistrarDatosAprovacionVO");  
           
           Row fila = null; 
           
           if(getCurrentRow() != null){
                fila = getCurrentRow();
                logger.warning("*Inf, IdAprobacion recuperado: "+fila.getAttribute("AprobacionId"));  
           }else{
                logger.warning("*Inf, Important! no se pudo recuperar el current de RegistrarDatosAprobacionVO");
            }
          
          logger.warning("*Inf, termina metodo getCurrentRegistrarDatosAprovacionVO");
        return fila;
      }
  
  
}

